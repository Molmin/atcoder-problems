{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>500</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p>縦 <var>H</var> 行、横 <var>W</var> 列からなるマス目があり、それぞれのマスは散らかっているか散らかっていないかのどちらかです。</p>\n<p>今からあなたはこのマス目のうち <var>0</var> 個以上の散らかっていないマスに照明を置きます。</p>\n<p>照明は置かれたマスの上下左右の <var>4</var> 方向に、マス目の端もしくは最初に散らかっているマスにぶつかる直前まで照らします (散らかっているマスは照らされません)。照明は、置かれたマス自身も照らします。</p>\n<p>整数 <var>H, W</var> と <var>H</var> 個の長さ <var>W</var> の文字列 <var>S_i</var> が与えられます。 <var>S_i</var> の <var>j</var> 文字目が <code>.</code> のとき、上から <var>i</var> 行目、左から\n<var>j</var> 列目のマスは散らかっていません。<var>S_i</var> の <var>j</var> 文字目が <code>#</code> のとき、上から <var>i</var> 行目、左から\n<var>j</var> 列目のマスは散らかっています。</p>\n<p>散らかっていないマスの個数を <var>K</var> 個だとすると、照明の置き方は全部で <var>2^K</var> 通りあります。\nこの <var>2^K</var> 通りそれぞれについて、<var>1</var> 個以上の照明によって照らされるマスの個数を計算したときの総和を <var>1,000,000,007</var> で割ったあまりを求めてください。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>1 \\leq H \\leq 2000</var></li>\n<li><var>1 \\leq W \\leq 2000</var></li>\n<li><var>S_i</var> は <code>.</code> と <code>#</code> のみからなる長さ <var>W</var> の文字列</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>\n<pre><var>H</var> <var>W</var>\n<var>S_1</var>\n<var>:</var>\n<var>S_H</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p><var>2^K</var> 通りそれぞれについて、<var>1</var> 個以上の照明によって照らされるマスの個数を計算したときの総和を <var>1,000,000,007</var> で割ったあまりを出力せよ。</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>1 5\n..#..\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>48\n</pre>\n\n<p>全部で照明の置き方は <var>16</var> 通りあります。</p>\n<ul>\n<li>このうち <var>9</var> 通り (左から <var>1</var> 番目か <var>2</var> 番目の少なくとも一方に照明が置かれている、かつ左から <var>4</var> 番目か <var>5</var> 番目の少なくとも一方に照明が置かれている) では、<var>4</var> マスが照らされます。</li>\n<li>このうち <var>3</var> 通り (左から <var>1</var> 番目か <var>2</var> 番目の少なくとも一方に照明が置かれている、かつ左から <var>4</var> 番目と <var>5</var> 番目のどちらにも照明が置かれていない) では、<var>2</var> マスが照らされます。</li>\n<li>このうち <var>3</var> 通り (左から <var>4</var> 番目か <var>5</var> 番目の少なくとも一方に照明が置かれている、かつ左から <var>1</var> 番目と <var>2</var> 番目のどちらにも照明が置かれていない) では、<var>2</var> マスが照らされます。</li>\n<li>このうち <var>1</var> 通り (照明が <var>1</var> つも置かれていない) では、<var>0</var> マスが照らされます。</li>\n</ul>\n<p>求める総和は <var>4 \\times 9 + 2 \\times 3 + 2 \\times 3 + 0 \\times 1 = 48</var> となります。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>2 3\n..#\n#..\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>52\n</pre></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>500</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>We have a grid with <var>H</var> horizontal rows and <var>W</var> vertical columns of squares, where each square is tidy or untidy.</p>\n<p>You will now place lamps on zero or more tidy squares in this grid.</p>\n<p>A lamp will lighten the squares in each of the four directions - up, down, left, and right - to the point just before an edge of the grid or an untidy square is reached for the first time (the untidy square will not be lighted). The lamp will also lighten the square on which it is placed.</p>\n<p>Given are integers <var>H</var>, <var>W</var>, and <var>H</var> strings <var>S_i</var> of length <var>W</var> each.\nIf the <var>j</var>-th character of <var>S_i</var> is <code>.</code>, the square at the <var>i</var>-th row from the top and the <var>j</var>-th column from the left is tidy; if the <var>j</var>-th character of <var>S_i</var> is <code>#</code>, the square at the <var>i</var>-th row from the top and the <var>j</var>-th column from the left is untidy.</p>\n<p>Let <var>K</var> be the number of tidy squares. There are <var>2^K</var> ways to place the lamps in total.\nAssume that, for each of these <var>2^K</var> ways, the number of squares lightened by one or more lamps is computed. Find the sum of those numbers modulo <var>1,000,000,007</var>.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>1 \\leq H \\leq 2000</var></li>\n<li><var>1 \\leq W \\leq 2000</var></li>\n<li><var>S_i</var> is a string of length <var>W</var> consisting of <code>.</code> and <code>#</code>.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>Input is given from Standard Input in the following format:</p>\n<pre><var>H</var> <var>W</var>\n<var>S_1</var>\n<var>:</var>\n<var>S_H</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>Print the sum, modulo <var>1,000,000,007</var>, of the numbers of squares lightened by one or more lamps over the <var>2^K</var> ways to place the lamps.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>1 5\n..#..\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>48\n</pre>\n\n<p>There are <var>16</var> ways to place the lamps in total.</p>\n<ul>\n<li>In <var>9</var> of the ways (where at least one of the <var>1</var>-st and <var>2</var>-nd squares from the left contains a lamp and at least one of the <var>4</var>-th and <var>5</var>-th squares from the left contains a lamp), <var>4</var> squares will be lighted.</li>\n<li>In <var>3</var> of the ways (where at least one of the <var>1</var>-st and <var>2</var>-nd squares from the left contains a lamp but none of the <var>4</var>-th and <var>5</var>-th squares from the left contains a lamp), <var>2</var> squares will be lighted.</li>\n<li>In another <var>3</var> of the ways (where none of the <var>1</var>-st and <var>2</var>-nd squares from the left contains a lamp but at least one of the <var>4</var>-th and <var>5</var>-th squares from the left contains a lamp), <var>2</var> squares will be lighted.</li>\n<li>In <var>1</var> of the ways (where no square contains a lamp), <var>0</var> squares will be lighted.</li>\n</ul>\n<p>The sum in question is <var>4 \\times 9 + 2 \\times 3 + 2 \\times 3 + 0 \\times 1 = 48</var>.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>2 3\n..#\n#..\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>52\n</pre></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/hhkb2020/tasks/hhkb2020_e"}