{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>600</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p>この問題は <strong>インタラクティブ</strong> な問題であり、 <strong>ジャッジは適応的(adaptive)</strong> です。詳しくは注意点を参照してください。<br>\n<strong>また、問題文中のパラメータは <var>N=1000,M=10,Q=950</var> で固定されています。</strong></p>\n<p>硬貨が <var>N</var> 枚あり、 <var>1,2,\\dots,N</var> の番号が付けられています。<br>\nこれらの硬貨のうち、丁度 <var>M</var> 枚が偽物です。</p>\n<p>鑑定士は <var>1</var> 度の鑑定で <var>2</var> つの硬貨が同種か異種かを判定できます。厳密には、</p>\n<ul>\n<li><var>2</var> つの硬貨が「双方とも本物」「双方とも偽物」のどちらかであれば、同種と判定する。</li>\n<li>そうでないとき、異種と判定する。</li>\n</ul>\n<p><var>Q</var> 回以下の鑑定で、全ての偽物の硬貨を特定してください。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>\\color{red}{N = 1000}</var></li>\n<li><var>\\color{red}{M = 10}</var></li>\n<li><var>\\color{red}{Q = 950}</var></li>\n</ul>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>入出力</h3><p>この問題はインタラクティブな問題です。<br>\n最初に、 <var>N,M,Q</var> を標準入力から受け取ってください。  </p>\n<pre><var>N</var> <var>M</var> <var>Q</var>\n</pre>\n\n<p><br></p>\n<p>次に、以下の流れで鑑定を <var>0</var> 回以上 <var>Q</var> 回以下行ってください。</p>\n<p>まず、次の形式で標準出力に出力することで、硬貨 <var>x,y</var> を鑑定することを表します。 (末尾に改行を入れること。)</p>\n<pre>? <var>x</var> <var>y</var>\n</pre>\n\n<p>ここで、 <var>x,y</var> は <var>1</var> 以上 <var>N</var> 以下の相異なる整数である必要があります。</p>\n<p>これに対するジャッジシステムの応答は、以下の <var>3</var> 通りです。</p>\n<pre>0\n</pre>\n\n<p>応答が <code>0</code> であるとき、硬貨 <var>x,y</var> が同種であることを表します。</p>\n<pre>1\n</pre>\n\n<p>応答が <code>1</code> であるとき、硬貨 <var>x,y</var> が異種であることを表します。</p>\n<pre>-1\n</pre>\n\n<p>応答が <code>-1</code> であるとき、不当な鑑定であることを表します。具体的には</p>\n<ul>\n<li>出力した <var>x,y</var> が制約を満たさなかった</li>\n<li><var>Q</var> 回を超えて鑑定が行われた</li>\n</ul>\n<p>の少なくともひとつが満たされた際にこの応答を行います。<br>\nこの応答を受け取った場合、プログラムはすでに不正解とみなされています。直ちにプログラムを終了してください。</p>\n<p><br></p>\n<p>最後に、次の形式で標準出力に出力することで、硬貨 <var>A_1,A_2,\\dots,A_{M}</var> が偽物であると解答します。 (末尾に改行を入れること。)</p>\n<pre>! <var>A_1</var> <var>A_2</var> <var>\\dots</var> <var>A_{M}</var>\n</pre>\n\n<p>ここで、 <var>A_i</var> は <var>1</var> 以上 <var>N</var> 以下の相異なる整数である必要があります。<br>\nこの出力の後、直ちにプログラムを終了してください。</p>\n<p>なお、全ての出力について、出力が指定された形式を満たさなかった場合もプログラムが不正解とみなされます。\nその後 <code>-1</code> が返答されるので、その場合も直ちにプログラムを終了してください。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>注意点</h3><ul>\n<li><span style=\"color:red\"><strong>出力を行うたびに、末尾に改行を入れて標準出力を flush してください。</strong></span> そうしなかった場合、ジャッジ結果が <span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"\" data-original-title=\"実行時間制限超過\">TLE</span> や <span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"\" data-original-title=\"不正解\">WA</span> となる可能性があります。</li>\n<li>解答を出力したら (または <code>-1</code> を受け取ったら) ただちにプログラムを終了してください。そうしない場合、ジャッジ結果は不定です。</li>\n<li>余計な改行は不正なフォーマットの出力とみなされることに注意してください。</li>\n<li><strong>この問題のジャッジシステムは、適応的(adaptive)です。</strong> つまり、ジャッジシステムは、任意のタイミングにおいて、整合性がとれる限り、偽物の硬貨として想定しているものを変更する可能性があります。詳しくは入出力例も参照してください。</li>\n</ul>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>入出力例</h3><p>この入力では <var>N=5,M=2,Q=10</var> であり、ジャッジシステムは最初硬貨 <var>1,2</var> が偽物であると想定しています。</p>\n<p>なお、この例は制約を満たさないので、ジャッジには含まれないことに注意してください。</p>\n<table class=\"table table-bordered\">\n\n<thead>\n<tr>\n<th>入力</th>\n<th>出力</th>\n<th>説明</th>\n</tr>\n</thead>\n\n<tbody>\n<tr>\n<td><code>5 2 10</code></td>\n<td></td>\n<td><var>N,M,Q</var> が与えられます。</td>\n</tr>\n\n<tr>\n<td></td>\n<td><code>? 1 2</code></td>\n<td>硬貨 <var>1,2</var> について鑑定を行います。</td>\n</tr>\n<tr>\n\n</tr><tr>\n<td><code>0</code></td>\n<td></td>\n<td>硬貨 <var>1,2</var> は同種だと判定します。</td>\n</tr>\n\n<tr>\n<td></td>\n<td><code>? 1 3</code></td>\n<td>硬貨 <var>1,3</var> について鑑定を行います。</td>\n</tr>\n<tr>\n\n</tr><tr>\n<td><code>1</code></td>\n<td></td>\n<td>硬貨 <var>1,3</var> は異種だと判定します。</td>\n</tr>\n\n<tr>\n<td></td>\n<td><code>? 1 4</code></td>\n<td>硬貨 <var>1,4</var> について鑑定を行います。</td>\n</tr>\n<tr>\n\n</tr><tr>\n<td><code>1</code></td>\n<td></td>\n<td>硬貨 <var>1,4</var> は異種だと判定します。</td>\n</tr>\n\n<tr>\n<td></td>\n<td><code>! 1 2</code></td>\n<td>硬貨 <var>1,2</var> が偽物だと解答します。</td>\n</tr>\n<tr>\n\n</tr><tr>\n<td></td>\n<td></td>\n<td>確かに硬貨 <var>1,2</var> は偽物だと想定されていますが、硬貨 <var>3,4</var> を偽物であると想定しても整合性が取れます。<br>よって、ジャッジシステムは偽物の硬貨として想定しているものを硬貨 <var>3,4</var> に変更できます。<br>これにより、ジャッジシステムは不正解の判定を下すこともあります。</td>\n</tr>\n<tr>\n\n</tr></tbody>\n</table></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>600</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>This problem is <strong>interactive</strong>, and the <strong>judge is adaptive</strong>. See the notes for details.<br>\n<strong>Also, the parameters in the problem statement are fixed at <var>N=1000</var>, <var>M=10</var>, <var>Q=950</var>.</strong></p>\n<p>There are <var>N</var> coins numbered <var>1, 2, \\dots, N</var>.<br>\nExactly <var>M</var> of these coins are counterfeit.</p>\n<p>An appraiser can, in one appraisal, determine whether two coins are of the same type or different types. Specifically:</p>\n<ul>\n<li>If the two coins are both genuine or both counterfeit, they are judged to be of the same type.</li>\n<li>Otherwise, they are judged to be of different types.</li>\n</ul>\n<p>Identify all the counterfeit coins using at most <var>Q</var> appraisals.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>\\color{red}{N = 1000}</var></li>\n<li><var>\\color{red}{M = 10}</var></li>\n<li><var>\\color{red}{Q = 950}</var></li>\n</ul>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Interaction</h3><p>This is an interactive problem.<br>\nInitially, receive <var>N</var>, <var>M</var>, and <var>Q</var> from Standard Input:</p>\n<pre><var>N</var> <var>M</var> <var>Q</var>\n</pre>\n\n<p><br></p>\n<p>Next, you can perform appraisals between <var>0</var> and <var>Q</var> times, inclusive, as follows.</p>\n<p>First, by outputting to Standard Output in the following format, you indicate that you are appraising coins <var>x</var> and <var>y</var>. (Include a newline at the end.)</p>\n<pre>? <var>x</var> <var>y</var>\n</pre>\n\n<p>Here, <var>x</var> and <var>y</var> must be distinct integers between <var>1</var> and <var>N</var>, inclusive.</p>\n<p>In response, the judge system will reply with one of the following three responses.</p>\n<pre>0\n</pre>\n\n<p>If the response is <code>0</code>, it means that coins <var>x</var> and <var>y</var> are of the same type.</p>\n<pre>1\n</pre>\n\n<p>If the response is <code>1</code>, it means that coins <var>x</var> and <var>y</var> are of different types.</p>\n<pre>-1\n</pre>\n\n<p>If the response is <code>-1</code>, it means that the appraisal is invalid. Specifically, this response is given when at least one of the following conditions is met:</p>\n<ul>\n<li>The outputted <var>x</var> and <var>y</var> does not satisfy the constraints.</li>\n<li>The number of appraisals exceeds <var>Q</var>.</li>\n</ul>\n<p>If you receive this response, your program is considered incorrect. Terminate your program immediately.</p>\n<p><br></p>\n<p>Finally, by outputting to Standard Output in the following format, you answer that coins <var>A_1, A_2, \\dots, A_{M}</var> are counterfeit. (Include a newline at the end.)</p>\n<pre>! <var>A_1</var> <var>A_2</var> <var>\\dots</var> <var>A_{M}</var>\n</pre>\n\n<p>Here, <var>A_i</var> must be distinct integers between <var>1</var> and <var>N</var>, inclusive.<br>\nAfter this output, terminate your program immediately.</p>\n<p>If any of your outputs do not meet the specified format, your program will be considered incorrect.\nThe judge will then respond with <code>-1</code>, so in that case, terminate your program immediately.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Notes</h3><ul>\n<li><span style=\"color:red\"><strong>Every time you output, include a newline at the end and flush Standard Output.</strong></span> Failure to do so may result in a verdict of <span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"\" data-original-title=\"Time Limit Exceeded\">TLE</span> or <span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"\" data-original-title=\"Wrong Answer\">WA</span>.</li>\n<li>After outputting your answer (or receiving <code>-1</code>), terminate your program immediately. Otherwise, the verdict is indeterminate.</li>\n<li>Beware that unnecessary newlines are considered as malformed.</li>\n<li><strong>The judge for this problem is adaptive.</strong> That is, at any point, as long as consistency can be maintained, the judge may change which coins are counterfeit. See the sample interaction for details.</li>\n</ul>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Interaction</h3><p>In this interaction, <var>N=5</var>, <var>M=2</var>, <var>Q=10</var>, and the judge initially considers coins <var>1</var> and <var>2</var> to be counterfeit.</p>\n<p>Note that this example does not meet the constraints and is not included in the judge.</p>\n<table class=\"table table-bordered\">\n\n<thead>\n<tr>\n<th>Input　</th>\n<th>Output</th>\n<th>Explanation</th>\n</tr>\n</thead>\n\n<tbody>\n<tr>\n<td><code>5 2 10</code></td>\n<td></td>\n<td><var>N</var>, <var>M</var>, and <var>Q</var> are given.</td>\n</tr>\n\n<tr>\n<td></td>\n<td><code>? 1 2</code></td>\n<td>You appraise coins <var>1</var> and <var>2</var>.</td>\n</tr>\n\n<tr>\n<td><code>0</code></td>\n<td></td>\n<td>Coins <var>1</var> and <var>2</var> are judged to be of the same type.</td>\n</tr>\n\n<tr>\n<td></td>\n<td><code>? 1 3</code></td>\n<td>You appraise coins <var>1</var> and <var>3</var>.</td>\n</tr>\n\n<tr>\n<td><code>1</code></td>\n<td></td>\n<td>Coins <var>1</var> and <var>3</var> are judged to be of different types.</td>\n</tr>\n\n<tr>\n<td></td>\n<td><code>? 1 4</code></td>\n<td>You appraise coins <var>1</var> and <var>4</var>.</td>\n</tr>\n\n<tr>\n<td><code>1</code></td>\n<td></td>\n<td>Coins <var>1</var> and <var>4</var> are judged to be of different types.</td>\n</tr>\n\n<tr>\n<td></td>\n<td><code>! 1 2</code></td>\n<td>You answer that coins <var>1</var> and <var>2</var> are counterfeit.</td>\n</tr>\n\n<tr>\n<td></td>\n<td></td>\n<td>Indeed, coins <var>1</var> and <var>2</var> are considered counterfeit, but it is also possible to consider coins <var>3</var> and <var>4</var> as counterfeit while maintaining consistency.<br>Therefore, the judge may change the counterfeit coins to <var>3</var> and <var>4</var>.<br>As a result, the judge may judge this answer as incorrect.</td>\n</tr>\n\n</tbody>\n</table></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/arc184/tasks/arc184_a"}