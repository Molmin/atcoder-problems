{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>600</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p>頂点に <var>1</var> から <var>N</var> の番号がついた木 <var>T</var> があります。 <var>T</var> の <var>i\\ (1\\leq i \\leq N-1)</var> 番目の辺は頂点 <var>u_i</var> と頂点 <var>v_i</var> を結んでいます。</p>\n<p><var>T</var> を用いて、<var>(1,2,\\ldots,N)</var> の順列 <var>P = (P_1,P_2,\\ldots,P_N)</var> の<strong>類似度</strong>を以下で定めます。</p>\n<ul>\n<li><var>T</var> 上の任意の単純パス <var>x=(x_1,x_2,\\ldots,x_k)</var> に対して、<var>y=(P_{x_1}, P_{x_2},\\ldots,P_{x_k})</var> とする。このとき、<var>x</var> と <var>y</var> の最長共通部分列の長さとして考えられる最大値を類似度とする。</li>\n</ul>\n<p>類似度が最小となるような順列 <var>P</var> を一つ構築してください。</p>\n<details>\n<summary>部分列とは</summary>\n\n数列の<strong>部分列</strong>とは、数列から <var>0</var> 個以上の要素を取り除いた後、残りの要素を元の順序で連結して得られる数列のことをいいます。\n例えば、<var>(10,30)</var> は <var>(10,20,30)</var> の部分列ですが、<var>(20,10)</var> は <var>(10,20,30)</var> の部分列ではありません。\n</details>\n\n<details> <summary>単純パスとは</summary>\nグラフ <var>G</var> 上の頂点 <var>X,Y</var> に対して、頂点列 <var>v_1,v_2, \\ldots, v_k</var> であって、\n<var>v_1=X</var>, <var>v_k=Y</var> かつ、<var>1\\leq i\\leq k-1</var> に対して <var>v_i</var> と\n<var>v_{i+1}</var> が辺で結ばれているようなものを頂点 <var>X</var> から頂点 <var>Y</var> への <strong>ウォーク</strong> と呼びます。  \nさらに、<var>v_1,v_2, \\ldots, v_k</var> がすべて異なるようなものを頂点 <var>X</var> から頂点 <var>Y</var> への <strong>単純パス</strong> (あるいは単に <strong>パス</strong>) と呼びます。\n</details>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>2 \\leq N \\leq 5000</var></li>\n<li><var>1\\leq u_i,v_i\\leq N</var></li>\n<li>与えられるグラフは木</li>\n<li>入力される数値は全て整数</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>\n<pre><var>N</var>\n<var>u_1</var> <var>v_1</var>\n<var>u_2</var> <var>v_2</var>\n<var>\\vdots</var>\n<var>u_{N-1}</var> <var>v_{N-1}</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>類似度が最小となるような順列 <var>P</var> を空白区切りで出力せよ。解が複数存在する場合、どれを出力しても正解とみなされる。</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>3\n1 2\n2 3\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>3 2 1\n</pre>\n<p>出力例の順列の類似度は <var>1</var> となっています。これは、以下のように計算できます。</p>\n<ul>\n<li>\n<p><var>x=(1)</var> のとき <var>y=(P_1)=(3)</var> です。<var>x,y</var> の最長共通部分列の長さは <var>0</var> です。</p>\n</li>\n<li>\n<p><var>x=(2)</var> のとき <var>y=(P_2)=(2)</var> です。<var>x,y</var> の最長共通部分列の長さは <var>1</var> です。</p>\n</li>\n<li>\n<p><var>x=(3)</var> のとき <var>y=(P_3)=(1)</var> です。<var>x,y</var> の最長共通部分列の長さは <var>0</var> です。</p>\n</li>\n<li>\n<p><var>x=(1,2)</var> のとき <var>y=(P_1,P_2)=(3,2)</var> です。<var>x,y</var> の最長共通部分列の長さは <var>1</var> です。 これを反転した <var>x=(2,1)</var> についても同様です。</p>\n</li>\n<li>\n<p><var>x=(2,3)</var> のとき <var>y=(P_2,P_3)=(2,1)</var> です。<var>x,y</var> の最長共通部分列の長さは <var>1</var> です。 これを反転した <var>x=(3,2)</var> についても同様です。</p>\n</li>\n<li>\n<p><var>x = (1,2,3)</var> のとき <var>y=(P_1,P_2,P_3)=(3,2, 1)</var> です。<var>x,y</var> の最長共通部分列の長さは <var>1</var> です。これを反転した <var>x=(3,2,1)</var> についても同様です。</p>\n</li>\n</ul>\n<p>類似度が <var>0</var> 以下の順列は存在しないことが証明できるので、これが答えとなります。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>4\n2 1\n2 3\n2 4\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>3 4 1 2\n</pre>\n<p>類似度が最小の順列が複数存在する場合、どれを出力してもよいです。例えば、<code>4 3 2 1</code> といった出力も正解になります。</p></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>600</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>We have a tree <var>T</var> with vertices numbered <var>1</var> to <var>N</var>. The <var>i</var>-th edge of <var>T</var> connects vertex <var>u_i</var> and vertex <var>v_i</var>.</p>\n<p>Let us use <var>T</var> to define the <strong>similarity</strong> of a permutation <var>P = (P_1,P_2,\\ldots,P_N)</var> of <var>(1,2,\\ldots,N)</var> as follows.</p>\n<ul>\n<li>For a simple path <var>x=(x_1,x_2,\\ldots,x_k)</var> in <var>T</var>, let <var>y=(P_{x_1}, P_{x_2},\\ldots,P_{x_k})</var>. The similarity is the maximum possible length of a longest common subsequence of <var>x</var> and <var>y</var>.</li>\n</ul>\n<p>Construct a permutation <var>P</var> with the minimum similarity.</p>\n<details>\n<summary>What is a subsequence?</summary>\n\nA <strong>subsequence</strong> of a sequence is a sequence obtained by removing zero or more elements from that sequence and concatenating the remaining elements without changing the relative order.\nFor instance, <var>(10,30)</var> is a subsequence of <var>(10,20,30)</var>, but <var>(20,10)</var> is not.\n</details>\n\n<details> <summary>What is a simple path?</summary>\nFor vertices <var>X</var> and <var>Y</var> in a graph <var>G</var>, a <strong>walk</strong> from <var>X</var> to <var>Y</var> is a sequence of vertices <var>v_1,v_2, \\ldots, v_k</var> such that <var>v_1=X</var>, <var>v_k=Y</var>, and there is an edge connecting <var>v_i</var> and <var>v_{i+1}</var>. A <strong>simple path</strong> (or simply a <strong>path</strong>) is a walk such that <var>v_1,v_2, \\ldots, v_k</var> are all different.\n</details>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>2 \\leq N \\leq 5000</var></li>\n<li><var>1\\leq u_i,v_i\\leq N</var></li>\n<li>The given graph is a tree.</li>\n<li>All numbers in the input are integers.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>The input is given from Standard Input in the following format:</p>\n<pre><var>N</var>\n<var>u_1</var> <var>v_1</var>\n<var>u_2</var> <var>v_2</var>\n<var>\\vdots</var>\n<var>u_{N-1}</var> <var>v_{N-1}</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>Print a permutation <var>P</var> with the minimum similarity, separated by spaces. If multiple solutions exist, you may print any of them.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>3\n1 2\n2 3\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>3 2 1\n</pre>\n<p>This permutation has a similarity of <var>1</var>, which can be computed as follows.</p>\n<ul>\n<li>\n<p>For <var>x=(1)</var>, we have <var>y=(P_1)=(3)</var>. The length of a longest common subsequence of <var>x</var> and <var>y</var> is <var>0</var>.</p>\n</li>\n<li>\n<p>For <var>x=(2)</var>, we have <var>y=(P_2)=(2)</var>. The length of a longest common subsequence of <var>x</var> and <var>y</var> is <var>1</var>.</p>\n</li>\n<li>\n<p>For <var>x=(3)</var>, we have <var>y=(P_2)=(1)</var>. The length of a longest common subsequence of <var>x</var> and <var>y</var> is <var>0</var>.</p>\n</li>\n<li>\n<p>For <var>x=(1,2)</var>, we have <var>y=(P_1,P_2)=(3,2)</var>. The length of a longest common subsequence of <var>x</var> and <var>y</var> is <var>1</var>. The same goes for <var>x=(2,1)</var>, the reversal of <var>(1,2)</var>.</p>\n</li>\n<li>\n<p>For <var>x=(2,3)</var>, we have <var>y=(P_2,P_3)=(2,1)</var>. The length of a longest common subsequence of <var>x</var> and <var>y</var> is <var>1</var>. The same goes for <var>x=(3,2)</var>, the reversal of <var>(2,3)</var>.</p>\n</li>\n<li>\n<p>For <var>x=(1,2,3)</var>, we have <var>y=(P_1,P_2,P_3)=(3,2,1)</var>. The length of a longest common subsequence of <var>x</var> and <var>y</var> is <var>1</var>. The same goes for <var>x=(3,2,1)</var>, the reversal of <var>(1,2,3)</var>.</p>\n</li>\n</ul>\n<p>We can prove that no permutation has a similarity of <var>0</var> or less, so this permutation is a valid answer.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>4\n2 1\n2 3\n2 4\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>3 4 1 2\n</pre>\n<p>If multiple permutations have the minimum similarity, you may print any of them. For instance, you may also print <code>4 3 2 1</code>.</p></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/arc156/tasks/arc156_c"}