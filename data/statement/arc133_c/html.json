{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>500</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p><var>H</var> 行 <var>W</var> 列からなるマス目があります．</p>\n<p>すぬけくんは，各マスに <var>0</var> 以上 <var>K-1</var> 以下の整数を書き込もうとしています．\nここで，以下の条件を満たす必要があります．</p>\n<ul>\n<li>各 <var>1 \\leq i \\leq H</var> について，<var>i</var> 行目にあるマスに書かれた整数の総和を <var>K</var> で割った余りは <var>A_i</var> である．</li>\n<li>各 <var>1 \\leq i \\leq W</var> について，<var>i</var> 列目にあるマスに書かれた整数の総和を <var>K</var> で割った余りは <var>B_i</var> である．</li>\n</ul>\n<p>条件を満たすようにマスに整数を書き込むことができるかどうか判定し，また可能な場合は，書き込む整数の総和としてありうる最大値を求めてください．</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>1 \\leq H,W \\leq 200000</var></li>\n<li><var>2 \\leq K \\leq 200000</var></li>\n<li><var>0 \\leq A_i \\leq K-1</var></li>\n<li><var>0 \\leq B_i \\leq K-1</var></li>\n<li>入力される値はすべて整数である</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる．</p>\n<pre><var>H</var> <var>W</var> <var>K</var>\n<var>A_1</var> <var>A_2</var> <var>\\cdots</var> <var>A_H</var>\n<var>B_1</var> <var>B_2</var> <var>\\cdots</var> <var>B_W</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>条件を満たすようにマスに整数を書き込むことが不可能な場合，<code>-1</code> と出力せよ．\n可能な場合，書き込む整数の総和としてありうる最大値を出力せよ．</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>2 4 3\n0 2\n1 2 2 0\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>11\n</pre>\n\n<p>以下のように書き込めば良いです．</p>\n<pre>-----------------\n| 2 | 0 | 2 | 2 |\n-----------------\n| 2 | 2 | 0 | 1 |\n-----------------\n</pre>\n\n<p>この書き方は条件を満たしています．\n例えば <var>1</var> 行目に書かれた整数の総和は <var>6</var> であり，これを <var>K(=3)</var> で割ったあまりは <var>A_1(=0)</var> になっています．</p>\n<p>この書き方では整数の総和は <var>11</var> になっており，これはありうる最大値です．</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>3 3 4\n0 1 2\n1 2 3\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>-1\n</pre></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>500</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>We have a grid with <var>H</var> rows and <var>W</var> columns.</p>\n<p>Snuke is going to write in each square an integer between <var>0</var> and <var>K-1</var> (inclusive).\nHere, the conditions below must be satisfied.</p>\n<ul>\n<li>For each <var>1 \\leq i \\leq H</var>, the sum modulo <var>K</var> of the integers written in the <var>i</var>-th row is <var>A_i</var>.</li>\n<li>For each <var>1 \\leq i \\leq W</var>, the sum modulo <var>K</var> of the integers written in the <var>i</var>-th column is <var>B_i</var>.</li>\n</ul>\n<p>Determine whether it is possible to write integers in the squares to satisfy the conditions. If it is possible, also find the maximum possible sum of the integers written.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>1 \\leq H,W \\leq 200000</var></li>\n<li><var>2 \\leq K \\leq 200000</var></li>\n<li><var>0 \\leq A_i \\leq K-1</var></li>\n<li><var>0 \\leq B_i \\leq K-1</var></li>\n<li>All values in input are integers.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>Input is given from Standard Input in the following format:</p>\n<pre><var>H</var> <var>W</var> <var>K</var>\n<var>A_1</var> <var>A_2</var> <var>\\cdots</var> <var>A_H</var>\n<var>B_1</var> <var>B_2</var> <var>\\cdots</var> <var>B_W</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>If it is impossible to write integers in the squares to satisfy the conditions, print <code>-1</code>.\nIf it is possible, print the maximum possible sum of the integers written.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>2 4 3\n0 2\n1 2 2 0\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>11\n</pre>\n\n<p>The following should be written.</p>\n<pre>-----------------\n| 2 | 0 | 2 | 2 |\n-----------------\n| 2 | 2 | 0 | 1 |\n-----------------\n</pre>\n\n<p>We can see that the conditions are satisfied.\nFor example, the sum of the integers in the <var>1</var>-st row is <var>6</var>, which modulo <var>K(=3)</var> is <var>A_1(=0)</var>.</p>\n<p>The sum of the integers written here is <var>11</var>, which is the maximum possible value.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>3 3 4\n0 1 2\n1 2 3\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>-1\n</pre></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/arc133/tasks/arc133_c"}