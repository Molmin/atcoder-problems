{"html":{"ja":"<span class=\"lang-ja\">\n\n<div class=\"part\">\n<section>\n<h3>ストーリー</h3><p>AtCoder社の倉庫には <var>n</var> 個のダンボール箱があり、<var>m</var> 個の山に分けて垂直に積まれている。\n各箱には <var>1,\\cdots,n</var> の番号がちょうど一つずつ書かれており、番号の小さい方から1つずつ順番に倉庫から運び出したい。\nある箱を運び出すためには、その上に積まれている全ての箱を別の山へ移動させておく必要がある。\n高橋社長はとても力持ちなので、積み重なった箱を一度に何箱でも持ち上げて動かすことが出来るが、持ち上げる箱の個数に応じて体力を消費してしまう。\n出来るだけ体力消費が少なくなるような運び出し方を求めて欲しい。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p><var>1,\\cdots,n</var> の番号がちょうど一つずつ書かれた <var>n</var> 個のダンボール箱があり、<var>m</var> 個の山に分けて積まれている。\n番号 <var>v(1\\leq v\\leq n)</var> の書かれた箱を「箱 <var>v</var>」、左から <var>i(1\\leq i\\leq m)</var> 番目の山を「山 <var>i</var>」と呼ぶことにする。\n山の個数 <var>m</var> は <var>n</var> を割り切り、各山 <var>i</var> には <var>n/m</var> 個の箱が垂直に積まれており、箱の番号は下から順に <var>b_{i,1},b_{i,2},\\cdots,b_{i,n/m}</var> である。</p>\n<p>以下の2種類の操作を最大で <var>5000</var> 回繰り返すことが出来る。</p>\n<ol>\n<li>まだ運び出されていない箱 <var>v (1\\leq v\\leq n)</var> を一つ選ぶ。箱 <var>v</var> とその上に積まれている全ての箱を現在の山から取り除き、別の山 <var>i(1\\leq i\\leq m)</var> の上へそのままの順序で移動する。箱 <var>v</var> の属する山 <var>i'</var> に積まれている箱が下から順に <var>b_{i',1},\\cdots,b_{i',h'}</var>であり、<var>b_{i',j}=v</var> であったとする。また、移動先の山 <var>i</var> に積まれている箱が下から順に <var>b_{i,1},\\cdots,b_{i,h}</var> であったとする。この操作後に山 <var>i'</var> は <var>b_{i',1},\\cdots,b_{i',j-1}</var> となり、山 <var>i</var> は <var>b_{i,1},\\cdots,b_{i,h},b_{i',j},\\cdots,b_{i',h'}</var> となる。この操作により動かした箱の個数を <var>k=h'-j+1</var> とすると、<var>k+1</var> の体力を消費する。<var>i=i'</var>の場合、この操作により何も変化せず、ただ体力を浪費する。</li>\n<li>残っている全ての箱の中で一番小さい番号が <var>v</var> であり、箱 <var>v</var> が山の一番上に積まれているならば、箱 <var>v</var> を外に運び出すことが出来る。この操作は体力を消費しない。</li>\n</ol>\n<p>操作1で新たな山 <var>i&gt;m</var> を作成することは出来ないが、操作 <var>2</var> によって全ての箱が運び出されて空となった山 <var>i(1\\leq i\\leq m)</var> のスペースに操作1で箱を移動させることは可能である。</p>\n<p>全ての箱を運び出す操作列であって、合計の体力消費量が出来るだけ少ないものを求めて欲しい。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>得点</h3><p><var>5000</var> 回以下の操作回数で全ての箱を運び出すことが出来た場合、合計の体力消費量を <var>V</var> として、<var>\\max(1, 10000-V)</var> の得点が得られる。\n全ての箱を運び出すことが出来なかった場合や、不正な操作列(範囲外の値や既に運び出された箱を指定、もしくは操作2で条件を満たさない箱を指定)を出力した場合、<span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"不正解\">WA</span> と判定される。</p>\n<p>合計で 150 個のテストケースがあり、各テストケースの得点の合計が提出の得点となる。\n一つ以上のテストケースで不正な出力や制限時間超過をした場合、提出全体の判定が<span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"不正解\">WA</span>や<span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"実行時間制限超過\">TLE</span>となる。\nコンテスト時間中に得た最高得点で最終順位が決定され、コンテスト終了後のシステムテストは行われない。 同じ得点を複数の参加者が得た場合、提出時刻に関わらず同じ順位となる。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>\n<pre><var>n</var> <var>m</var>\n<var>b_{1,1}</var> <var>\\cdots</var> <var>b_{1,n/m}</var>\n<var>\\vdots</var>\n<var>b_{m,1}</var> <var>\\cdots</var> <var>b_{m,n/m}</var>\n</pre>\n\n<p>箱の個数 <var>n</var> と山の個数 <var>m</var> は全てのテストケースで <var>n=200</var>、<font color=\"red\"><var>m=10</var></font> で固定である。\n<var>b_{i,j}</var> は山 <var>i</var> の下から <var>j</var> 番目の箱の番号を表し、<var>1\\leq b_{i,j}\\leq n</var> を満たす。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p><var>k</var> 回目の操作を2つの整数 <var>(v_k,i_k)</var> によって以下のように表す。</p>\n<ol>\n<li>操作1を用いて箱 <var>v(1\\leq v\\leq n)</var> とその上に積まれている全ての箱を別の山 <var>i(1\\leq i\\leq m)</var> に移動する場合、<var>(v_k,i_k)=(v,i)</var>。</li>\n<li>操作2を用いて箱 <var>v</var> を運び出す場合、<var>(v_k,i_k)=(v,0)</var>。</li>\n</ol>\n<p>求めた操作列を <var>(v_1,i_1),\\cdots,(v_K,i_K)</var> (<var>K\\leq 5000</var>) としたとき、以下の形式で標準出力に出力せよ。</p>\n<pre><var>v_1</var> <var>i_1</var>\n<var>\\vdots</var>\n<var>v_K</var> <var>i_K</var>\n</pre>\n\n<p><a href=\"https://img.atcoder.jp/ahc026/lPQezTZx.html?lang=ja&amp;seed=0&amp;output=sample\">例を見る</a></p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>入力生成方法</h3><p>箱の番号は <var>1,\\cdots,n</var> の整数をランダムな順に並び替え、<var>n/m</var>個ずつに区切ることにより生成される。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>ツール(入力ジェネレータ・ビジュアライザ)</h3><ul>\n<li><a href=\"https://img.atcoder.jp/ahc026/lPQezTZx.html?lang=ja\">Web版</a>: ローカル版より高性能でアニメーション表示が可能です。</li>\n<li><a href=\"https://img.atcoder.jp/ahc026/lPQezTZx.zip\">ローカル版</a>: 使用するには<a href=\"https://www.rust-lang.org/ja\">Rust言語</a>のコンパイル環境をご用意下さい。<ul>\n<li><a href=\"https://img.atcoder.jp/ahc026/lPQezTZx_windows.zip\">Windows用のコンパイル済みバイナリ</a>: Rust言語の環境構築が面倒な方は代わりにこちらをご利用下さい。</li>\n</ul>\n</li>\n</ul>\n<p>コンテスト期間中に、ビジュアライズ結果の共有や、解法・考察に関する言及は禁止されています。ご注意下さい。</p></section>\n</div>\n</div>\n</span>","en":"<span class=\"lang-en\">\n\n<div class=\"part\">\n<section>\n<h3>Story</h3><p>AtCoder has <var>n</var> cardboard boxes in a warehouse, which are divided into <var>m</var> vertical stacks.\nEach box is labeled with a unique number from <var>1,\\cdots,n</var>, and CEO Takahashi wants to carry them out of the warehouse one by one in ascending order of their numbers.\nIn order to carry out a box, he needs to move all the boxes on top of it to another stack.\nAs Takahashi is a very strong man, he can lift and move as many boxes in a stack at a time, but he expends energy depending on the number of boxes he lifts.\nPlease find a way to carry the boxes out that expends as little energy as possible.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>There are <var>n</var> cardboard boxes, each labeled with a unique number from <var>1,\\cdots,n</var>, divided into <var>m</var> stacks.\nWe refer to the box labeled with the number <var>v(1\\leq v\\leq n)</var> as \"box <var>v</var>\" and the <var>i(1\\leq i\\leq m)</var>-th stack from the left as \"stack <var>i</var>\".\nThe number of stacks <var>m</var> is a divisor of <var>n</var>, and each stack <var>i</var> contains <var>n/m</var> boxes, with numbers <var>b_{i,1},b_{i,2},\\cdots,b_{i,n/m}</var> from bottom to top.</p>\n<p>You can repeat the following two types of operations up to <var>5000</var> times.</p>\n<ol>\n<li>Choose one box <var>v (1\\leq v\\leq n)</var> that has not yet been carried out. Remove box <var>v</var> and all boxes above it from the current stack and move them to the top of another stack <var>i(1\\leq i\\leq m)</var> in the same order. Assume that in the stack <var>i'</var> to which box <var>v</var> belongs, the boxes are numbered <var>b_{i',1}, \\cdots, b_{i',h'}</var> from bottom to top, with <var>b_{i',j} = v</var>. Also, assume that the boxes in the destination stack <var>i</var> are numbered <var>b_{i,1}, \\cdots, b_{i,h}</var> from bottom to top. After this operation, stack <var>i'</var> will become <var>b_{i',1}, \\cdots, b_{i',j-1}</var>, and stack <var>i</var> will become <var>b_{i,1}, \\cdots, b_{i,h}, b_{i',j}, \\cdots, b_{i',h'}</var>. Let the number of boxes moved by this operation be <var>k = h' - j + 1</var>. Then, <var>k+1</var> units of energy will be expended. If <var>i=i'</var>, this operation changes nothing and just wastes energy.</li>\n<li>If the smallest number among all the remaining boxes is <var>v</var>, and box <var>v</var> is at the top of a stack, then box <var>v</var> can be carried out. This operation does not expend energy.</li>\n</ol>\n<p>Operation 1 cannot create a new stack <var>i&gt;m</var>, but it can move boxes into an empty stack <var>i(1\\leq i\\leq m)</var> after all boxes have been carried out from it by operation 2.</p>\n<p>Please find a sequence of operations that carries out all the boxes with as little total energy expenditure as possible.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Scoring</h3><p>If all the boxes are carried out with less or equal to <var>5000</var> operations, and the total energy expenditure is <var>V</var>, you will obtain a score of <var>\\max(1, 10000-V)</var>.\nIf you failed to carry out all the boxes, or if you output an illegal operation sequence (specifying out-of-range values or a box that has already been carried out, or specifying a box that does not satisfy the condition in operation 2), it is judged as <span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Wrong Answer\">WA</span>.</p>\n<p>There are <var>150</var> test cases, and the score of a submission is the total score for each test case.\nIf your submission produces an illegal output or exceeds the time limit for some test cases, the submission itself will be judged as <span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Wrong Answer\">WA</span> or <span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Time Limit Exceeded\">TLE</span> , and the score of the submission will be zero.\nThe highest score obtained during the contest will determine the final ranking, and there will be no system test after the contest.\nIf more than one participant gets the same score, they will be ranked in the same place regardless of the submission time.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>Input is given from Standard Input in the following format:</p>\n<pre><var>n</var> <var>m</var>\n<var>b_{1,1}</var> <var>\\cdots</var> <var>b_{1,n/m}</var>\n<var>\\vdots</var>\n<var>b_{m,1}</var> <var>\\cdots</var> <var>b_{m,n/m}</var>\n</pre>\n\n<p>The number of boxes <var>n</var> and the number of stacks <var>m</var> are fixed at <var>n=200</var> and <font color=\"red\"><var>m=10</var></font> in all the test cases.\nThe number <var>b_{i,j}</var> represents the number of the <var>j</var>-th box from the bottom of stack <var>i</var>, and satisfies <var>1\\leq b_{i,j}\\leq n</var>.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>Let the <var>k</var>-th operation be represented by the two integers <var>(v_k,i_k)</var> as follows.</p>\n<ol>\n<li>If you use operation 1 to move box <var>v(1\\leq v\\leq n)</var> and all the boxes stacked on it to another stack <var>i(1\\leq i\\leq m)</var>, then <var>(v_k,i_k)=(v,i)</var>.</li>\n<li>If you use operation 2 to carry out box <var>v</var>, <var>(v_k,i_k)=(v,0)</var>.</li>\n</ol>\n<p>Output the obtained sequence of operations <var>(v_1,i_1),\\cdots,(v_K,i_K)</var> (<var>K\\leq 5000</var>) to Standard Output in the following format:</p>\n<pre><var>v_1</var> <var>i_1</var>\n<var>\\vdots</var>\n<var>v_K</var> <var>i_K</var>\n</pre>\n\n<p><a href=\"https://img.atcoder.jp/ahc026/lPQezTZx.html?lang=en&amp;seed=0&amp;output=sample\">Show example</a></p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Input Generation</h3><p>The box numbers are generated by randomly shuffling the integers from <var>1</var> to <var>n</var> and then dividing them into groups of <var>n/m</var> each.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Tools (Input generator and visualizer)</h3><ul>\n<li><a href=\"https://img.atcoder.jp/ahc026/lPQezTZx.html?lang=en\">Web version</a>: This is more powerful than the local version providing animations.</li>\n<li><a href=\"https://img.atcoder.jp/ahc026/lPQezTZx.zip\">Local version</a>: You need a compilation environment of <a href=\"https://www.rust-lang.org/\">Rust language</a>.<ul>\n<li><a href=\"https://img.atcoder.jp/ahc026/lPQezTZx_windows.zip\">Pre-compiled binary for Windows</a>: If you are not familiar with the Rust language environment, please use this instead.</li>\n</ul>\n</li>\n</ul>\n<p>Please be aware that sharing visualization results or discussing solutions/ideas during the contest is prohibited.</p></section>\n</div>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/ahc026/tasks/ahc026_a"}