{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>900</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p>シカのAtCoDeerくんは正方形のタイルを <var>N</var> 枚持っています。 各正方形の片面には <var>1～N</var> の数が書いてあって、正方形の各頂点にはそれぞれ色が塗られています。色は <var>0～999</var>の整数で表され、 <var>i</var> と書かれた正方形に塗られている色は、数の書かれている方向から見て左上、右上、右下、左下 の順に、 <var>C_{i,0},C_{i,1},C_{i,2},C_{i,3}</var> で与えられます(図<var>1</var>を参照)。</p>\n<div style=\"text-align: center;\">\n<img src=\"https://atcoder.jp/img/arc062/b8ec940254d280135500dab6d00d4370.png\">\n<p>図<var>1</var>: タイルの色と入力の対応</p>\n</div>\n\n<p>AtCoDeerくんはこれらのタイルを<var>6</var>枚組み合わせて次のような条件を満たす立方体を作ろうと考えました。</p>\n<ul>\n<li>数の書いてある面が外側を向いている</li>\n<li>立方体の各頂点に対し、そこに集まる正方形の頂点は<var>3</var>つあるが、それらには全て同じ色が塗られている</li>\n</ul>\n<p>AtCoDeerくんのために条件を満たす立方体が何通りあるか求めてください。ただし、正方形には数が書いてあるので、色の構成が同じだとしても使ったタイルが異なったり、使ったタイルの向き(<var>90°</var>回転により<var>4</var>通り考えられる)が異なるものは異なる立方体とみなします。 ただし、3次元空間で回転させることで使ったタイルの向きまで完全に一致するものは同じ立方体とみなします。</p>\n<div style=\"text-align: center;\">\n<img src=\"https://atcoder.jp/img/arc062/8c7552f20698dab0aad52bba476fe6d7.png\">\n<p>図<var>2</var>: 4方向のタイルの向き</p>\n</div>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>6≦N≦400</var></li>\n<li><var>0≦C_{i,j}≦999 (1≦i≦N , 0≦j≦3)</var></li>\n</ul>\n</section>\n</div>\n\n<hr>\n\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>\n<pre><var>N</var>\n<var>C_{1,0}</var> <var>C_{1,1}</var> <var>C_{1,2}</var> <var>C_{1,3}</var>\n<var>C_{2,0}</var> <var>C_{2,1}</var> <var>C_{2,2}</var> <var>C_{2,3}</var>\n<var>:</var>\n<var>C_{N,0}</var> <var>C_{N,1}</var> <var>C_{N,2}</var> <var>C_{N,3}</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>AtCoDeerくんが作れる立方体が何通りあるか出力せよ。</p>\n</section>\n</div>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>6\n0 1 2 3\n0 4 6 1\n1 6 7 2\n2 7 5 3\n6 4 5 7\n4 0 3 5\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>1\n</pre>\n\n<p>下図のような立方体が作れます。</p>\n<p><img alt=\"\" src=\"https://atcoder.jp/img/arc062/094fbca5395bfaaea28c98c51230693b.png\"></p>\n</section>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>8\n0 0 0 0\n0 0 1 1\n0 1 0 1\n0 1 1 0\n1 0 0 1\n1 0 1 0\n1 1 0 0\n1 1 1 1\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>144\n</pre>\n\n</section>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>入力例 3</h3><pre>6\n0 0 0 0\n0 0 0 0\n0 0 0 0\n0 0 0 0\n0 0 0 0\n0 0 0 0\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 3</h3><pre>122880\n</pre></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>900</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>AtCoDeer the deer has <var>N</var> square tiles. The tiles are numbered <var>1</var> through <var>N</var>, and the number given to each tile is written on one side of the tile. Also, each corner of each tile is painted in one of the <var>1000</var> colors, which are represented by the integers <var>0</var> between <var>999</var>. The top-left, top-right, bottom-right and bottom-left corner of the tile with the number <var>i</var> are painted in color <var>C_{i,0}, C_{i,1}, C_{i,2}</var> and <var>C_{i,3}</var>, respectively, when seen in the direction of the number written on the tile (See Figure <var>1</var>).</p>\n<div style=\"text-align: center;\">\n<img src=\"https://atcoder.jp/img/arc062/b8ec940254d280135500dab6d00d4370.png\">\n<p>Figure <var>1</var>: The correspondence between the colors of a tile and the input</p>\n</div>\n\n<p>AtCoDeer is constructing a cube using six of these tiles, under the following conditions:</p>\n<ul>\n<li>For each tile, the side with the number must face outward.</li>\n<li>For each vertex of the cube, the three corners of the tiles that forms it must all be painted in the same color.</li>\n</ul>\n<p>Help him by finding the number of the different cubes that can be constructed under the conditions.\nSince each tile has a number written on it, two cubes are considered different if the set of the used tiles are different, or the tiles are used in different directions, even if the formation of the colors are the same. (Each tile can be used in one of the four directions, obtained by <var>90°</var> rotations.) Two cubes are considered the same only if rotating one in the three dimensional space can obtain an exact copy of the other, including the directions of the tiles.</p>\n<div style=\"text-align: center;\">\n<img src=\"https://atcoder.jp/img/arc062/8c7552f20698dab0aad52bba476fe6d7.png\">\n<p>Figure <var>2</var>: The four directions of a tile</p>\n</div>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>6≦N≦400</var></li>\n<li><var>0≦C_{i,j}≦999 (1≦i≦N , 0≦j≦3)</var></li>\n</ul>\n</section>\n</div>\n\n<hr>\n\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>The input is given from Standard Input in the following format:</p>\n<pre><var>N</var>\n<var>C_{1,0}</var> <var>C_{1,1}</var> <var>C_{1,2}</var> <var>C_{1,3}</var>\n<var>C_{2,0}</var> <var>C_{2,1}</var> <var>C_{2,2}</var> <var>C_{2,3}</var>\n<var>:</var>\n<var>C_{N,0}</var> <var>C_{N,1}</var> <var>C_{N,2}</var> <var>C_{N,3}</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>Print the number of the different cubes that can be constructed under the conditions.</p>\n</section>\n</div>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>6\n0 1 2 3\n0 4 6 1\n1 6 7 2\n2 7 5 3\n6 4 5 7\n4 0 3 5\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>1\n</pre>\n\n<p>The cube below can be constructed.</p>\n<p><img alt=\"\" src=\"https://atcoder.jp/img/arc062/094fbca5395bfaaea28c98c51230693b.png\"></p>\n</section>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>8\n0 0 0 0\n0 0 1 1\n0 1 0 1\n0 1 1 0\n1 0 0 1\n1 0 1 0\n1 1 0 0\n1 1 1 1\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>144\n</pre>\n\n</section>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>Sample Input 3</h3><pre>6\n0 0 0 0\n0 0 0 0\n0 0 0 0\n0 0 0 0\n0 0 0 0\n0 0 0 0\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 3</h3><pre>122880\n</pre></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/arc062/tasks/arc062_c"}