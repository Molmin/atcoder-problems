{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>1000</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p>数直線上に，すぬけくんと <var>N+M</var> 人の子供が立っています．</p>\n<p>時刻 <var>0</var> の彼らの位置は以下のようなものです．</p>\n<ul>\n<li>すぬけくんは座標 <var>0</var> にいる．</li>\n<li><var>N</var> 人の子供は座標が負の位置におり，このうち <var>i</var> 番目の子供は座標 <var>-L_i</var> にいる．</li>\n<li><var>M</var> 人の子供は座標が正の位置におり，このうち <var>i</var> 番目の子供は座標 <var>R_i</var> にいる．</li>\n</ul>\n<p>今から彼らは鬼ごっこを開始します．\n具体的には，彼らは以下の行動をします．</p>\n<ul>\n<li>\n<p>すぬけくんは最初に，<var>N</var> 個の <code>L</code> と <var>M</var> 個の <code>R</code> からなる文字列 <var>s</var> を一つ選ぶ．\nその後，各 <var>i=1,2,\\cdots,N+M</var> について以下の操作を行う．</p>\n<ul>\n<li><var>s</var> の <var>i</var> 文字目が <code>L</code> なら，座標が負の方向へ速度 <var>2</var> で移動を開始する．</li>\n<li><var>s</var> の <var>i</var> 文字目が <code>R</code> なら，座標が正の方向へ速度 <var>2</var> で移動を開始する．</li>\n<li>子供を一人捕まえた（座標が一致した）時点で，次の <var>i</var> での操作に移る．\nなお，<var>i=N+M</var> の場合は鬼ごっこが終了となる．</li>\n</ul>\n</li>\n<li>\n<p>すべての子供は，すぬけくんから遠ざかる方向へ常に速度 <var>1</var> で移動し続ける．</p>\n</li>\n</ul>\n<p>すぬけくんが最初に選ぶことができる文字列 <var>s</var> 全てについて鬼ごっこが終了する時刻を求めたときの，それらの値の総和を <var>998244353</var> で割った余りを求めてください．</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>3 \\leq N,M \\leq 250000</var></li>\n<li><var>1 \\leq L_1 &lt; L_2 &lt; \\cdots &lt; L_N &lt; 998244353</var></li>\n<li><var>1 \\leq R_1 &lt; R_2 &lt; \\cdots &lt; R_M &lt; 998244353</var></li>\n<li>入力される値はすべて整数である</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる．</p>\n<pre><var>N</var> <var>M</var>\n<var>L_1</var> <var>L_2</var> <var>\\cdots</var> <var>L_N</var>\n<var>R_1</var> <var>R_2</var> <var>\\cdots</var> <var>R_M</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>答えを出力せよ．</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>3 3\n1 2 3\n1 2 3\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>2748\n</pre>\n\n<p>例えば，<var>s=</var><code>LRRLLR</code> の場合は，以下のようにゲームが進行します．</p>\n<ul>\n<li>時刻 <var>0</var>: すぬけくんが負の方向へ移動を開始する．</li>\n<li>時刻 <var>1</var>: すぬけくんが座標 <var>-2</var> で子供を捕まえた後，正の方向へ移動を開始する．</li>\n<li>時刻 <var>5</var>: すぬけくんが座標 <var>6</var> で子供を捕まえた後，正の方向へ移動を開始する．</li>\n<li>時刻 <var>6</var>: すぬけくんが座標 <var>8</var> で子供を捕まえた後，負の方向へ移動を開始する．</li>\n<li>時刻 <var>22</var>: すぬけくんが座標 <var>-24</var> で子供を捕まえた後，負の方向へ移動を開始する．</li>\n<li>時刻 <var>23</var>: すぬけくんが座標 <var>-26</var> で子供を捕まえたあと，正の方向へ移動を開始する．</li>\n<li>時刻 <var>75</var>: すぬけくんが座標 <var>78</var> で子供を捕まえ，鬼ごっこが終了する．</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>7 5\n89789743 196247866 205535557 542612813 782887985 889864096 899373580\n539329402 618885430 714090971 717251433 860233092\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>937403116\n</pre></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>1000</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>Snuke and <var>N+M</var> children are standing on a number line.</p>\n<p>At time <var>0</var>, they are at the following positions.</p>\n<ul>\n<li>Snuke is at coordinate <var>0</var>.</li>\n<li><var>N</var> children are at negative coordinates. The <var>i</var>-th of them is at coordinate <var>-L_i</var>.</li>\n<li><var>M</var> children are at positive coordinates. The <var>i</var>-th of them is at coordinate <var>R_i</var>.</li>\n</ul>\n<p>They will now play a game of tag.\nSpecifically, they will do the following actions.</p>\n<ul>\n<li>Snuke first chooses a string <var>s</var> consisting of <var>N</var> <code>L</code>s and <var>M</var> <code>R</code>s.\nThen, for each <var>i=1,2,\\cdots,N+M</var>, he does the following.<ul>\n<li>If the <var>i</var>-th character of <var>s</var> is <code>L</code>, start moving at a speed of <var>2</var> in the negative direction.</li>\n<li>If the <var>i</var>-th character of <var>s</var> is <code>R</code>, start moving at a speed of <var>2</var> in the positive direction.</li>\n<li>When having caught a child (by occupying the same coordinate), go to the next <var>i</var>, or end the game if <var>i=N+M</var>.</li>\n</ul>\n</li>\n<li>Every child keeps moving at a speed of <var>1</var> in the direction away from Snuke.</li>\n</ul>\n<p>Assume that we have found the time when the game ends for every <var>s</var> that Snuke can choose in the beginning. Find the sum of all those values, modulo <var>998244353</var>.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>3 \\leq N,M \\leq 250000</var></li>\n<li><var>1 \\leq L_1 &lt; L_2 &lt; \\cdots &lt; L_N &lt; 998244353</var></li>\n<li><var>1 \\leq R_1 &lt; R_2 &lt; \\cdots &lt; R_M &lt; 998244353</var></li>\n<li>All values in input are integers.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>Input is given from Standard Input in the following format:</p>\n<pre><var>N</var> <var>M</var>\n<var>L_1</var> <var>L_2</var> <var>\\cdots</var> <var>L_N</var>\n<var>R_1</var> <var>R_2</var> <var>\\cdots</var> <var>R_M</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>Print the answer.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>3 3\n1 2 3\n1 2 3\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>2748\n</pre>\n\n<p>For example, if <var>s=</var><code>LRRLLR</code>, the game goes as follows.</p>\n<ul>\n<li>At time <var>0</var>: Snuke starts moving in the negative direction.</li>\n<li>At time <var>1</var>: Snuke catches a child at coordinate <var>-2</var> and starts moving in the positive direction.</li>\n<li>At time <var>5</var>: Snuke catches a child at coordinate <var>6</var> and starts moving in the positive direction.</li>\n<li>At time <var>6</var>: Snuke catches a child at coordinate <var>8</var> and starts moving in the negative direction.</li>\n<li>At time <var>22</var>: Snuke catches a child at coordinate <var>-24</var> and starts moving in the negative direction.</li>\n<li>At time <var>23</var>: Snuke catches a child at coordinate <var>-26</var> and starts moving in the positive direction.</li>\n<li>At time <var>75</var>: Snuke catches a child at coordinate <var>78</var> and ends the game.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>7 5\n89789743 196247866 205535557 542612813 782887985 889864096 899373580\n539329402 618885430 714090971 717251433 860233092\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>937403116\n</pre></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/arc129/tasks/arc129_f"}