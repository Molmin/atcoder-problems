{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>1200</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p><var>N</var> 棟のマンションが数直線上に並んでおり、<var>1</var> から <var>N</var> までの番号がついています。\nマンション <var>i</var> は座標 <var>X_i</var> の位置にあります。\nまた、AtCoder 社は座標 <var>S</var> の位置にあります。\nAtCoder 社の社員は皆、<var>N</var> 棟のうちいずれかのマンションに住んでいます。\nマンション <var>i</var> に住んでいる社員の人数は <var>P_i</var> です。</p>\n<p>いま、AtCoder 社の社員全員が、一斉に帰宅しようとしています。\n彼らは仕事で疲れているため、AtCoder 社の所有するバスでの帰宅を望んでいます。\nAtCoder 社の所有するバスは <var>1</var> 台しかありませんが、社員全員を乗せることができます。\nこのバスは、社員全員を乗せて座標 <var>S</var> から出発し、次のようなルールで動きます。</p>\n<ul>\n<li>\n<p>バスに乗っている全員（このバスは自動運転であり、運転手はいないものとする）で、正の方向へ進むか負の方向へ進むかの投票を行う。\n各社員 <var>1</var> 票ずつ投票し、棄権は許されない。\nその後、得票数の多い方向へ、距離 <var>1</var> だけ移動する。\nなお、得票数が同じ場合は、負の方向へ移動する。\nもし移動した後の座標にマンションがあるなら、そこに住む社員全員が降りる。</p>\n</li>\n<li>\n<p>バスに社員が乗っている限り、上の操作を繰り返す。</p>\n</li>\n</ul>\n<p>具体例については、入出力例 <var>1</var> の説明を参照してください。</p>\n<p>バスは、距離 <var>1</var> 進むのにちょうど <var>1</var> 秒かかります。\nまた、投票や降車にかかる時間は無視できます。</p>\n<p>AtCoder 社の社員は全員、自分がバスを降りるまでの時間を最小化するように投票します。\n厳密にいうと、ある投票の際には、各社員は、バスがどちらに動いたとき自分の帰宅が早いか (社員全員が今後同じ戦略に従うとして) 考えます。\n各社員は、この情報をもとに最適な選択を行いますが、バスがどちらの方向に動いても帰宅までの時間が変わらないときは、負の方向へ投票します。</p>\n<p>この時、バスが AtCoder 社を出発してから、最後に社員がバスを降りるまでにかかる時間が何秒かを求めてください。\nなお、マンションの位置、住人の数、バスの位置が与えられたとき、バスがどのように動くかは一意に定まることが証明できます。\nまた、有限時間にすべての社員が帰宅することも証明できます。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>1 \\leq N \\leq 10^5</var></li>\n<li><var>1 \\leq S \\leq 10^9</var></li>\n<li><var>1 \\leq X_1 &lt; X_2 &lt; ... &lt; X_N \\leq 10^9</var></li>\n<li><var>X_i \\neq S</var> ( <var>1 \\leq i \\leq N</var> )</li>\n<li><var>1 \\leq P_i \\leq 10^9</var> ( <var>1 \\leq i \\leq N</var> )</li>\n<li>入力はすべて整数である。</li>\n</ul>\n</section>\n</div>\n\n<hr>\n\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>\n<pre><var>N</var> <var>S</var>\n<var>X_1</var> <var>P_1</var>\n<var>X_2</var> <var>P_2</var>\n<var>:</var>\n<var>X_N</var> <var>P_N</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>バスが出発してから最後に社員がバスを降りるまでにかかる時間が何秒かを出力せよ。</p>\n</section>\n</div>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>3 2\n1 3\n3 4\n4 2\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>4\n</pre>\n\n<p>最初にバスが負の方向へ動いたとしましょう。\nすると、バスの座標は <var>2 → 1</var> と変化し、マンション <var>1</var> の住人が降車します。\nその後のバスの動きは明らかで、正の方向へ移動し続けます。\nよって、最初にバスが負の方向へ動く場合は、出発してからバスの座標は <var>2 → 1 → 2 → 3 → 4</var> と変化することになり、\nマンション <var>1</var>, <var>2</var>, <var>3</var> の住人の帰宅までの時間はそれぞれ、<var>1</var> 秒, <var>3</var> 秒, <var>4</var> 秒となります。</p>\n<p>次に、最初にバスが正の方向へ動いたとしましょう。\nすると、バスの座標は <var>2 → 3</var> と変化し、マンション <var>2</var> の住人が降車します。\nその後バスは、マンション <var>1</var> へ向かって移動し始めます。\nなぜなら、マンション <var>1</var> の住人がマンション <var>3</var> の住人より多いからです。\nそして、バスはマンション <var>1</var> についた後、マンション <var>3</var> へ向かいます。\nよって、最初にバスが正の方向へ動く場合は、出発してからバスの座標は <var>2 → 3 → 2 → 1 → 2 → 3 → 4</var> と変化することになり、\nマンション <var>1</var>, <var>2</var>, <var>3</var> の住人の帰宅までの時間はそれぞれ、<var>3</var> 秒, <var>1</var> 秒, <var>6</var> 秒となります。</p>\n<p>以上より、マンション <var>1</var>, <var>3</var> の住人は、最初にバスを負の方向へ動かそうとします。\n逆に、マンション <var>2</var> の住人は、最初にバスを正の方向へ動かそうとします。\nマンション <var>1</var>, <var>3</var> の住人の数を合わせると <var>3 + 2 = 5</var> 人となり、マンション <var>2</var> の住人の数 <var>4</var> 人より多いです。\nよって、最初にバスは負の方向へ動き、出発してからバスの座標は <var>2 → 1 → 2 → 3 → 4</var> と変化することになります。</p>\n</section>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>6 4\n1 10\n2 1000\n3 100000\n5 1000000\n6 10000\n7 100\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>21\n</pre>\n\n<p>それぞれのマンションに住む人数が文字通り桁違いなので、バスは常に、バスに乗っている住人の数が最も多いマンションへと向かいます。</p>\n</section>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>入力例 3</h3><pre>15 409904902\n94198000 15017\n117995501 7656764\n275583856 313263626\n284496300 356635175\n324233841 607\n360631781 148\n472103717 5224\n497641071 34695\n522945827 816241\n554305668 32\n623788284 22832\n667409501 124410641\n876731548 12078\n904557302 291749534\n918215789 5\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 3</h3><pre>2397671583\n</pre></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>1200</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>There are <var>N</var> apartments along a number line, numbered <var>1</var> through <var>N</var>.\nApartment <var>i</var> is located at coordinate <var>X_i</var>.\nAlso, the office of AtCoder Inc. is located at coordinate <var>S</var>.\nEvery employee of AtCoder lives in one of the <var>N</var> apartments.\nThere are <var>P_i</var> employees who are living in Apartment <var>i</var>.</p>\n<p>All employees of AtCoder are now leaving the office all together.\nSince they are tired from work, they would like to get home by the company's bus.\nAtCoder owns only one bus, but it can accommodate all the employees.\nThis bus will leave coordinate <var>S</var> with all the employees and move according to the following rule:</p>\n<ul>\n<li>\n<p>Everyone on the bus casts a vote on which direction the bus should proceed, positive or negative. (The bus is autonomous and has no driver.) Each person has one vote, and abstaining from voting is not allowed. Then, the bus moves a distance of <var>1</var> in the direction with the greater number of votes. If a tie occurs, the bus moves in the negative direction. If there is an apartment at the coordinate of the bus after the move, all the employees who live there get off.</p>\n</li>\n<li>\n<p>Repeat the operation above as long as there is one or more employees on the bus.</p>\n</li>\n</ul>\n<p>For a specific example, see Sample Input 1.</p>\n<p>The bus takes one seconds to travel a distance of <var>1</var>.\nThe time required to vote and get off the bus is ignorable.</p>\n<p>Every employee will vote so that he himself/she herself can get off the bus at the earliest possible time.\nStrictly speaking, when a vote is taking place, each employee see which direction results in the earlier arrival at his/her apartment, assuming that all the employees follow the same strategy in the future.\nBased on this information, each employee makes the optimal choice, but if either direction results in the arrival at the same time, he/she casts a vote to the negative direction.</p>\n<p>Find the time the bus will take from departure to arrival at the last employees' apartment.\nIt can be proved that, given the positions of the apartments, the numbers of employees living in each apartment and the initial position of the bus, the future movement of the bus is uniquely determined, and the process will end in a finite time.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>1 \\leq N \\leq 10^5</var></li>\n<li><var>1 \\leq S \\leq 10^9</var></li>\n<li><var>1 \\leq X_1 &lt; X_2 &lt; ... &lt; X_N \\leq 10^9</var></li>\n<li><var>X_i \\neq S</var> ( <var>1 \\leq i \\leq N</var> )</li>\n<li><var>1 \\leq P_i \\leq 10^9</var> ( <var>1 \\leq i \\leq N</var> )</li>\n<li>All values in input are integers.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>Input is given from Standard Input in the following format:</p>\n<pre><var>N</var> <var>S</var>\n<var>X_1</var> <var>P_1</var>\n<var>X_2</var> <var>P_2</var>\n<var>:</var>\n<var>X_N</var> <var>P_N</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>Print the number of seconds the bus will take from departure to arrival at the last employees' apartment.</p>\n</section>\n</div>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>3 2\n1 3\n3 4\n4 2\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>4\n</pre>\n\n<p>Assume that the bus moves in the negative direction first.\nThen, the coordinate of the bus changes from <var>2</var> to <var>1</var>, and the employees living in Apartment <var>1</var> get off.\nThe movement of the bus after that is obvious: it just continues moving in the positive direction.\nThus, if the bus moves in the negative direction first, the coordinate of the bus changes as <var>2 → 1 → 2 → 3 → 4</var> from departure.\nThe time it takes to get home for the employees living in Apartment <var>1</var>, <var>2</var>, <var>3</var> are <var>1</var>, <var>3</var>, <var>4</var> seconds, respectively.</p>\n<p>Next, assume that the bus moves in the positive direction first.\nThen, the coordinate of the bus changes from <var>2</var> to <var>3</var>, and the employees living in Apartment <var>2</var> get off.\nAfterwards, the bus starts heading to Apartment <var>1</var>, because there are more employees living in Apartment <var>1</var> than in Apartment <var>3</var>.\nThen, after arriving at Apartment <var>1</var>, the bus heads to Apartment <var>3</var>.\nThus, if the bus moves in the positive direction first, the coordinate of the bus changes as <var>2 → 3 → 2 → 1 → 2 → 3 → 4</var> from departure.\nThe time it takes to get home for the employees living in Apartment <var>1</var>, <var>2</var>, <var>3</var> are <var>3</var>, <var>1</var>, <var>6</var> seconds, respectively.</p>\n<p>Therefore, in the beginning, the employees living in Apartment <var>1</var> or <var>3</var> will try to move the bus in the negative direction.\nOn the other hand, the employees living in Apartment <var>2</var> will try to move the bus in the positive direction in the beginning.\nThere are a total of <var>3 + 2 = 5</var> employees living in Apartment <var>1</var> and <var>3</var> combined, which is more than those living in Apartment <var>2</var>, which is <var>4</var>.\nThus, the bus will move in the negative direction first, and the coordinate of the bus will change as <var>2 → 1 → 2 → 3 → 4</var> from departure.</p>\n</section>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>6 4\n1 10\n2 1000\n3 100000\n5 1000000\n6 10000\n7 100\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>21\n</pre>\n\n<p>Since the numbers of employees living in different apartments are literally off by a digit, the bus consistently head to the apartment where the most number of employees on the bus lives.</p>\n</section>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>Sample Input 3</h3><pre>15 409904902\n94198000 15017\n117995501 7656764\n275583856 313263626\n284496300 356635175\n324233841 607\n360631781 148\n472103717 5224\n497641071 34695\n522945827 816241\n554305668 32\n623788284 22832\n667409501 124410641\n876731548 12078\n904557302 291749534\n918215789 5\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 3</h3><pre>2397671583\n</pre></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/agc023/tasks/agc023_d"}