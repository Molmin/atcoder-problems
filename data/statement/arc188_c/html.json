{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>700</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p><var>1</var> から <var>N</var> までの番号がついた <var>N</var> 人の村人が住む村があります。\n各村人は、正直者であるか嘘つきであるかのどちらかです。また、村人のうち何人かは混乱しています。</p>\n<p>あなたは、村人による証言を <var>M</var> 個手に入れました。この証言は、<var>i=1,2, \\ldots ,M</var> に対して <var>A_i, B_i, C_i</var> で与えられ、</p>\n<ul>\n<li><var>C_i=0</var> であれば、村人 <var>A_i</var> が村人 <var>B_i</var> を正直者であると証言したこと</li>\n<li><var>C_i=1</var> であれば、村人 <var>A_i</var> が村人 <var>B_i</var> を嘘つきであると証言したこと</li>\n</ul>\n<p>を表します。</p>\n<p>全ての村人は、他の全ての村人について正直者と嘘つきのどちらであるかを知っており、あなたに対して次のような規則で証言を行ったことが分かっています。</p>\n<ul>\n<li>混乱していない正直者は必ず正しい証言をする。</li>\n<li>混乱していない嘘つきは必ず嘘の証言をする。</li>\n<li>混乱している正直者は必ず嘘の証言をする。</li>\n<li>混乱している嘘つきは必ず正しい証言をする。</li>\n</ul>\n<p>すなわち、混乱していなければ正直者は正しい証言を、嘘つきは嘘の証言をしますが、混乱していると逆になります。</p>\n<p>あなたは<strong>混乱している村人の組</strong>を予想することにしました。\n混乱している村人の組を決めると、与えられた <var>M</var> 個の証言からなる証言の組が「矛盾する」かどうかが定まります。\nここで、証言の組が「矛盾する」というのは、各村人が正直者であるか嘘つきであるかをどのように決めても、証言の組の中に、村人が行う証言の規則に反するものが存在することを意味します。</p>\n<p>与えられた証言の組が矛盾しないような<strong>混乱している村人の組</strong>を <var>1</var> つ見つけてください。\nただし、どのような村人の組が混乱しているとしても与えられた証言の組が矛盾する場合は、そのことを指摘してください。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>2 \\leq N \\leq 2 \\times 10^5</var></li>\n<li><var>0 \\leq M \\leq \\mathrm{min} \\lbrace 2 \\times 10^5,N(N-1) \\rbrace </var></li>\n<li><var>1 \\leq A_i, B_i \\leq N, A_i \\neq B_i</var></li>\n<li><var>i\\neq j</var> のとき <var>A_i\\neq A_j</var> または <var>B_i\\neq B_j</var></li>\n<li><var>C_i=0</var> または <var>C_i=1</var></li>\n<li>入力される値はすべて整数である</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>\n<pre><var>N</var> <var>M</var>\n<var>A_1</var> <var>B_1</var> <var>C_1</var>\n<var>A_2</var> <var>B_2</var> <var>C_2</var>\n<var>\\vdots</var>\n<var>A_M</var> <var>B_M</var> <var>C_M</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>与えられた証言の組が矛盾しないような混乱している村人の組が存在するとき、混乱している村人の組を表す長さ <var>N</var> の文字列を出力せよ。このとき出力される文字列では、村人 <var>i</var> が混乱している場合 <var>i</var> 文字目が <code>1</code>、そうでない場合 <var>i</var> 文字目が <code>0</code> であるようにせよ。</p>\n<p>そのような混乱している村人の組が存在しないとき、<code>-1</code> と出力せよ。</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>3 3\n1 2 1\n1 3 0\n2 3 0\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>010\n</pre>\n\n<p>村人 <var>1</var> が混乱していない正直者、村人 <var>2</var> が混乱している嘘つき、村人 <var>3</var> が混乱していない正直者であると仮定します。</p>\n<p>このとき、村人 <var>1</var> は、村人 <var>2</var> が嘘つきである、村人 <var>3</var> が正直者であると正しい証言をします。\nまた、村人 <var>2</var> は嘘つきですが混乱しているため、村人 <var>3</var> が正直者であると正しい証言をします。</p>\n<p>したがって、与えられた証言が全て村人の証言の規則通りに得られるため、村人 <var>2</var> のみ混乱していることを表す <code>010</code> は正当な出力の <var>1</var> つです。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>3 6\n1 2 1\n1 3 0\n2 1 1\n2 3 0\n3 1 1\n3 2 0\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>-1\n</pre>\n\n<p>村人 <var>2,3</var> が混乱していると仮定してみます。</p>\n<p>このとき、各村人が正直者であるかどうかについて <var>2^3=8</var> 通りの組み合わせがあります。\nこのうち、例えば、「村人 <var>1</var> が（混乱していない）正直者、村人 <var>2</var> が（混乱している）嘘つき、村人 <var>3</var> が（混乱している）正直者」であるとすると、村人 <var>2</var> は規則によれば正しい証言をするはずですが、村人 <var>1</var> を嘘つきであると嘘の証言をしています。\n他の組み合わせに対しても、同様に規則に反する証言が生じることを確認できます。</p>\n<p>したがって、村人 <var>2,3</var> が混乱しているとすると、与えられた証言の組は矛盾します。</p>\n<p>実は、このケースでは、どのような村人の組が混乱しているとしても与えられた証言の組は矛盾します。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 3</h3><pre>3 0\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 3</h3><pre>000\n</pre>\n\n<p>混乱している人数は任意であり、題意の条件が満たされるならば <var>0</var> 人や全員でもよいです。</p></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>700</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>There is a village with <var>N</var> villagers numbered from <var>1</var> to <var>N</var>.\nEach villager is honest or a liar. Additionally, some villagers are confused.</p>\n<p>You have obtained <var>M</var> testimonies from the villagers. Each testimony is given by <var>A_i</var>, <var>B_i</var>, <var>C_i</var> for <var>i=1,2,\\ldots,M</var>, representing:</p>\n<ul>\n<li>If <var>C_i=0</var>, villager <var>A_i</var> testified that villager <var>B_i</var> is honest.</li>\n<li>If <var>C_i=1</var>, villager <var>A_i</var> testified that villager <var>B_i</var> is a liar.</li>\n</ul>\n<p>All villagers know whether every other villager is honest or a liar, and you know that they made their testimonies to you according to the following rules:</p>\n<ul>\n<li>An honest villager who is not confused always tells the truth.</li>\n<li>A liar who is not confused always tells lies.</li>\n<li>A confused honest villager always tells lies.</li>\n<li>A confused liar always tells the truth.</li>\n</ul>\n<p>In other words, if they are not confused, honest villagers always tell the truth, and liars always tell lies, but if they are confused, it is reversed.</p>\n<p>You have decided to guess the set of villagers who are confused.\nGiven a choice of villagers who are confused, whether the set of testimonies \"contradicts\" or not is determined.\nHere, a set of testimonies is said to contradict if, no matter how you assign honest or liar statuses to the villagers, there is at least one testimony that violates the villagers' testimony rules.</p>\n<p>Find a set of confused villagers such that the given set of testimonies does not contradict.\nIf no such set of confused villagers exists, indicate that fact.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>2 \\leq N \\leq 2 \\times 10^5</var></li>\n<li><var>0 \\leq M \\leq \\mathrm{min} \\lbrace 2 \\times 10^5,N(N-1) \\rbrace </var></li>\n<li><var>1 \\leq A_i, B_i \\leq N</var>, <var>A_i \\neq B_i</var></li>\n<li><var>A_i \\neq A_j</var> or <var>B_i \\neq B_j</var> for <var>i \\neq j</var>.</li>\n<li><var>C_i = 0</var> or <var>1</var>.</li>\n<li>All input values are integers.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>The input is given from Standard Input in the following format:</p>\n<pre><var>N</var> <var>M</var>\n<var>A_1</var> <var>B_1</var> <var>C_1</var>\n<var>A_2</var> <var>B_2</var> <var>C_2</var>\n<var>\\vdots</var>\n<var>A_M</var> <var>B_M</var> <var>C_M</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>If there exists a set of confused villagers such that the given set of testimonies does not contradict, print a string of length <var>N</var> representing the set of confused villagers. In this string, the <var>i</var>-th character should be <code>1</code> if villager <var>i</var> is confused, and <code>0</code> otherwise.</p>\n<p>If no such set of confused villagers exists, print <code>-1</code>.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>3 3\n1 2 1\n1 3 0\n2 3 0\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>010\n</pre>\n\n<p>Suppose villager <var>1</var> is an honest villager who is not confused, villager <var>2</var> is a confused liar, and villager <var>3</var> is an honest villager who is not confused.</p>\n<p>In this case, villager <var>1</var> correctly testifies that villager <var>2</var> is a liar and villager <var>3</var> is honest.\nAlso, villager <var>2</var>, who is a liar but confused, tells the truth and testifies that villager <var>3</var> is honest.</p>\n<p>Therefore, all given testimonies are consistent with the villagers' testimony rules, so <code>010</code>, indicating that only villager <var>2</var> is confused, is one valid output.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>3 6\n1 2 1\n1 3 0\n2 1 1\n2 3 0\n3 1 1\n3 2 0\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>-1\n</pre>\n\n<p>Suppose villagers <var>2</var> and <var>3</var> are confused.</p>\n<p>In this case, there are <var>2^3=8</var> possible combinations for whether each villager is honest or a liar.\nAmong them, for example, if villager <var>1</var> is an honest villager who is not confused, villager <var>2</var> is a confused liar, and villager <var>3</var> is a confused honest villager, then according to the rules, villager <var>2</var> should tell the truth, but they falsely testify that villager <var>1</var> is a liar.</p>\n<p>You can confirm that also in other combinations, there will be some testimonies that violate the rules.</p>\n<p>Therefore, if villagers <var>2</var> and <var>3</var> are confused, the given set of testimonies contradicts.</p>\n<p>In fact, in this test case, no matter which villagers are confused, the given set of testimonies contradicts.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 3</h3><pre>3 0\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 3</h3><pre>000\n</pre>\n\n<p>There may be any number of confused villagers, possibly zero or all.</p></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/arc188/tasks/arc188_c"}