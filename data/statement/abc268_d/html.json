{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>400</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><blockquote>\n<p>高橋君はあるサービスで使うユーザー名を決めるのに困っています。彼を助けるプログラムを書いてください。</p>\n</blockquote>\n<p>以下の条件をすべて満たす文字列 <var>X</var> を <var>1</var> つ求めてください。</p>\n<ul>\n<li><var>X</var> は次の手順で得られる文字列である。<ul>\n<li><var>N</var> 個の文字列 <var>S_1,S_2,\\ldots,S_N</var> を好きな順番で並べたものを <var>S_1', S_2', \\ldots,S_N'</var> とする。そして、<var>S_1'</var>、( <var>1</var> 個以上の <code>_</code> )、<var>S_2'</var>、( <var>1</var> 個以上の <code>_</code> )、<var>\\ldots</var>、( <var>1</var> 個以上の <code>_</code> )、<var>S_N'</var> をこの順番で連結したものを <var>X</var> とする。</li>\n</ul>\n</li>\n<li><var>X</var> の文字数は <var>3</var> 以上 <var>16</var> 以下である。</li>\n<li><var>X</var> は <var>M</var> 個の文字列 <var>T_1,T_2,\\ldots,T_M</var> のいずれとも一致しない。</li>\n</ul>\n<p>ただし、条件をすべて満たす文字列 <var>X</var> が存在しない場合は代わりに <code>-1</code> と出力してください。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>1 \\leq N \\leq 8</var></li>\n<li><var>0 \\leq M \\leq 10^5</var></li>\n<li><var>N,M</var> は整数</li>\n<li><var>1 \\leq |S_i| \\leq 16</var></li>\n<li><var>N-1+\\sum{|S_i|} \\leq 16</var></li>\n<li><var>i \\neq j</var> ならば <var>S_i \\neq S_j</var></li>\n<li><var>S_i</var> は英小文字のみからなる文字列</li>\n<li><var>3 \\leq |T_i| \\leq 16</var></li>\n<li><var>i \\neq j</var> ならば <var>T_i \\neq T_j</var></li>\n<li><var>T_i</var> は英小文字と <code>_</code> のみからなる文字列</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>\n<pre><var>N</var> <var>M</var>\n<var>S_1</var>\n<var>S_2</var>\n<var>\\vdots</var>\n<var>S_N</var>\n<var>T_1</var>\n<var>T_2</var>\n<var>\\vdots</var>\n<var>T_M</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>条件をすべて満たす文字列 <var>X</var> を <var>1</var> つ出力せよ。ただし、条件をすべて満たす文字列 <var>X</var> が存在しない場合は代わりに <code>-1</code> を出力せよ。<br>\n答えが複数存在する場合、どれを出力しても良い。</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>1 1\nchokudai\nchokudai\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>-1\n</pre>\n<p>条件のうち <var>1</var> 番目と <var>2</var> 番目を満たす文字列は <var>X=</var> <code>chokudai</code> しかありませんが、これは <var>T_1</var> と一致します。<br>\nこのため、条件をすべて満たす文字列 <var>X</var> が存在せず、<code>-1</code> が正しい出力となります。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>2 2\nchoku\ndai\nchokudai\nchoku_dai\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>dai_choku\n</pre>\n<p>この他に、<code>choku__dai</code> (<code>choku</code> と <code>dai</code> の間の <code>_</code> が <var>2</var> つ) 等も条件をすべて満たします。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 3</h3><pre>2 2\nchokudai\natcoder\nchokudai_atcoder\natcoder_chokudai\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 3</h3><pre>-1\n</pre>\n<p><code>chokudai__atcoder</code> や <code>atcoder__chokudai</code> (<code>chokudai</code> と <code>atcoder</code> の間の <code>_</code> が <var>2</var> つ)は文字数が <var>17</var> なので <var>2</var> 番目の条件を満たしません。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 4</h3><pre>4 4\nab\ncd\nef\ngh\nhoge\nfuga\n____\n_ab_cd_ef_gh_\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 4</h3><pre>ab__ef___cd_gh\n</pre>\n<p><var>1</var> 番目の条件で記述されている操作で得られないような文字列が <var>T_i</var> として与えられる場合があります。</p></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>400</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><blockquote>\n<p>Takahashi is having trouble with deciding a username for a service.  Write a code to help him.</p>\n</blockquote>\n<p>Find a string <var>X</var> that satisfies all of the following conditions:</p>\n<ul>\n<li><var>X</var> is obtained by the following procedure:<ul>\n<li>Let <var>S_1', S_2', \\ldots,S_N'</var> be a permutation of <var>S_1, S_2, \\ldots,S_N</var>.  Let <var>X</var> be the concatenation of <var>S_1'</var>, (<var>1</var> or more copies of <code>_</code>), <var>S_2'</var>, (<var>1</var> or more copies of <code>_</code>), <var>\\ldots</var>, (<var>1</var> or more copies of <code>_</code>), and <var>S_N'</var>, in this order.</li>\n</ul>\n</li>\n<li>The length of <var>X</var> is between <var>3</var> and <var>16</var>, inclusive.</li>\n<li><var>X</var> does not coincide with any of <var>M</var> strings <var>T_1,T_2,\\ldots,T_M</var>.</li>\n</ul>\n<p>If there is no <var>X</var> that satisfies all of the conditions, print <code>-1</code> instead.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>1 \\leq N \\leq 8</var></li>\n<li><var>0 \\leq M \\leq 10^5</var></li>\n<li><var>N</var> and <var>M</var> are integers.</li>\n<li><var>1 \\leq |S_i| \\leq 16</var></li>\n<li><var>N-1+\\sum{|S_i|} \\leq 16</var></li>\n<li><var>S_i \\neq S_j</var> if <var>i \\neq j</var>.</li>\n<li><var>S_i</var> is a string consisting of lowercase English letters.</li>\n<li><var>3 \\leq |T_i| \\leq 16</var></li>\n<li><var>T_i \\neq T_j</var> if <var>i \\neq j</var>.</li>\n<li><var>T_i</var> is a string consisting of lowercase English letters and <code>_</code>.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>Input is given from Standard Input in the following format:</p>\n<pre><var>N</var> <var>M</var>\n<var>S_1</var>\n<var>S_2</var>\n<var>\\vdots</var>\n<var>S_N</var>\n<var>T_1</var>\n<var>T_2</var>\n<var>\\vdots</var>\n<var>T_M</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>Print a string <var>X</var> that satisfies all of the conditions.  If there is no <var>X</var> that satisfies all of the conditions, print <code>-1</code> instead.<br>\nIf there are multiple solutions, print any of them.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>1 1\nchokudai\nchokudai\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>-1\n</pre>\n<p>The only string that satisfies the first and second conditions is <var>X=</var> <code>chokudai</code>, but it coincides with <var>T_1</var>.<br>\nThus, there is no <var>X</var> that satisfies all of the conditions, so <code>-1</code> should be printed.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>2 2\nchoku\ndai\nchokudai\nchoku_dai\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>dai_choku\n</pre>\n<p>Strings like <code>choku__dai</code> (which has two <code>_</code>'s between <code>choku</code> and <code>dai</code>) also satisfy all of the conditions.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 3</h3><pre>2 2\nchokudai\natcoder\nchokudai_atcoder\natcoder_chokudai\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 3</h3><pre>-1\n</pre>\n<p><code>chokudai__atcoder</code> and <code>atcoder__chokudai</code> (which have two <code>_</code>'s between <code>chokudai</code> and <code>atcoder</code>) have a length of <var>17</var>, which violates the second condition.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 4</h3><pre>4 4\nab\ncd\nef\ngh\nhoge\nfuga\n____\n_ab_cd_ef_gh_\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 4</h3><pre>ab__ef___cd_gh\n</pre>\n<p>The given <var>T_i</var> may contain a string that cannot be obtained by the procedure described in the first condition.</p></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/abc268/tasks/abc268_d"}