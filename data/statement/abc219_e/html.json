{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>500</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p><var>xy</var> -平面上のいくつかの点に村があります。<br>\n高橋君はこれらの村を民兵や魔女などの外敵から守るため、これらのすべての村を囲むようなお堀を建設します。</p>\n<p><var>0</var> と <var>1</var> からなる <var>4 \\times 4</var> 行列 <var>A = (A_{i, j})</var> が与えられます。<br>\n<var>A_{i, j} = 1</var> を満たす整数の組 <var>(i, j)</var> <var>(1 \\leq i, j \\leq 4)</var> ごとに、座標 <var>(i-0.5, j-0.5)</var> に村があります。</p>\n<p>お堀は平面上の多角形です。\n高橋君は以下の条件をすべて満たすお堀を建設します（入力例１・出力例１の説明も参考にして下さい）。</p>\n<ol>\n<li>自己交差がない</li>\n<li>内部にすべての村を含む</li>\n<li>すべての頂点の <var>x</var> 座標と <var>y</var> 座標は <var>0</var> 以上 <var>4</var> 以下の整数</li>\n<li>すべての辺は <var>x</var> 軸と <var>y</var> 軸のどちらかに平行</li>\n<li>それぞれの内角の大きさは <var>90</var> 度または <var>270</var> 度</li>\n</ol>\n<p>高橋君が建設するお堀として考えられるものが何通りあるかを出力して下さい。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>A_{i, j} \\in \\lbrace 0, 1\\rbrace</var></li>\n<li><var>A_{i, j} = 1</var> となる <var>(i, j)</var> が少なくとも <var>1</var> つ存在する</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>\n<pre><var>A_{1, 1}</var> <var>A_{1, 2}</var> <var>A_{1, 3}</var> <var>A_{1, 4}</var>\n<var>A_{2, 1}</var> <var>A_{2, 2}</var> <var>A_{2, 3}</var> <var>A_{2, 4}</var>\n<var>A_{3, 1}</var> <var>A_{3, 2}</var> <var>A_{3, 3}</var> <var>A_{3, 4}</var>\n<var>A_{4, 1}</var> <var>A_{4, 2}</var> <var>A_{4, 3}</var> <var>A_{4, 4}</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>高橋君が建設するお堀として考えられるものが何通りあるかを出力せよ。</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>1 0 0 0\n0 0 1 0\n0 0 0 0\n1 0 0 0\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>1272\n</pre>\n<p>下記の <var>2</var> つの画像の例は、高橋君が建設する<strong>お堀の条件を満たします</strong>。</p>\n<p><img src=\"https://img.atcoder.jp/ghi/7b3181deb4e1df72e4c0661b1137db4d.png\" width=\"250\">\n<img src=\"https://img.atcoder.jp/ghi/a1e46c7db32d63942caa7119a4f3a593.png\" width=\"250\"></p>\n<p>下記の <var>4</var> つの画像の例は、高橋君が建設する<strong>お堀の条件を満たしません</strong>。</p>\n<p><img src=\"https://img.atcoder.jp/ghi/335053c01a13eb99e55767a3dc02eb38.png\" width=\"250\">\n<img src=\"https://img.atcoder.jp/ghi/c4df3d1fa24557b0d4d94ac0eaa8b9ab.png\" width=\"250\">\n<img src=\"https://img.atcoder.jp/ghi/be93de595e9222d5e20c90bd28d24563.png\" width=\"250\">\n<img src=\"https://img.atcoder.jp/ghi/37dac3af065c013ce0b8c0ee7591b97a.png\" width=\"250\"></p>\n<p>上記の <var>4</var> つの例が高橋君の建設するお堀の条件を満たさない理由は、以下の通りです。</p>\n<ul>\n<li><var>1</var> つ目の画像の例は、「自己交差がない」という条件を満たしません。</li>\n<li><var>2</var> つ目の画像の例は、「内部にすべての村を含む」という条件を満たしません。</li>\n<li><var>3</var> つ目の画像の例は、「すべての頂点の <var>x</var> 座標と <var>y</var> 座標は <var>0</var> 以上 <var>4</var> 以下の整数」という条件を満たしません。（座標が整数でない頂点があります。）</li>\n<li><var>4</var> つ目の画像の例は、「すべての辺は <var>x</var> 軸と <var>y</var> 軸のどちらかに平行」という条件を満たしません。</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>1 1 1 1\n1 1 1 1\n1 1 1 1\n1 1 1 1\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>1\n</pre></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>500</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>There are villages at some number of points in the <var>xy</var>-plane.<br>\nTakahashi will construct a moat to protect these villages from enemies such as civil armies and witches.</p>\n<p>You are given a <var>4 \\times 4</var> matrix <var>A = (A_{i, j})</var> consisting of <var>0</var> and <var>1</var>.<br>\nFor each pair of integers <var>(i, j)</var> <var>(1 \\leq i, j \\leq 4)</var> such that <var>A_{i, j} = 1</var>, there is a village at the coordinates <var>(i-0.5, j-0.5)</var>.</p>\n<p>The moat will be a polygon in the plane.\nTakahashi will construct it so that the following conditions will be satisfied. (See also the annotation at Sample Input/Output 1.)</p>\n<ol>\n<li>There is no self-intersection.</li>\n<li>All villages are contained in the interior of the polygon.</li>\n<li>The <var>x</var>- and <var>y</var>-coordinates of every vertex are integers between <var>0</var> and <var>4</var> (inclusive).</li>\n<li>Every edge is parallel to the <var>x</var>- or <var>y</var>-axis.</li>\n<li>Every inner angle is <var>90</var> or <var>270</var> degrees.</li>\n</ol>\n<p>Print the number of ways in which Takahashi can construct the moat.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>A_{i, j} \\in \\lbrace 0, 1\\rbrace</var></li>\n<li>There is at least one pair <var>(i, j)</var> such that <var>A_{i, j} = 1</var>.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>Input is given from Standard Input in the following format:</p>\n<pre><var>A_{1, 1}</var> <var>A_{1, 2}</var> <var>A_{1, 3}</var> <var>A_{1, 4}</var>\n<var>A_{2, 1}</var> <var>A_{2, 2}</var> <var>A_{2, 3}</var> <var>A_{2, 4}</var>\n<var>A_{3, 1}</var> <var>A_{3, 2}</var> <var>A_{3, 3}</var> <var>A_{3, 4}</var>\n<var>A_{4, 1}</var> <var>A_{4, 2}</var> <var>A_{4, 3}</var> <var>A_{4, 4}</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>Print the number of ways in which Takahashi can construct the moat.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>1 0 0 0\n0 0 1 0\n0 0 0 0\n1 0 0 0\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>1272\n</pre>\n<p>The two ways to construct the moat shown in the images below are <strong>valid</strong>.</p>\n<p><img src=\"https://img.atcoder.jp/ghi/7b3181deb4e1df72e4c0661b1137db4d.png\" width=\"250\">\n<img src=\"https://img.atcoder.jp/ghi/a1e46c7db32d63942caa7119a4f3a593.png\" width=\"250\"></p>\n<p>The four ways to construct the moat shown in the images below are <strong>invalid</strong>.</p>\n<p><img src=\"https://img.atcoder.jp/ghi/335053c01a13eb99e55767a3dc02eb38.png\" width=\"250\">\n<img src=\"https://img.atcoder.jp/ghi/c4df3d1fa24557b0d4d94ac0eaa8b9ab.png\" width=\"250\">\n<img src=\"https://img.atcoder.jp/ghi/be93de595e9222d5e20c90bd28d24563.png\" width=\"250\">\n<img src=\"https://img.atcoder.jp/ghi/37dac3af065c013ce0b8c0ee7591b97a.png\" width=\"250\"></p>\n<p>Here are the reasons the above ways are invalid.</p>\n<ul>\n<li>The first way violates the condition: \"There is no self-intersection.\"</li>\n<li>The second way violates the condition: \"All villages are contained in the interior of the polygon.\"</li>\n<li>The third way violates the condition: \"The <var>x</var>- and <var>y</var>-coordinates of every vertex are integers between <var>0</var> and <var>4</var>.\" (Some vertices have non-integer coordinates.)</li>\n<li>The fourth way violates the condition: \"Every edge is parallel to the <var>x</var>- or <var>y</var>-axis.\"</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>1 1 1 1\n1 1 1 1\n1 1 1 1\n1 1 1 1\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>1\n</pre></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/abc219/tasks/abc219_e"}