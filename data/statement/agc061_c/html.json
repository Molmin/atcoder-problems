{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>800</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p>ある店を訪れる <var>N</var> 人の客がおり、彼らを <var>1,\\ldots,N</var> と呼びます。客 <var>i</var> は時刻 <var>A_i</var> に店に入り、時刻 <var>B_i</var> に店を出ます。この店の行列は「先入れ先出し」方式であり、<var>A_i</var> も <var>B_i</var> も単調増加です。また、<var>A_i</var> や <var>B_i</var> は全て異なります。</p>\n<p>店の入口に、客が名前を書くリストがあります。それぞれの客は、入店時か退店時に一度だけ自分の名前をリストの末尾に書きます。最終的に名前が書かれる順序は何通りありうるでしょうか。\nこの数を <var>998\\,244\\,353</var> で割った余りを求めてください。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>1 \\leq N \\leq 5 \\cdot 10^5</var></li>\n<li><var>1 \\leq A_i &lt; B_i \\leq 2N</var></li>\n<li><var>A_i &lt; A_{i + 1}</var> (<var>1 \\leq i \\leq N - 1</var>)</li>\n<li><var>B_i &lt; B_{i + 1}</var> (<var>1 \\leq i \\leq N - 1</var>)</li>\n<li><var>A_i \\neq B_j</var> (<var>i \\neq j</var>)</li>\n<li>入力中の値は全て整数である。</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は、標準入力から以下の形式で与えられる。</p>\n<pre><var>N</var>\n<var>A_1</var> <var>B_1</var>\n<var>\\vdots</var>\n<var>A_N</var> <var>B_N</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>答えを出力せよ。</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>3\n1 3\n2 5\n4 6\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>3\n</pre>\n<p>ありうる順序は <var>(1, 2, 3), (2, 1, 3), (1, 3, 2)</var> です。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>4\n1 2\n3 4\n5 6\n7 8\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>1\n</pre>\n<p>ありうる順序は <var>(1, 2, 3, 4)</var> のみです。</p></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>800</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>There are <var>N</var> customers named <var>1,\\ldots,N</var> visiting a shop. Customer <var>i</var> arrives at time <var>A_i</var> and leaves at time <var>B_i</var>. The queue order is <em>first in-first out</em>, so <var>A_i</var> are increasing, and <var>B_i</var> are increasing. Additionally, all <var>A_i</var> and <var>B_i</var> are pairwise distinct.</p>\n<p>At the entrance there's a list of visitors to put their names in. Each customer will write down their name next in the list exactly once, either when they arrive or when they leave. How many different orders of names can there be in the end?\nFind the count modulo <var>998\\,244\\,353</var>.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>1 \\leq N \\leq 5 \\cdot 10^5</var></li>\n<li><var>1 \\leq A_i &lt; B_i \\leq 2N</var></li>\n<li><var>A_i &lt; A_{i + 1}</var> (<var>1 \\leq i \\leq N - 1</var>)</li>\n<li><var>B_i &lt; B_{i + 1}</var> (<var>1 \\leq i \\leq N - 1</var>)</li>\n<li><var>A_i \\neq B_j</var> (<var>i \\neq j</var>)</li>\n<li>All values in the input are integers.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>Input is given from Standard Input in the following format:</p>\n<pre><var>N</var>\n<var>A_1</var> <var>B_1</var>\n<var>\\vdots</var>\n<var>A_N</var> <var>B_N</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>Print the answer.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>3\n1 3\n2 5\n4 6\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>3\n</pre>\n<p>The possible orders are <var>(1, 2, 3)</var>, <var>(2, 1, 3)</var>, <var>(1, 3, 2)</var>.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>4\n1 2\n3 4\n5 6\n7 8\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>1\n</pre>\n<p>The only possible order is <var>(1, 2, 3, 4)</var>.</p></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/agc061/tasks/agc061_c"}