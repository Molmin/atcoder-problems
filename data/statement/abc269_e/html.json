{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>500</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p><strong>この問題はインタラクティブな問題</strong>（あなたの作成したプログラムとジャッジプログラムが入出力を介して対話を行う形式の問題）です。</p>\n<p>縦横 <var>N</var> マスのチェス盤と <var>N</var> 個のルークの駒があります。以下では上から <var>i</var> 行目、左から <var>j</var> 列目のマスを <var>(i, j)</var> と表します。<br>\nチェス盤のマスにルークを置くことを考えます。ただし、あなたは次の条件をすべて満たすようにルークをチェス盤に置く必要があります。</p>\n<ul>\n<li>1 つの行に <var>2</var> 個以上のルークが存在しない。</li>\n<li>1 つの列に <var>2</var> 個以上のルークが存在しない。</li>\n</ul>\n<p>今、チェス盤に <var>N-1</var> 個のルークが上の条件をすべて満たした状態で置かれています。あなたはルークが置かれていないマスを 1 つ選び、そのマスにルークを置くことにしました。(上の条件をすべて満たすようにルークを置くことができるマスは少なくとも 1 つ以上存在することが証明できます。)</p>\n<p>ただし、あなたはチェス盤のどのマスにルークが置かれているかを直接知ることはできません。<br>\nそのかわりに、ジャッジシステムに対して以下の質問を <var>20</var> 回まで行うことができます。</p>\n<ul>\n<li>整数 <var>A, B, C, D</var> を <var>1 \\leq A \\leq B \\leq N, 1 \\leq C \\leq D \\leq N</var> を満たすように選ぶ。そして、<var>A \\leq i \\leq B, C \\leq j \\leq D</var> を満たすマス <var>(i, j)</var> からなる長方形領域に置かれているルークの個数を聞く。</li>\n</ul>\n<p>ルークを置くことができるマスを見つけてください。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>2 \\leq N \\leq 10^3</var></li>\n<li><var>N</var> は整数</li>\n</ul>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>入出力</h3><p>この問題はインタラクティブな問題（あなたの作成したプログラムとジャッジプログラムが入出力を介して対話を行う形式の問題）です。  </p>\n<p>最初に、チェス盤のサイズ <var>N</var> を標準入力から受け取ってください。</p>\n<pre><var>N</var>\n</pre>\n<p>次に、ルークを置くことができるマスが見つかるまで質問を繰り返してください。<br>\n質問は、以下の形式で標準出力に出力してください。</p>\n<pre><var>?</var> <var>A</var> <var>B</var> <var>C</var> <var>D</var>\n</pre>\n<p>これに対する応答は、次の形式で標準入力から与えられます。</p>\n<pre><var>T</var>\n</pre>\n<p>ここで、<var>T</var> は質問に対する答えです。ただし、不正な質問を行った、あるいは質問の回数が <var>20</var> 回を超えた場合は <var>T</var> は <code>-1</code> となります。</p>\n<p>ジャッジが <code>-1</code> を返した場合、提出はすでに不正解とみなされています。この場合、ただちにプログラムを終了してください。</p>\n<p>ルークを置くことができるマスを見つけたら、そのマスを <var>(X, Y)</var> として、解答を以下の形式で出力してください。その後、ただちにプログラムを終了してください。</p>\n<pre><var>!</var> <var>X</var> <var>Y</var>\n</pre>\n<p>答えが複数ある場合、どれを出力しても正解とみなされます。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>注意点</h3><ul>\n<li><span style=\"color:red\"><strong>出力を行うたびに、末尾に改行を入れて標準出力を flush してください。そうしなかった場合、ジャッジ結果が <span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"\" data-original-title=\"実行時間制限超過\">TLE</span> となる可能性があります。</strong></span></li>\n<li><strong>対話の途中で不正な出力を行った場合のジャッジ結果は不定です。</strong></li>\n<li>解答を出力したらただちにプログラムを終了してください。そうしない場合、ジャッジ結果は不定です。</li>\n</ul>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>入出力例</h3><p>以下は、<var>N=3</var> で <var>(1, 2), (2, 1)</var> にルークが置かれている場合の入出力例です。</p>\n<table class=\"table table-bordered\">\n\n<thead>\n<tr>\n<th>入力</th>\n<th>出力</th>\n<th>説明</th>\n</tr>\n</thead>\n\n<tbody>\n<tr>\n<td><code>3</code></td>\n<td></td>\n<td>まず整数 <var>N</var> が与えられます。</td>\n</tr>\n<tr>\n<td></td>\n<td><code>? 1 2 1 3</code></td>\n<td> <var>(A,B,C,D)=(1,2,1,3)</var> として質問を行います。</td>\n</tr>\n<tr>\n<td><code>2</code></td>\n<td></td>\n<td>質問の答えは <var>2</var> なので、ジャッジはその値を返します。</td>\n</tr>\n<tr>\n<td></td>\n<td><code>? 2 3 1 1</code></td>\n<td><var>(A,B,C,D)=(2,3,1,1)</var> として質問を行います。</td>\n</tr>\n<tr>\n<td><code>1</code></td>\n<td></td>\n<td>質問の答えは <var>1</var> なので、ジャッジはその値を返します。</td>\n</tr>\n<tr>\n<td></td>\n<td><code>? 1 3 3 3</code></td>\n<td><var>(A,B,C,D)=(1,3,3,3)</var> として質問を行います。</td>\n</tr>\n<tr>\n<td><code>0</code></td>\n<td></td>\n<td>質問の答えは <var>0</var> なので、ジャッジはその値を返します。</td>\n</tr>\n<tr>\n<td></td>\n<td><code>! 3 3</code></td>\n<td>答えは <var>(3, 3)</var> だとわかったので、それを出力します。</td>\n</tr>\n</tbody>\n\n</table></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>500</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p><strong>This is an interactive task</strong> (where your program interacts with the judge's program via input and output).</p>\n<p>We have an <var>N</var>-by-<var>N</var> chessboard and <var>N</var> rooks. Below, the square at the <var>i</var>-th row from the top and <var>j</var>-th column from the left is denoted by <var>(i, j)</var>.<br>\nConsider placing the rooks on squares of the chessboard. Here, you have to place the rooks so that all of the following conditions are satisfied.</p>\n<ul>\n<li>No row contains two or more rooks.</li>\n<li>No column contains two or more rooks.</li>\n</ul>\n<p>Now, <var>N-1</var> rooks are placed on the chessboard so that all of the above conditions are satisfied. You will choose a square that is not occupied by a rook and place a rook on that square. (It can be proved that there is at least one square on which a rook can be placed under the conditions.)</p>\n<p>However, you cannot directly see which squares of the chessboard are occupied by a rook.<br>\nInstead, you may ask at most <var>20</var> questions to the judge in the following manner.</p>\n<ul>\n<li>You choose integers <var>A</var>, <var>B</var>, <var>C</var>, and <var>D</var> such that <var>1 \\leq A \\leq B \\leq N, 1 \\leq C \\leq D \\leq N</var>, and ask the number of rooks in the rectangular region formed by the squares <var>(i, j)</var> such that <var>A \\leq i \\leq B, C \\leq j \\leq D</var>.</li>\n</ul>\n<p>Find a square to place a rook.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>2 \\leq N \\leq 10^3</var></li>\n<li><var>N</var> is an integer.</li>\n</ul>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Input and Output</h3><p>This is an interactive task (where your program interacts with the judge's program via input and output).</p>\n<p>First, receive the size of the chessboard, <var>N</var>, from Standard Input.</p>\n<pre><var>N</var>\n</pre>\n<p>Next, repeat asking a question until you find a square to place a rook.<br>\nA question should be printed to Standard Output in the following format:</p>\n<pre><var>?</var> <var>A</var> <var>B</var> <var>C</var> <var>D</var>\n</pre>\n<p>The response will be given from Standard Input in the following format: </p>\n<pre><var>T</var>\n</pre>\n<p>Here, <var>T</var> is the response to the question, or <code>-1</code> if the question is invalid or more than <var>20</var> questions have been asked.</p>\n<p>When the judge returns <code>-1</code>, the submission is already regarded as incorrect. In this case, terminate the program immediately.</p>\n<p>When you find a square to place a rook, let <var>(X, Y)</var> be that square and print an answer in the following format. Then, terminate the program immediately.</p>\n<pre><var>!</var> <var>X</var> <var>Y</var>\n</pre>\n<p>If there are multiple appropriate answers, any of them will be accepted.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Notes</h3><ul>\n<li><span style=\"color:red\"><strong>Each time you print something, end it with a newline and then flush Standard Output. Otherwise, you may get a <span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"\" data-original-title=\"Time Limit Exceeded\">TLE</span> verdict.</strong></span></li>\n<li><strong>If an invalid output is printed during the interaction, the verdict will be indeterminate.</strong></li>\n<li>Terminate the program immediately after printing an answer. Otherwise, the verdict will be indeterminate.</li>\n</ul>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Interaction</h3><p>Below is an interaction where <var>N=3</var> and the rooks are placed on <var>(1, 2)</var> and <var>(2, 1)</var>.</p>\n<table class=\"table table-bordered\">\n\n<thead>\n<tr>\n<th>Input</th>\n<th>Output</th>\n<th>Description</th>\n</tr>\n</thead>\n\n<tbody>\n<tr>\n<td><code>3</code></td>\n<td></td>\n<td>Judge first gives the integer <var>N</var>.</td>\n</tr>\n<tr>\n<td></td>\n<td><code>? 1 2 1 3</code></td>\n<td>Participant asks a question with <var>(A,B,C,D)=(1,2,1,3)</var>.</td>\n</tr>\n<tr>\n<td><code>2</code></td>\n<td></td>\n<td>Judge returns the answer to the question, which is <var>2</var>.</td>\n</tr>\n<tr>\n<td></td>\n<td><code>? 2 3 1 1</code></td>\n<td>Participant asks a question with <var>(A,B,C,D)=(2,3,1,1)</var>.</td>\n</tr>\n<tr>\n<td><code>1</code></td>\n<td></td>\n<td>Judge returns the answer to the question, which is <var>1</var>.</td>\n</tr>\n<tr>\n<td></td>\n<td><code>? 1 3 3 3</code></td>\n<td>Participant asks a question with <var>(A,B,C,D)=(1,3,3,3)</var>.</td>\n</tr>\n<tr>\n<td><code>0</code></td>\n<td></td>\n<td>Judge returns the answer to the question, which is <var>0</var>.</td>\n</tr>\n<tr>\n<td></td>\n<td><code>! 3 3</code></td>\n<td>Participant finds the answer to be <var>(3, 3)</var> and prints it.</td>\n</tr>\n</tbody>\n\n</table></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/abc269/tasks/abc269_e"}