{"html":{"ja":"<span class=\"lang-ja\">\n\n<div class=\"part\">\n<section>\n<h3>ストーリー</h3><p>高橋市の高橋市長は市役所のロビーの床に色の付いた正方形タイルを用いて高橋市の地図を描くことにした。\n高橋市はいくつかの区に別れており、この地図では各区は同じ色の連結なタイルの集合として表現する。\n業者に依頼して正確な地図の案を作成したところ、使用するタイル数が多く、予算オーバーとなってしまった。\nグラフが大好きな高橋市長は、区の間の隣接関係にしか興味がなく、各区の形状や大きさなど隣接関係以外の情報を無視すればより少ないタイル数で地図が描けるのではと考えている。\n使用するタイル数が出来るだけ少ない地図を作成して欲しい。</p>\n<div style=\"display: flex; width: 100%;\">\n  <div style=\"flex-basis: 40%; text-align: center; margin-right: 10%;\">\n    <img src=\"https://img.atcoder.jp/ahc024/424c43d223359f34250d50550689967b.png\" style=\"max-width: 100%; max-height: 100%; vertical-align: middle;\">\n    <p>正確な地図</p>\n  </div>\n  <div style=\"flex-basis: 50%; text-align: center;\">\n    <img src=\"https://img.atcoder.jp/ahc024/e490f6d700b89293edfe2c9288d0e54a.png\" style=\"max-width: 100%; max-height: 100%; vertical-align: middle;\">\n    <p>隣接関係を正しく表現した小さな地図</p>\n  </div>\n</div>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p><var>n\\times n</var> マスのグリッド上に表現された高橋市の地図が与えられる。\n一番左上のマスの座標を <var>(0,0)</var> とし、そこから下方向に <var>i</var> マス、右方向に <var>j</var> マス移動した先のマスの座標を <var>(i,j)</var> とする。\n高橋市は <var>m</var> 個の区からなり、<var>c</var> (<var>1\\leq c\\leq m</var>) 番の色で塗られたマスは <var>c</var> 番の区に対応する。\n<var>n\\times n</var> マスの外は市の外部であり、<var>0</var> 番の色で塗られているものとする。</p>\n<p>2つのマスは辺を共有する場合に「隣接している」と定義し、マス集合は隣接するマスを経由して互いに到達可能な場合に「連結である」と定義される。\n与えられた地図は、各色について、その色で塗られたマス集合は連結であることが保証されている。</p>\n<p><var>n\\times n</var> マスのグリッド上に表現された地図であって、以下の条件を全て満たすものを作成せよ。</p>\n<ul>\n<li>全ての色 <var>c</var> (<var>0\\leq c\\leq m</var>) について、色 <var>c</var> のマスは連結である。ただし、<var>n\\times n</var> マスの外部は色 <var>0</var> で塗られているため、色 <var>0</var> のマスは外部のマスを経由して連結であれば良い。</li>\n<li>全ての色 <var>c,d</var> (<var>0\\leq c&lt;d\\leq m</var>) に対して、元の地図と作成した地図で色 <var>c</var> のマス集合と色 <var>d</var> のマス集合の隣接関係が等しい。すなわち、元の地図で色 <var>c</var> で塗られたマスに隣接する色 <var>d</var> で塗られたマスが存在する場合、そしてその場合に限り、作成した地図においても 色 <var>c</var> のマスとそれに隣接する色 <var>d</var> のマスが存在する。ただし、<var>n\\times n</var> マスの外部は全て色 <var>0</var> で塗られているため、外周上のマスは色 <var>0</var> のマスと隣接しているとみなす。</li>\n</ul>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>得点</h3><p>作成した地図に含まれる色 <var>0</var> のマスの総数を <var>E</var> としたとき、<var>E+1</var> の得点が得られる。</p>\n<p>テストケースは全部で 150 個あり、各テストケースの得点の合計が提出の得点となる。\n一つ以上のテストケースで不正な出力や制限時間超過をした場合、提出全体の判定が<span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"不正解\">WA</span>や<span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"実行時間制限超過\">TLE</span>となる。\nコンテスト時間中に得た最高得点で最終順位が決定され、コンテスト終了後のシステムテストは行われない。 同じ得点を複数の参加者が得た場合、提出時刻に関わらず同じ順位となる。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>\n<pre><var>n</var> <var>m</var>\n<var>c_{0,0}</var> <var>c_{0,1}</var> <var>\\cdots</var> <var>c_{0,n-1}</var>\n<var>\\vdots</var>\n<var>c_{n-1,0}</var> <var>c_{n-1,1}</var> <var>\\cdots</var> <var>c_{n-1,n-1}</var>\n</pre>\n\n<p>全てのテストケースで <var>n = 50, m = 100</var> で固定である。\n<var>c_{i,j}</var> は座標 <var>(i,j)</var> のマスの色を表す整数値であり、<var>1\\leq c_{i,j}\\leq m</var> を満たす。\n各 <var>k=1,2,\\cdots,m</var> に対して、<var>c_{i,j}=k</var> であるような <var>(i,j)</var> が一つ以上存在する。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>作成した地図における座標 <var>(i,j)</var> のマスの色を <var>d_{i,j}</var> (<var>0\\leq d_{i,j}\\leq m</var>) としたとき、以下の形式で標準出力に出力せよ。</p>\n<pre><var>d_{0,0}</var> <var>d_{0,1}</var> <var>\\cdots</var> <var>d_{0,n-1}</var>\n<var>\\vdots</var>\n<var>d_{n-1,0}</var> <var>d_{n-1,1}</var> <var>\\cdots</var> <var>d_{n-1,n-1}</var>\n</pre>\n\n<p>出力された地図が問題文に記された条件を満たさない場合、<span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"不正解\">WA</span> と判定される。</p>\n<p>プログラムは解を複数回出力しても良い。\n複数回出力された場合、一番最後の解のみが採点に用いられる。\nWeb版のビジュアライザを使用すると、複数の解の比較が可能である。</p>\n<p><a href=\"https://img.atcoder.jp/ahc024/AU5KcDyn.html?lang=ja&amp;seed=0&amp;output=sample\">例を見る</a></p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>入力生成方法</h3><p></p><details>\nまずはじめに、全ての <var>(i,j)</var> に対して <var>c_{i,j}=0</var> で初期化する。\n次に、各 <var>k=1,2,\\cdots,m</var> について、<var>c_{i,j}=0</var> であるマスの中からランダムに一つ選んで <var>c_{i,j}=k</var> と設定する。\n最後に、以下の処理を <var>c_{i,j}=0</var> であるマスが無くなるまで繰り返す。<p></p>\n<p><var>c_{i,j}=0</var> であるマスをランダムに一つ選び、そのマスに隣接するマス <var>(i',j')</var> をランダムに選ぶ。\n<var>c_{i,j}=c_{i',j'}</var> と設定する。\n</p></details><p></p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>ツール(入力ジェネレータ・ビジュアライザ)</h3><ul>\n<li><a href=\"https://img.atcoder.jp/ahc024/AU5KcDyn.html?lang=ja\">Web版</a>: ローカル版より高性能でアニメーション表示と手動プレイが可能です。</li>\n<li><a href=\"https://img.atcoder.jp/ahc024/AU5KcDyn.zip\">ローカル版</a>: 使用するには<a href=\"https://www.rust-lang.org/ja\">Rust言語</a>のコンパイル環境をご用意下さい。<ul>\n<li><a href=\"https://img.atcoder.jp/ahc024/AU5KcDyn_windows.zip\">Windows用のコンパイル済みバイナリ</a>: Rust言語の環境構築が面倒な方は代わりにこちらをご利用下さい。</li>\n</ul>\n</li>\n</ul>\n<p>コンテスト期間中に、ビジュアライズ結果の共有や、解法・考察に関する言及は禁止されています。ご注意下さい。</p></section>\n</div>\n</div>\n</span>","en":"<span class=\"lang-en\">\n\n<div class=\"part\">\n<section>\n<h3>Story</h3><p>Mr. Takahashi, the mayor of Takahashi City, decided to draw a map of Takahashi City on the floor of the city hall lobby using colored square tiles.\nTakahashi City is divided into several wards, and in this map, each ward should be represented as a set of connected tiles of the same color.\nHe commissioned a contractor to create a draft of an accurate map, but the number of tiles to be used was too large, and the budget was exceeded.\nMayor Takahashi, who loves graphs, is only interested in the adjacencies between the wards and thinks that the map could be drawn with fewer tiles if information other than adjacencies, such as the shape and size of each ward, is ignored.\nPlease create a map using as few tiles as possible.</p>\n<div style=\"display: flex; width: 100%;\">\n  <div style=\"flex-basis: 40%; text-align: center; margin-right: 10%;\">\n    <img src=\"https://img.atcoder.jp/ahc024/424c43d223359f34250d50550689967b.png\" style=\"max-width: 100%; max-height: 100%; vertical-align: middle;\">\n    <p>Accurate map</p>\n  </div>\n  <div style=\"flex-basis: 50%; text-align: center;\">\n    <img src=\"https://img.atcoder.jp/ahc024/e490f6d700b89293edfe2c9288d0e54a.png\" style=\"max-width: 100%; max-height: 100%; vertical-align: middle;\">\n    <p>Small map correctly representing adjacencies</p>\n  </div>\n</div>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>Given a map of Takahashi City represented on a grid of <var>n\\times n</var> squares.\nLet <var>(0,0)</var> be the coordinates of the top-left square, and <var>(i,j)</var> be the coordinates of the square located <var>i</var> squares down and <var>j</var> squares to the right from there.\nThe city consists of <var>m</var> wards, and the square of color <var>c</var> (<var>1\\leq c\\leq m</var>) corresponds to the <var>c</var>-th ward.\nThe outside of the <var>n\\times n</var> squares correspond to the outside of the city and is colored <var>0</var>.</p>\n<p>Two squares are defined as \"adjacent\" if they share an edge, and a set of squares is defined as \"connected\" if any two squares can reach each other via adjacent squares.\nIn the given map, for each color c, the set of squares of color c is guaranteed to be connected.</p>\n<p>Your task is to create a map represented on a grid of <var>n\\times n</var> squares that satisfies all of the following conditions.</p>\n<ul>\n<li>For every color <var>c</var> (<var>0\\leq c\\leq m</var>), squares of color <var>c</var> must be connected. Note that since the outside of the <var>n\\times n</var> squares is colored <var>0</var>, squares of color <var>0</var> can be connected through the outside squares.</li>\n<li>For every pair of colors <var>c</var> and <var>d</var> (<var>0\\leq c&lt;d\\leq m</var>), the adjacency of a set of squares of color <var>c</var> and a set of squares of color <var>d</var> in the original map and the created map must be identical. That is, if and only if there exist adjacent squares of color <var>c</var> and <var>d</var> in the original map, there exist adjacent squares of color <var>c</var> and <var>d</var> in the created map. Note that since the outside of the <var>n\\times n</var> squares is colored <var>0</var>, the squares on the boundary are considered to be adjacent to squares of color <var>0</var>.</li>\n</ul>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Scoring</h3><p>Let <var>E</var> be the total number of squares of color <var>0</var> in the created map.\nThen you will obtain a score of <var>E+1</var>.</p>\n<p>There are 150 test cases, and the score of a submission is the total score for each test case.\nIf your submission produces an illegal output or exceeds the time limit for some test cases, the submission itself will be judged as <span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Wrong Answer\">WA</span> or <span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Time Limit Exceeded\">TLE</span> , and the score of the submission will be zero.\nThe highest score obtained during the contest will determine the final ranking, and there will be no system test after the contest.\nIf more than one participant gets the same score, they will be ranked in the same place regardless of the submission time.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>Input is given from Standard Input in the following format.</p>\n<pre><var>n</var> <var>m</var>\n<var>c_{0,0}</var> <var>c_{0,1}</var> <var>\\cdots</var> <var>c_{0,n-1}</var>\n<var>\\vdots</var>\n<var>c_{n-1,0}</var> <var>c_{n-1,1}</var> <var>\\cdots</var> <var>c_{n-1,n-1}</var>\n</pre>\n\n<p>For all test cases, we fix <var>n = 50</var> and <var>m = 100</var>.\n<var>c_{i,j}</var> is an integer value representing the color of the square at coordinates <var>(i,j)</var> and satisfies <var>1\\leq c_{i,j}\\leq m</var>.\nFor every <var>k=1,2,\\cdots,m</var>, there exists at least one <var>(i,j)</var> with <var>c_{i,j}=k</var>.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>Let <var>d_{i,j}</var> (<var>0\\leq d_{i,j}\\leq m</var>) be the color of the square at coordinates <var>(i,j)</var> in the created map.\nThen, output to Standard Output in the following format.</p>\n<pre><var>d_{0,0}</var> <var>d_{0,1}</var> <var>\\cdots</var> <var>d_{0,n-1}</var>\n<var>\\vdots</var>\n<var>d_{n-1,0}</var> <var>d_{n-1,1}</var> <var>\\cdots</var> <var>d_{n-1,n-1}</var>\n</pre>\n\n<p>If the output map does not satisfy the conditions specified in the problem statement, the submission will be judged as <span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Wrong Answer\">WA</span>.</p>\n<p>Your program may output multiple solutions.\nIf multiple solutions are output, only the last one is used for scoring.\nYou can compare multiple solutions using the web version of the visualizer.</p>\n<p><a href=\"https://img.atcoder.jp/ahc024/AU5KcDyn.html?lang=en&amp;seed=0&amp;output=sample\">Show example</a></p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Input Generation</h3><p></p><details>\nFirst, we initialize with <var>c_{i,j}=0</var> for all <var>(i,j)</var>.\nNext, for each <var>k=1,2,\\cdots,m</var>, we randomly select a square with <var>c_{i,j}=0</var> and set <var>c_{i,j}=k</var>.\nFinally, we repeat the following process while squares with <var>c_{i,j}=0</var> remain.<p></p>\n<p>Randomly select a square with <var>c_{i,j}=0</var> and randomly select its adjacent square <var>(i',j')</var>.\nWe set <var>c_{i,j}=c_{i',j'}</var>.\n</p></details><p></p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Tools (Input generator and visualizer)</h3><ul>\n<li><a href=\"https://img.atcoder.jp/ahc024/AU5KcDyn.html?lang=en\">Web version</a>: This is more powerful than the local version providing animations and manual play.</li>\n<li><a href=\"https://img.atcoder.jp/ahc024/AU5KcDyn.zip\">Local version</a>: You need a compilation environment of <a href=\"https://www.rust-lang.org/\">Rust language</a>.<ul>\n<li><a href=\"https://img.atcoder.jp/ahc024/AU5KcDyn_windows.zip\">Pre-compiled binary for Windows</a>: If you are not familiar with the Rust language environment, please use this instead.</li>\n</ul>\n</li>\n</ul>\n<p>Please be aware that sharing visualization results or discussing solutions/ideas during the contest is prohibited.</p></section>\n</div>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/ahc024/tasks/ahc024_a"}