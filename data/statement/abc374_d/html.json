{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>350</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p><var>xy</var> 平面に対し、レーザを照射しながら線分を印字する印字機があります。</p>\n<ul>\n<li>印字開始時、レーザ照射位置は座標 <var>(0, 0)</var> にある。</li>\n<li>\n<p>線分を印字する際は、以下の流れに従う。</p>\n<ul>\n<li>まず、レーザ照射位置を線分の端点のうちどちらか <var>1</var> つに移動させる。<ul>\n<li>どちらの端点から描画を始めてもよい。</li>\n</ul>\n</li>\n<li>その後、レーザ照射位置のある端点からもう一方の端点まで、レーザを照射しながらレーザ照射位置を一直線に移動させる。<ul>\n<li>線分の途中で印字を中止することは許されない。</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>レーザを照射していない時、レーザ照射位置は <var>1</var> 秒あたり速度 <var>S</var> で任意の方向に移動できる。</p>\n</li>\n<li>レーザを照射している時、レーザ照射位置は <var>1</var> 秒あたり速度 <var>T</var> で印字中の線分に沿って移動できる。</li>\n<li>レーザ照射位置の移動にかかる時間以外の所要時間は無視できる。</li>\n</ul>\n<p>高橋君はこの印字機で <var>N</var> 本の線分を印字したいです。<br>\nそのうち <var>i</var> 本目の線分は、座標 <var>(A_i, B_i)</var> と座標 <var>(C_i, D_i)</var> を結びます。<br>\nなお、複数の線分が重なっていることがありますが、全ての線分についてその都度重なっている部分を印字する必要があります。</p>\n<p>うまく印字機を操作したとき、全ての線分を印字完了するまでにかかる最小の時間は何秒ですか？</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li>入力は全て整数</li>\n<li><var>1 \\le N \\le 6</var></li>\n<li><var>1 \\le T \\le S \\le 1000</var></li>\n<li><var>-1000 \\le A_i,B_i,C_i,D_i \\le 1000</var></li>\n<li><var>(A_i,B_i) \\neq (C_i,D_i)</var> ( <var>1 \\le i \\le N</var> )</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>\n<pre><var>N</var> <var>S</var> <var>T</var>\n<var>A_1</var> <var>B_1</var> <var>C_1</var> <var>D_1</var>\n<var>\\vdots</var>\n<var>A_N</var> <var>B_N</var> <var>C_N</var> <var>D_N</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>答えを出力せよ。<br>\nなお、真の値との絶対誤差または相対誤差が <var>10^{-6}</var> 以下であれば正解として扱われる。</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>3 2 1\n1 3 2 1\n0 2 0 0\n3 0 2 0\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>6.44317475868633722080\n</pre>\n<ul>\n<li>レーザを照射しながらレーザ照射位置を <var>(0,0)</var> から <var>(0,2)</var> まで移動させ、 <var>2</var> 本目の線分を描画する。<ul>\n<li>この描画に要する時間は <var>2</var> 秒である。</li>\n</ul>\n</li>\n<li>レーザを照射せずレーザ照射位置を <var>(0,2)</var> から <var>(1,3)</var> まで移動させる。<ul>\n<li>この移動に要する時間は <var>\\sqrt{2}/2</var> 秒である。</li>\n</ul>\n</li>\n<li>レーザを照射しながらレーザ照射位置を <var>(1,3)</var> から <var>(2,1)</var> まで移動させ、 <var>1</var> 本目の線分を描画する。<ul>\n<li>この描画に要する時間は <var>\\sqrt{5}</var> 秒である。</li>\n</ul>\n</li>\n<li>レーザを照射せずレーザ照射位置を <var>(2,1)</var> から <var>(2,0)</var> まで移動させる。<ul>\n<li>この移動に要する時間は <var>1/2</var> 秒である。</li>\n</ul>\n</li>\n<li>\n<p>レーザを照射しながらレーザ照射位置を <var>(2,0)</var> から <var>(3,0)</var> まで移動させ、 <var>3</var> 本目の線分を描画する。</p>\n<ul>\n<li>この描画に要する時間は <var>1</var> 秒である。</li>\n</ul>\n</li>\n<li>\n<p>全体の所要時間は <var>2 + (\\sqrt{2}/2) + \\sqrt{5} + (1/2) + 1\\approx 6.443175</var> 秒です。</p>\n</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>2 1 1\n0 0 10 10\n0 2 2 0\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>20.97056274847714058517\n</pre>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 3</h3><pre>6 3 2\n-1000 -1000 1000 1000\n1000 -1000 -1000 1000\n-1000 -1000 1000 1000\n1000 -1000 -1000 1000\n1000 1000 -1000 -1000\n-1000 1000 1000 -1000\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 3</h3><pre>9623.35256169626864153344\n</pre>\n<p>複数の線分が重なっていますが、全ての線分についてその都度重なっている部分を印字する必要があります。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 4</h3><pre>6 10 8\n1000 1000 -1000 -1000\n1000 -1000 -1000 -1000\n-1000 1000 1000 1000\n-1000 1000 -1000 -1000\n1000 1000 1000 -1000\n1000 -1000 -1000 1000\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 4</h3><pre>2048.52813742385702910909\n</pre></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>350</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>There is a printing machine that prints line segments on the <var>xy</var>-plane by emitting a laser.</p>\n<ul>\n<li>At the start of printing, the laser position is at coordinate <var>(0, 0)</var>.</li>\n<li>\n<p>When printing a line segment, the procedure below is followed.</p>\n<ul>\n<li>First, move the laser position to one of the endpoints of the line segment.<ul>\n<li>One may start drawing from either endpoint.</li>\n</ul>\n</li>\n<li>Then, move the laser position in a straight line from the current endpoint to the other endpoint while emitting the laser.<ul>\n<li>It is not allowed to stop printing in the middle of a line segment.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>When not emitting the laser, the laser position can move in any direction at a speed of <var>S</var> units per second.</p>\n</li>\n<li>When emitting the laser, the laser position can move along the line segment being printed at a speed of <var>T</var> units per second.</li>\n<li>The time required for operations other than moving the laser position can be ignored.</li>\n</ul>\n<p>Takahashi wants to print <var>N</var> line segments using this printing machine.<br>\nThe <var>i</var>-th line segment connects coordinates <var>(A_i, B_i)</var> and <var>(C_i, D_i)</var>.<br>\nSome line segments may overlap, in which case he needs to print the overlapping parts for each line segment separately.</p>\n<p>What is the minimum number of seconds required to complete printing all the line segments when he operates the printing machine optimally?</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li>All input values are integers.</li>\n<li><var>1 \\le N \\le 6</var></li>\n<li><var>1 \\le T \\le S \\le 1000</var></li>\n<li><var>-1000 \\le A_i,B_i,C_i,D_i \\le 1000</var></li>\n<li><var>(A_i,B_i) \\neq (C_i,D_i)</var> ( <var>1 \\le i \\le N</var> )</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>The input is given from Standard Input in the following format:</p>\n<pre><var>N</var> <var>S</var> <var>T</var>\n<var>A_1</var> <var>B_1</var> <var>C_1</var> <var>D_1</var>\n<var>\\vdots</var>\n<var>A_N</var> <var>B_N</var> <var>C_N</var> <var>D_N</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>Print the answer.</p>\n<p>Your output will be considered correct if the absolute or relative error from the true value does not exceed <var>10^{-6}</var>.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>3 2 1\n1 3 2 1\n0 2 0 0\n3 0 2 0\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>6.44317475868633722080\n</pre>\n<ul>\n<li>Emit the laser while moving the laser position from <var>(0,0)</var> to <var>(0,2)</var>, printing the second line segment.<ul>\n<li>This takes <var>2</var> seconds.</li>\n</ul>\n</li>\n<li>Move the laser position from <var>(0,2)</var> to <var>(1,3)</var> without emitting the laser.<ul>\n<li>This takes <var>\\sqrt{2}/2</var> seconds.</li>\n</ul>\n</li>\n<li>Emit the laser while moving the laser position from <var>(1,3)</var> to <var>(2,1)</var>, printing the first line segment.<ul>\n<li>This takes <var>\\sqrt{5}</var> seconds.</li>\n</ul>\n</li>\n<li>Move the laser position from <var>(2,1)</var> to <var>(2,0)</var> without emitting the laser.<ul>\n<li>This takes <var>1/2</var> second.</li>\n</ul>\n</li>\n<li>Emit the laser while moving the laser position from <var>(2,0)</var> to <var>(3,0)</var>, printing the third line segment.<ul>\n<li>This takes <var>1</var> second.</li>\n</ul>\n</li>\n<li>The total time taken is <var>2 + (\\sqrt{2}/2) + \\sqrt{5} + (1/2) + 1 \\approx 6.443175</var> seconds.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>2 1 1\n0 0 10 10\n0 2 2 0\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>20.97056274847714058517\n</pre>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 3</h3><pre>6 3 2\n-1000 -1000 1000 1000\n1000 -1000 -1000 1000\n-1000 -1000 1000 1000\n1000 -1000 -1000 1000\n1000 1000 -1000 -1000\n-1000 1000 1000 -1000\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 3</h3><pre>9623.35256169626864153344\n</pre>\n<p>Multiple line segments overlap here, and you need to print the overlapping parts for each line segment separately.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 4</h3><pre>6 10 8\n1000 1000 -1000 -1000\n1000 -1000 -1000 -1000\n-1000 1000 1000 1000\n-1000 1000 -1000 -1000\n1000 1000 1000 -1000\n1000 -1000 -1000 1000\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 4</h3><pre>2048.52813742385702910909\n</pre></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/abc374/tasks/abc374_d"}