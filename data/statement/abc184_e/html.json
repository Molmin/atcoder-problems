{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>500</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p>縦 <var>H</var> マス、横 <var>W</var> マスの <var>2</var> 次元グリッドで表された街があります。<br>\n上から <var>i</var> 行目、左から <var>j</var> 列目のマスの情報が文字 <var>a_{i,j}</var> により与えられます。 <var>a_{i,j}</var> は <code>S</code> , <code>G</code> , <code>.</code> , <code>#</code> , <code>a</code> ~ <code>z</code> のいずれかです。<br>\n<code>#</code> は入ることができないマスを、<code>a</code> ~ <code>z</code> はテレポーターのあるマスを表します。</p>\n<p>高橋くんははじめ <code>S</code> のマスにおり、 <var>1</var> 秒ごとに以下のいずれかの移動を行います。</p>\n<ul>\n<li>現在いるマスと上下左右に隣り合う、<code>#</code> でないマスに移動する。</li>\n<li>今いるマスと同じ文字が書かれているマスを <var>1</var> つ選び、そこにテレポートする。この移動は現在いるマスが <code>a</code> ~ <code>z</code> のいずれかであるとき使える。</li>\n</ul>\n<p>高橋くんが <code>S</code> のマスから <code>G</code> のマスに移動するのに必要な最短の時間を求めてください。<br>\nただし、どうしても <code>G</code> のマスにたどり着けない場合は、代わりに <code>-1</code> を出力してください。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>1 \\le H, W \\le 2000</var></li>\n<li><var>a_{i,j}</var> は <code>S</code> , <code>G</code> , <code>.</code> , <code>#</code> , 英小文字のいずれか</li>\n<li><code>S</code> のマスと <code>G</code> のマスはちょうど <var>1</var> つ存在する</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>\n<pre><var>H</var> <var>W</var>\n<var>a_{1,1}\\dots a_{1,W}</var>\n<var>\\vdots</var>\n<var>a_{H,1}\\dots a_{H,W}</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p><code>S</code> のマスから <code>G</code> のマスに移動するのに必要な最短時間を出力せよ。<br>\n<code>S</code> のマスから <code>G</code> のマスに移動する方法が存在しない場合は、代わりに <code>-1</code> を出力せよ。</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>2 5\nS.b.b\na.a.G\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>4\n</pre>\n\n<p>上から <var>i</var> 行目、左から <var>j</var> 列目のマスを <var>(i, j)</var> で表すこととします。<br>\nはじめ、高橋くんは <var>(1, 1)</var> にいます。\n例えば、以下のような手順で <var>4</var> 秒で <var>(2, 5)</var> に移動することができます。</p>\n<ul>\n<li><var>(1, 1)</var> から <var>(2, 1)</var> に移動する</li>\n<li><var>(2, 1)</var> と同じ <code>a</code> のマスである <var>(2, 3)</var> にテレポートする</li>\n<li><var>(2, 3)</var> から <var>(2, 4)</var> に移動する</li>\n<li><var>(2, 4)</var> から <var>(2, 5)</var> に移動する</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>11 11\nS##...#c...\n...#d.#.#..\n..........#\n.#....#...#\n#.....bc...\n#.##......#\n.......c..#\n..#........\na..........\nd..#...a...\n.#........G\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>14\n</pre>\n\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 3</h3><pre>11 11\n.#.#.e#a...\n.b..##..#..\n#....#.#..#\n.#dd..#..#.\n....#...#e.\nc#.#a....#.\n.....#..#.e\n.#....#b.#.\n.#...#..#..\n......#c#G.\n#..S...#...\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 3</h3><pre>-1\n</pre></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>500</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>There is a town represented as a two-dimensional grid with <var>H</var> horizontal rows and <var>W</var> vertical columns.<br>\nA character <var>a_{i,j}</var> describes the square at the <var>i</var>-th row from the top and <var>j</var>-th column from the left. Here, <var>a_{i,j}</var> is one of the following: <code>S</code> , <code>G</code> , <code>.</code> , <code>#</code> , <code>a</code>, ..., and <code>z</code>.<br>\n<code>#</code> represents a square that cannot be entered, and <code>a</code>, ..., <code>z</code> represent squares with teleporters.  </p>\n<p>Takahashi is initially at the square represented as <code>S</code>. In each second, he will make one of the following moves:</p>\n<ul>\n<li>Go to a non-<code>#</code> square that is horizontally or vertically adjacent to his current position.</li>\n<li>Choose a square with the same character as that of his current position, and teleport to that square. He can only use this move when he is at a square represented as <code>a</code>, ..., or <code>z</code>.</li>\n</ul>\n<p>Find the shortest time Takahashi needs to reach the square represented as <code>G</code> from the one represented as <code>S</code>.<br>\nIf the destination is unreachable, report <code>-1</code> instead.  </p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>1 \\le H, W \\le 2000</var></li>\n<li><var>a_{i,j}</var> is <code>S</code>, <code>G</code>, <code>.</code>, <code>#</code>, or a lowercase English letter.</li>\n<li>There is exactly one square represented as <code>S</code> and one square represented as <code>G</code>.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>Input is given from Standard Input in the following format:</p>\n<pre><var>H</var> <var>W</var>\n<var>a_{1,1}\\dots a_{1,W}</var>\n<var>\\vdots</var>\n<var>a_{H,1}\\dots a_{H,W}</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>Print the shortest time Takahashi needs to reach the square represented as <code>G</code> from the one represented as <code>S</code>.<br>\nIf the destination is unreachable from the initial position, print <code>-1</code> instead.  </p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>2 5\nS.b.b\na.a.G\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>4\n</pre>\n\n<p>Let <var>(i, j)</var> denote the square at the <var>i</var>-th row from the top and <var>j</var>-th column from the left.<br>\nInitially, Takahashi is at <var>(1, 1)</var>.\nOne way to reach <var>(2, 5)</var> in four seconds is:</p>\n<ul>\n<li>go from <var>(1, 1)</var> to <var>(2, 1)</var>;</li>\n<li>teleport from <var>(2, 1)</var> to <var>(2, 3)</var>, which is also an <code>a</code> square;</li>\n<li>go from <var>(2, 3)</var> to <var>(2, 4)</var>;</li>\n<li>go from <var>(2, 4)</var> to <var>(2, 5)</var>.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>11 11\nS##...#c...\n...#d.#.#..\n..........#\n.#....#...#\n#.....bc...\n#.##......#\n.......c..#\n..#........\na..........\nd..#...a...\n.#........G\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>14\n</pre>\n\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 3</h3><pre>11 11\n.#.#.e#a...\n.b..##..#..\n#....#.#..#\n.#dd..#..#.\n....#...#e.\nc#.#a....#.\n.....#..#.e\n.#....#b.#.\n.#...#..#..\n......#c#G.\n#..S...#...\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 3</h3><pre>-1\n</pre></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/abc184/tasks/abc184_e"}