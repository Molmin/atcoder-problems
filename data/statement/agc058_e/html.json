{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>1400</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p>この問題では，順列と言った際には，<var>(1,2,\\cdots,N)</var> の順列を指すものとします．</p>\n<p><var>2</var> つの順列 <var>p,q</var> に対し，それらの距離 <var>d(p,q)</var> を次のように定義します．</p>\n<ul>\n<li><var>p</var> の中で隣接 <var>2</var> 項を swap することを繰り返し，<var>p</var> を <var>q</var> に一致させることを考える．この時必要な最小の操作回数を <var>d(p,q)</var> とする．</li>\n</ul>\n<p>さらに，順列 <var>x</var> に対し，順列 <var>f(x)</var> を次のように定義します．</p>\n<ul>\n<li><var>y=(1,2,\\cdots,N)</var> とする．ここで，順列 <var>z</var> であって，<var>d(x,z) \\leq d(y,z)</var> を満たすものを考える．\nこれらの中で辞書順最小のものを <var>f(x)</var> とする．</li>\n</ul>\n<p>例えば，<var>x=(2,3,1)</var> の場合，<var>d(x,z) \\leq d(y,z)</var> を満たす順列としては，<var>z=(2,1,3),(2,3,1),(3,1,2),(3,2,1)</var> が考えられます．\nこのうち辞書順最小なのは <var>(2,1,3)</var> なので， <var>f(x)=(2,1,3)</var> となります．</p>\n<p>順列 <var>A=(A_1,A_2,\\cdots,A_N)</var> が与えられます．\n<var>f(x)=A</var> を満たす順列 <var>x</var> が存在するかどうか判定してください．</p>\n<p><var>1</var> つの入力ファイルにつき，<var>T</var> 個のテストケースを解いてください．</p>\n<details> <summary>数列の辞書順とは？</summary> <p> \n相異なる数列 <var>S</var> と数列 <var>T</var> の大小を判定するアルゴリズムを以下に説明します。 </p>\n\n<p>以下では <var>S</var> の <var>i</var> 番目の要素を <var>S_i</var> のように表します。また、 <var>S</var> が <var>T</var> より辞書順で小さい場合は <var>S \\lt T</var> 、大きい場合は <var>S \\gt T</var> と表します。</p>\n\n<ol> <li> <var>S</var> と <var>T</var> のうち長さが短い方の文字列の長さを <var>L</var> とします。<var>i=1,2,\\dots,L</var> に対して <var>S_i</var> と <var>T_i</var> が一致するか調べます。 </li> <li> <var>S_i \\neq T_i</var> である <var>i</var> が存在する場合、そのような <var>i</var> のうち最小のものを <var>j</var> とします。そして、<var>S_j</var> と <var>T_j</var> を比較して、 <var>S_j</var> が <var>T_j</var> より（数として）小さい場合は <var>S \\lt T</var> 、大きい場合は <var>S \\gt T</var> と決定して、アルゴリズムを終了します。 </li> <li> <var>S_i \\neq T_i</var> である <var>i</var> が存在しない場合、 <var>S</var> と <var>T</var> の長さを比較して、<var>S</var> が <var>T</var> より短い場合は <var>S \\lt T</var> 、長い場合は <var>S \\gt T</var> と決定して、アルゴリズムを終了します。 </li> </ol>\n\n</details>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>1 \\leq T \\leq 150000</var></li>\n<li><var>2 \\leq N \\leq 300000</var></li>\n<li><var>(A_1,A_2,\\cdots,A_N)</var> は <var>(1,2,\\cdots,N)</var> の順列</li>\n<li><var>1</var> つの入力ファイルにつき，<var>N</var> の総和は <var>300000</var> を超えない</li>\n<li>入力される値はすべて整数である</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる．</p>\n<pre><var>T</var>\n<var>case_1</var>\n<var>case_2</var>\n<var>\\vdots</var>\n<var>case_T</var>\n</pre>\n<p>各ケースは以下の形式で与えられる．</p>\n<pre><var>N</var>\n<var>A_1</var> <var>A_2</var> <var>\\cdots</var> <var>A_N</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>各ケースに対し，<var>f(x)=A</var> を満たす順列 <var>x</var> が存在するならば <code>Yes</code> を，存在しないならば <code>No</code> を出力せよ．</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>2\n2\n1 2\n2\n2 1\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>Yes\nYes\n</pre>\n<p>例えば <var>A=(2,1)</var> の場合は，<var>x=(2,1)</var> とすると <var>f(x)=A</var> となります．</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>6\n3\n1 2 3\n3\n1 3 2\n3\n2 1 3\n3\n2 3 1\n3\n3 1 2\n3\n3 2 1\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>Yes\nYes\nYes\nYes\nNo\nNo\n</pre>\n<p>例えば <var>A=(2,3,1)</var> の場合は，<var>x=(3,2,1)</var> とすると，<var>f(x)=A</var> となります．</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 3</h3><pre>24\n4\n1 2 3 4\n4\n1 2 4 3\n4\n1 3 2 4\n4\n1 3 4 2\n4\n1 4 2 3\n4\n1 4 3 2\n4\n2 1 3 4\n4\n2 1 4 3\n4\n2 3 1 4\n4\n2 3 4 1\n4\n2 4 1 3\n4\n2 4 3 1\n4\n3 1 2 4\n4\n3 1 4 2\n4\n3 2 1 4\n4\n3 2 4 1\n4\n3 4 1 2\n4\n3 4 2 1\n4\n4 1 2 3\n4\n4 1 3 2\n4\n4 2 1 3\n4\n4 2 3 1\n4\n4 3 1 2\n4\n4 3 2 1\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 3</h3><pre>Yes\nYes\nYes\nYes\nYes\nYes\nYes\nYes\nYes\nYes\nNo\nNo\nNo\nNo\nNo\nNo\nNo\nNo\nNo\nNo\nNo\nNo\nNo\nNo\n</pre></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>1400</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>In this problem, a \"permutation\" always means a permutation of <var>(1,2,\\cdots,N)</var>.</p>\n<p>For two permutations <var>p</var> and <var>q</var>, let us define the distance between them, <var>d(p,q)</var>, as follows.</p>\n<ul>\n<li>Consider making <var>p</var> equal <var>q</var> by repeatedly swapping two adjacent terms in <var>p</var>. Let <var>d(p,q)</var> be the minimum number of swaps required here.</li>\n</ul>\n<p>Additionally, for a permutation <var>x</var>, let us define another permutation <var>f(x)</var> as follows.</p>\n<ul>\n<li>Let <var>y=(1,2,\\cdots,N)</var>. Consider permutations <var>z</var> such that <var>d(x,z) \\leq d(y,z)</var>. Let <var>f(x)</var> be the lexicographically smallest of those permutations.</li>\n</ul>\n<p>For example, when <var>x=(2,3,1)</var>, the permutations <var>z</var> such that <var>d(x,z) \\leq d(y,z)</var> are <var>z=(2,1,3),(2,3,1),(3,1,2),(3,2,1)</var>.\nThe lexicographically smallest of them is <var>(2,1,3)</var>, so we have <var>f(x)=(2,1,3)</var>.</p>\n<p>You are given a permutation <var>A=(A_1,A_2,\\cdots,A_N)</var>.\nDetermine whether there is a permutation <var>x</var> such that <var>f(x)=A</var>.</p>\n<p>Solve <var>T</var> test cases for each input file.</p>\n<details> <summary>What is lexicographical order on sequences?</summary> <p> \nThe algorithm described here determines the lexicographical order between distinct sequences <var>S</var> and <var>T</var>.</p>\n\n<p>Below, let <var>S_i</var> denote the <var>i</var>-th element of <var>S</var>. Additionally, let <var>S \\lt T</var> and <var>S \\gt T</var> mean \"<var>S</var> is lexicographical smaller than <var>T</var>\" and \"<var>S</var> is lexicographical larger than <var>T</var>,\" respectively.</p>\n\n<ol> <li> Let <var>L</var> be the length of the shorter of <var>S</var> and <var>T</var>. For each <var>i=1,2,\\dots,L</var>, let us check whether <var>S_i</var> and <var>T_i</var> are equal. </li> <li> If there is <var>i</var> such that <var>S_i \\neq T_i</var>, let <var>j</var> be the smallest such <var>i</var>, and compare <var>S_j</var> and <var>T_j</var>. If <var>S_j</var> is smaller than <var>T_j</var> (as a number), we conclude <var>S \\lt T</var> and exit; if <var>S_j</var> is larger than <var>T_j</var>, we conclude <var>S \\gt T</var> and exit. </li> <li> If there is no <var>i</var> such that <var>S_i \\neq T_i</var>, compare the lengths of <var>S</var> and <var>T</var>. If <var>S</var> is shorter than <var>T</var>, we conclude <var>S \\lt T</var> and exit; if <var>S</var> is longer than <var>T</var>, we conclude <var>S \\gt T</var> and exit.</li> </ol>\n\n</details>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>1 \\leq T \\leq 150000</var></li>\n<li><var>2 \\leq N \\leq 300000</var></li>\n<li><var>(A_1,A_2,\\cdots,A_N)</var> is a permutation of <var>(1,2,\\cdots,N)</var>.</li>\n<li>The sum of <var>N</var> in one input file does not exceed <var>300000</var>.</li>\n<li>All values in input are integers.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>Input is given from Standard Input in the following format:</p>\n<pre><var>T</var>\n<var>case_1</var>\n<var>case_2</var>\n<var>\\vdots</var>\n<var>case_T</var>\n</pre>\n<p>Each case is in the following format:</p>\n<pre><var>N</var>\n<var>A_1</var> <var>A_2</var> <var>\\cdots</var> <var>A_N</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>For each case, print <code>Yes</code> if there is a permutation <var>x</var> such that <var>f(x)=A</var>, and <code>No</code> otherwise.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>2\n2\n1 2\n2\n2 1\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>Yes\nYes\n</pre>\n<p>For instance, when <var>A=(2,1)</var>, one can let <var>x=(2,1)</var> to satisfy <var>f(x)=A</var>.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>6\n3\n1 2 3\n3\n1 3 2\n3\n2 1 3\n3\n2 3 1\n3\n3 1 2\n3\n3 2 1\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>Yes\nYes\nYes\nYes\nNo\nNo\n</pre>\n<p>For instance, when <var>A=(2,3,1)</var>, one can let <var>x=(3,2,1)</var> to satisfy <var>f(x)=A</var>.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 3</h3><pre>24\n4\n1 2 3 4\n4\n1 2 4 3\n4\n1 3 2 4\n4\n1 3 4 2\n4\n1 4 2 3\n4\n1 4 3 2\n4\n2 1 3 4\n4\n2 1 4 3\n4\n2 3 1 4\n4\n2 3 4 1\n4\n2 4 1 3\n4\n2 4 3 1\n4\n3 1 2 4\n4\n3 1 4 2\n4\n3 2 1 4\n4\n3 2 4 1\n4\n3 4 1 2\n4\n3 4 2 1\n4\n4 1 2 3\n4\n4 1 3 2\n4\n4 2 1 3\n4\n4 2 3 1\n4\n4 3 1 2\n4\n4 3 2 1\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 3</h3><pre>Yes\nYes\nYes\nYes\nYes\nYes\nYes\nYes\nYes\nYes\nNo\nNo\nNo\nNo\nNo\nNo\nNo\nNo\nNo\nNo\nNo\nNo\nNo\nNo\n</pre></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/agc058/tasks/agc058_e"}