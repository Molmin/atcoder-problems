{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>800</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p><var>N</var> 人の人が大会に出場しました。この大会はトーナメント形式であり、<var>N-1</var> 回の試合が行われました。\n諸事情により、このトーナメントは全参加者に平等に組まれているとは限りません。\nすなわち、各人に対し、優勝するために必要なその人が勝者となるような試合数が等しいとは限りません。\nトーナメントの構造は、正式には問題文の末尾で定義されます。</p>\n<p>各試合では必ず片方の人が勝者、もう片方の人が敗者となり、最後まで負けなかった <var>1</var> 人が優勝となります。</p>\n<div style=\"text-align: center;\">\n<img src=\"https://atcoder.jp/img/agc009/783f7be9c88350e31963edba8a958879.png\">\n<p>図: トーナメントの例</p>\n</div>\n\n<p>人には <var>1</var> から <var>N</var> までの番号がついており、<var>1</var> 番の人が優勝し、優勝者以外の人 <var>i(2 ≦ i ≦ N)</var> は人 <var>a_i</var> との試合で負けました。</p>\n<p>トーナメントの深さとは、すべての人に対する、その人が優勝するために必要な、その人が勝者となるような試合数の最大値です。</p>\n<p>トーナメントの深さとしてありうる最小の値を求めてください。</p>\n<p>トーナメントの構造の正式な定義は以下の通りです。<var>i</var> 回目の試合では、</p>\n<ul>\n<li>あらかじめ決められた、まだ試合をしていない <var>2</var> 人の人</li>\n<li>あらかじめ決められたまだ試合をしていない人 <var>1</var> 人と、あらかじめ決められた <var>j(j&lt;i)</var> に対する、<var>j</var> 回目の試合の勝者</li>\n<li>あらかじめ決められた <var>j,k(j,k&lt;i, j ≠ k)</var> に対する、<var>j</var> 回目の試合の勝者と <var>k</var> 回目の試合の勝者</li>\n</ul>\n<p>のうちのいずれかの <var>2</var> 人が試合を行います。このような構造であって、どのように試合結果を決めても、すでに一度試合に負けた人が再び試合をすることのないようなものをトーナメントと呼びます。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>2 ≦ N ≦ 10^5</var></li>\n<li><var>1 ≦ a_i ≦ N(2 ≦ i ≦ N)</var></li>\n<li>入力の試合結果と合致するようなトーナメントが存在する</li>\n</ul>\n</section>\n</div>\n\n<hr>\n\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>\n<pre><var>N</var>\n<var>a_2</var>\n:\n<var>a_N</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>トーナメントの深さとしてありうる最小の値を出力せよ。</p>\n</section>\n</div>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>5\n1\n1\n2\n4\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>3\n</pre>\n\n<p>次のような試合結果が条件を満たします。</p>\n<ul>\n<li><var>1</var> 回目の試合では、人 <var>4</var> と 人 <var>5</var> が対戦し、人 <var>4</var> が勝つ</li>\n<li><var>2</var> 回目の試合では、人 <var>2</var> と 人 <var>4</var> が対戦し、人 <var>2</var> が勝つ</li>\n<li><var>3</var> 回目の試合では、人 <var>1</var> と 人 <var>3</var> が対戦し、人 <var>1</var> が勝つ</li>\n<li><var>4</var> 回目の試合では、人 <var>1</var> と 人 <var>2</var> が対戦し、人 <var>1</var> が勝つ</li>\n</ul>\n<div style=\"text-align: center;\">\n<img alt=\"783f7be9c88350e31963edba8a958879.png\" src=\"https://atcoder.jp/img/agc009/783f7be9c88350e31963edba8a958879.png\">\n</div>\n\n<p>このトーナメントは、人 <var>5</var> が優勝するためには <var>3</var> 回勝利する必要があるので、深さ <var>3</var> のトーナメントとなります。\n逆に、深さ <var>2</var> 以下の条件を満たすトーナメントは存在しないので、<var>3</var> を出力します。</p>\n</section>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>7\n1\n2\n1\n3\n1\n4\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>3\n</pre>\n\n</section>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>入力例 3</h3><pre>4\n4\n4\n1\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 3</h3><pre>3\n</pre></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>800</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p><var>N</var> contestants participated in a competition. The total of <var>N-1</var> matches were played in a knockout tournament.\nFor some reasons, the tournament may not be \"fair\" for all the contestants.\nThat is, the number of the matches that must be played in order to win the championship may be different for each contestant. The structure of the tournament is formally described at the end of this statement.</p>\n<p>After each match, there were always one winner and one loser. The last contestant standing was declared the champion.</p>\n<div style=\"text-align: center;\">\n<img src=\"https://atcoder.jp/img/agc009/783f7be9c88350e31963edba8a958879.png\">\n<p>Figure: an example of a tournament</p>\n</div>\n\n<p>For convenience, the contestants were numbered <var>1</var> through <var>N</var>. The contestant numbered <var>1</var> was the champion, and the contestant numbered <var>i(2 ≦ i ≦ N)</var> was defeated in a match against the contestant numbered <var>a_i</var>.</p>\n<p>We will define the <em>depth</em> of the tournament as the maximum number of the matches that must be played in order to win the championship over all the contestants.</p>\n<p>Find the minimum possible depth of the tournament.</p>\n<p>The formal description of the structure of the tournament is as follows. In the <var>i</var>-th match, one of the following played against each other:</p>\n<ul>\n<li>Two predetermined contestants</li>\n<li>One predetermined contestant and the winner of the <var>j</var>-th match, where <var>j(j&lt;i)</var> was predetermined</li>\n<li>The winner of the <var>j</var>-th match and the winner of the <var>k</var>-th match, where <var>j</var> and <var>k</var> <var>(j,k&lt;i, j ≠ k)</var> were predetermined</li>\n</ul>\n<p>Such structure is valid structure of the tournament, if and only if no contestant who has already been defeated in a match will never play in a match, regardless of the outcome of the matches.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>2 ≦ N ≦ 10^5</var></li>\n<li><var>1 ≦ a_i ≦ N(2 ≦ i ≦ N)</var></li>\n<li>It is guaranteed that the input is consistent (that is, there exists at least one tournament that matches the given information).</li>\n</ul>\n</section>\n</div>\n\n<hr>\n\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>The input is given from Standard Input in the following format:</p>\n<pre><var>N</var>\n<var>a_2</var>\n:\n<var>a_N</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>Print the minimum possible depth of the tournament.</p>\n</section>\n</div>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>5\n1\n1\n2\n4\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>3\n</pre>\n\n<p>The following tournament and the result of the matches are consistent with the given information:</p>\n<ul>\n<li>In the first match, contestants <var>4</var> and <var>5</var> played against each other, and contestant <var>4</var> won.</li>\n<li>In the second match, contestants <var>2</var> and <var>4</var> played against each other, and contestant <var>2</var> won.</li>\n<li>In the third match, contestants <var>1</var> and <var>3</var> played against each other, and contestant <var>1</var> won.</li>\n<li>In the fourth match, contestants <var>1</var> and <var>2</var> played against each other, and contestant <var>1</var> won.</li>\n</ul>\n<div style=\"text-align: center;\">\n<img alt=\"783f7be9c88350e31963edba8a958879.png\" src=\"https://atcoder.jp/img/agc009/783f7be9c88350e31963edba8a958879.png\">\n</div>\n\n<p>The depth of this tournament is <var>3</var>, since contestant <var>5</var> must play three matches in order to win the championship.\nThere is no tournament with depth <var>2</var> or less that is consistent with the given information, thus the output should be <var>3</var>.</p>\n</section>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>7\n1\n2\n1\n3\n1\n4\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>3\n</pre>\n\n</section>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>Sample Input 3</h3><pre>4\n4\n4\n1\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 3</h3><pre>3\n</pre></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/agc009/tasks/agc009_b"}