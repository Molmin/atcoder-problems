{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>600</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p>あなたは <var>N</var> 個のコンテストに参加します。コンテストが開催される順にコンテスト <var>1</var>, コンテスト <var>2</var>, <var>\\dots</var> コンテスト <var>N</var> と呼びます。<br>\n各コンテストに参加すると、コンテストごとに <strong>パフォーマンス</strong> という値が与えられます。コンテスト <var>i</var> で与えられるパフォーマンスを <var>P_i</var> とします。<br>\nまた、あなたは <strong>レーティング</strong> という値を持っています。レーティングはコンテストでのパフォーマンスによって変化する値です。コンテストに参加する前のレーティングの値は <var>0</var> で、コンテスト <var>n</var> に出た後のレーティングの値は <var>\\frac{1}{n} \\left(\\sum_{i=1}^n P_i \\right)</var> に変化します。 <br>\nただし、あなたのレーティングが一度 <var>B</var>  <strong>以上</strong> になると、それ以降はコンテストに参加してもレーティングは変動しなくなります。</p>\n<p>あなたはコンテストに出る前に、それぞれのコンテストで得られるパフォーマンスを予測することにしました。はじめ、コンテスト <var>i</var> のパフォーマンスの予測値を <var>a_i</var> とします。クエリが <var>Q</var> 個与えられるので入力される順にすべて処理してください。  </p>\n<p>各クエリでは 2 個の整数 <var>c, x</var> が与えられます。あなたは、まずコンテスト <var>c</var> のパフォーマンスの予測値を <var>x</var> に変更します。(この変更は永続的です。) そして、あなたが <var>N</var> 個のコンテスト全てで現在の予測値通りのパフォーマンスを得られた場合の、全てのコンテストに参加した後のレーティングの値を答えてください。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>1 \\leq N \\leq 5 \\times 10^5</var></li>\n<li><var>1 \\leq B \\leq 10^9</var></li>\n<li><var>1 \\leq Q \\leq 10^5</var></li>\n<li><var>0 \\leq a_i \\leq 10^9</var></li>\n<li><var>1 \\leq c \\leq N</var></li>\n<li><var>0 \\leq x \\leq 10^9</var></li>\n<li>入力される値はすべて整数</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。ただし、<var>c_i, x_i</var> は <var>i</var> 番目のクエリで与えられる <var>c, x</var> を意味する。</p>\n<pre><var>N</var> <var>B</var> <var>Q</var>\n<var>a_1</var> <var>a_2</var> <var>\\dots</var> <var>a_N</var>\n<var>c_1</var> <var>x_1</var>\n<var>c_2</var> <var>x_2</var>\n<var>\\vdots</var>\n<var>c_Q</var> <var>x_Q</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p><var>Q</var> 行出力せよ。<var>i</var> 行目には <var>i</var> 番目のクエリに対する答えを出力せよ。<br>\nなお、真の値との絶対誤差または相対誤差が <var>10^{-9}</var> 以下であれば正解として扱われる。</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>5 6 7\n5 1 9 3 8\n4 9\n2 10\n1 0\n3 0\n3 30\n5 100\n1 100\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>6.000000000000000\n7.500000000000000\n6.333333333333333\n5.400000000000000\n13.333333333333334\n13.333333333333334\n100.000000000000000\n</pre>\n<p>はじめ、<var>(a_1, a_2, a_3, a_4, a_5) = (5, 1, 9, 3, 8)</var> です。<br>\n1 番目のクエリによって <var>a_4</var> が <var>9</var> に変更されて <var>(a_1, a_2, a_3, a_4, a_5) = (5, 1, 9, 9, 8)</var> となります。<br>\nこのとき、コンテスト <var>i</var> でパフォーマンス <var>a_i</var> を取った場合のあなたのレーティングの推移は次の通りです。</p>\n<ul>\n<li>はじめ、レーティングは <var>0</var> です。</li>\n<li>コンテスト <var>1</var> が終了した時点でレーティングは <var>5 / 1 = 5</var> に変化します。</li>\n<li>コンテスト <var>2</var> が終了した時点でレーティングは <var>(5 + 1) / 2 = 3</var> に変化します。</li>\n<li>コンテスト <var>3</var> が終了した時点でレーティングは <var>(5 + 1 + 9) / 3 = 5</var> に変化します。</li>\n<li>コンテスト <var>4</var> が終了した時点でレーティングは <var>(5 + 1 + 9 + 9) / 4 = 6</var> に変化します。</li>\n<li>以降、レーティングの値は変化しません。なぜならば、<var>4</var> 番目のコンテストが終了した時点でレーティングが <var>B</var> 以上の値になっているからです。</li>\n</ul>\n<p>よって、全てのコンテストが終了した時点でのレーティングは <var>6</var> なので、1 行目にはこれを出力します。  </p></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>600</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>You will participate in <var>N</var> contests, numbered <var>1</var> to <var>N</var> in chronological order.<br>\nA participant in each contest will be given a value called <strong>performance</strong> for that contest. Let <var>P_i</var> be the performance for contest <var>i</var>.<br>\nAdditionally, you have a value called <strong>rating</strong>, which changes according to the performances in contests. The initial rating is <var>0</var>, and the rating after contest <var>n</var> is <var>\\frac{1}{n} \\left(\\sum_{i=1}^n P_i \\right)</var>.<br>\nHowever, once your rating is <var>B</var> <strong>or higher</strong>, later contests will not affect your rating.</p>\n<p>Before the contests, you have decided to estimate your performance in each contest. Let <var>a_i</var> be the initial estimate of your performance in contest <var>i</var>. Process <var>Q</var> queries in the order they are given.</p>\n<p>In each query, you are given two integers <var>c</var> and <var>x</var>. First, change the estimate of your performance in contest <var>c</var> to <var>x</var>. (This change is persistent.) Then, assuming that you get the estimated performances in all <var>N</var> contests, print your final rating after the contests.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>1 \\leq N \\leq 5 \\times 10^5</var></li>\n<li><var>1 \\leq B \\leq 10^9</var></li>\n<li><var>1 \\leq Q \\leq 10^5</var></li>\n<li><var>0 \\leq a_i \\leq 10^9</var></li>\n<li><var>1 \\leq c \\leq N</var></li>\n<li><var>0 \\leq x \\leq 10^9</var></li>\n<li>All values in the input are integers.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>The input is given from Standard Input in the following format, where <var>c_i</var> and <var>x_i</var> are the <var>c</var> and <var>x</var> for the <var>i</var>-th query:</p>\n<pre><var>N</var> <var>B</var> <var>Q</var>\n<var>a_1</var> <var>a_2</var> <var>\\dots</var> <var>a_N</var>\n<var>c_1</var> <var>x_1</var>\n<var>c_2</var> <var>x_2</var>\n<var>\\vdots</var>\n<var>c_Q</var> <var>x_Q</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>Print <var>Q</var> lines. The <var>i</var>-th line should contain the answer to the <var>i</var>-th query.<br>\nYour output is considered correct if the absolute or relative error from the true answer is at most <var>10^{-9}</var>.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>5 6 7\n5 1 9 3 8\n4 9\n2 10\n1 0\n3 0\n3 30\n5 100\n1 100\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>6.000000000000000\n7.500000000000000\n6.333333333333333\n5.400000000000000\n13.333333333333334\n13.333333333333334\n100.000000000000000\n</pre>\n<p>Initially, <var>(a_1, a_2, a_3, a_4, a_5) = (5, 1, 9, 3, 8)</var>.<br>\nThe first query changes <var>a_4</var> to <var>9</var>, making <var>(a_1, a_2, a_3, a_4, a_5) = (5, 1, 9, 9, 8)</var>.<br>\nHere, assuming that your performance in contest <var>i</var> is <var>a_i</var>, your rating will change as follows.</p>\n<ul>\n<li>Initially, your rating is <var>0</var>.</li>\n<li>After contest <var>1</var>, your rating will be <var>5 / 1 = 5</var>.</li>\n<li>After contest <var>2</var>, your rating will be <var>(5 + 1) / 2 = 3</var>.</li>\n<li>After contest <var>3</var>, your rating will be <var>(5 + 1 + 9) / 3 = 5</var>.</li>\n<li>After contest <var>4</var>, your rating will be <var>(5 + 1 + 9 + 9) / 4 = 6</var>.</li>\n<li>Your rating will no longer change, because your rating after contest <var>4</var> is not less than <var>B</var>.</li>\n</ul>\n<p>Thus, your final rating after the contests is <var>6</var>, which should be printed in the first line.</p></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/abc292/tasks/abc292_h"}