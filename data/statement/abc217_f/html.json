{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>500</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p><var>2N</var> 人の生徒が一列に並んでおり、左から順に生徒 <var>1</var> , 生徒 <var>2</var> , <var>\\ldots</var> , 生徒 <var>2N</var> と番号が付いています。\n<var>2N</var> 人の生徒はどの <var>2</var> 人も互いに仲が良いか悪いかのどちらかであり、\n具体的には <var>1\\leq i\\leq M</var> について生徒 <var>A_i</var> と生徒 <var>B_i</var> の仲が良く、これら以外のどの <var>2</var> 人も仲が悪いです。</p>\n<p>先生は以下の操作を <var>N</var> 回繰り返して、 <var>2</var> 人組のペアを <var>N</var> 組作ることにしました。</p>\n<ul>\n<li>隣り合う <var>2</var> 人であって仲が良いような <var>2</var> 人をペアとして選び、列から抜く。</li>\n<li>抜けた <var>2</var> 人が列の端でなかったならば、その後、列を詰める。すなわち、抜けた <var>2</var> 人の左右にいた <var>2</var> 人が新しく隣り合う。</li>\n</ul>\n<p>このとき、 <var>N</var> 回の操作方法としてあり得るものの数を <var>998244353</var> で割った余りを求めてください。\nただし <var>N</var> 回の操作方法が異なるとは、ある <var>1\\leq i\\leq N</var> が存在して、 <var>i</var> 回目の操作で\n選ばれた <var>2</var> 人組がペアとして異なることをいいます。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>1 \\leq N \\leq 200</var></li>\n<li><var>0 \\leq M \\leq N(2N-1)</var></li>\n<li><var>1 \\leq A_i &lt; B_i \\leq 2N</var></li>\n<li><var>(A_i, B_i)</var> はすべて異なる。</li>\n<li>入力は全て整数である。</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>\n<pre><var>N</var> <var>M</var>\n<var>A_1</var> <var>B_1</var>\n<var>A_2</var> <var>B_2</var>\n<var>\\vdots</var>\n<var>A_M</var> <var>B_M</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>操作方法としてあり得るものの数を <var>998244353</var> で割った余りを出力せよ。</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>2 3\n1 2\n1 4\n2 3\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>1\n</pre>\n<p><var>1</var> 度目の操作で生徒 <var>2</var> と生徒 <var>3</var> を選び、\n <var>2</var> 度目の操作で生徒 <var>1</var> と生徒 <var>4</var> を選ぶのが\n唯一の操作方法です。\n <var>1</var> 度目の操作で生徒 <var>1</var> と生徒 <var>2</var> を選ぶと、\n生徒 <var>3</var> と生徒 <var>4</var> が残りますが、この <var>2</var> 人は仲が悪いため <var>2</var> 度目の操作でペアにすることができません。 <br>\nよって、 <var>1</var> を出力します。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>2 2\n1 2\n3 4\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>2\n</pre>\n<p><var>1</var> 度目の操作で生徒 <var>1</var> と生徒 <var>2</var> を選び、\n <var>2</var> 度目の操作で生徒 <var>3</var> と生徒 <var>4</var> を選ぶのが\n <var>1</var> 通り、\n <var>1</var> 度目の操作で生徒 <var>3</var> と生徒 <var>4</var> を選び、\n <var>2</var> 度目の操作で生徒 <var>1</var> と生徒 <var>2</var> を選ぶのが\n <var>1</var> 通りであわせて <var>2</var> 通りあります。\nこの <var>2</var> つが区別されることに注意してください。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 3</h3><pre>2 2\n1 3\n2 4\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 3</h3><pre>0\n</pre>\n<p><var>1</var> 度目の操作で選べるペアが無いため条件をみたす操作方法は無く、 <var>0</var> を出力します。</p></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>500</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>There are <var>2N</var> students standing in a row, numbered <var>1</var>, <var>2</var>, <var>\\ldots</var>, <var>2N</var> from left to right.\nFor all pairs of two students, they are on good or bad terms.\nSpecifically, for each <var>1\\leq i\\leq M</var>, Student <var>A_i</var> and Student <var>B_i</var> are on good terms; for the remaining pairs of two students, they are on bad terms.</p>\n<p>The teacher is going to do the following operation <var>N</var> times to form <var>N</var> pairs of two students.</p>\n<ul>\n<li>Choose two adjacent students who are on good terms, pair them, and remove them from the row.</li>\n<li>If the removed students were not at an end of the row, close up the gap so that the two students who were to the left and right of the removed students are now adjacent.</li>\n</ul>\n<p>Find the number, modulo <var>998244353</var>, of possible ways to do the operation <var>N</var> times.\nTwo ways to do the operation <var>N</var> times are considered different when there exists <var>1\\leq i\\leq N</var> such that the pair of students chosen in the <var>i</var>-th operation is different in those two ways.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>1 \\leq N \\leq 200</var></li>\n<li><var>0 \\leq M \\leq N(2N-1)</var></li>\n<li><var>1 \\leq A_i &lt; B_i \\leq 2N</var></li>\n<li>All pairs <var>(A_i, B_i)</var> are distinct.</li>\n<li>All values in input are integers.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>Input is given from Standard Input in the following format:</p>\n<pre><var>N</var> <var>M</var>\n<var>A_1</var> <var>B_1</var>\n<var>A_2</var> <var>B_2</var>\n<var>\\vdots</var>\n<var>A_M</var> <var>B_M</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>Print the number of possible ways to complete the procedure, modulo <var>998244353</var>.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>2 3\n1 2\n1 4\n2 3\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>1\n</pre>\n<p>The only way to complete the procedure is to choose Students <var>2</var> and <var>3</var> in the first and Students <var>1</var> and <var>4</var> in the second.\nIf Students <var>1</var> and <var>2</var> are chosen in the first operation, Students <var>3</var> and <var>4</var> will remain, who are on bad terms and thus cannot be paired in the second operation.<br>\nThus, you should print <var>1</var>.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>2 2\n1 2\n3 4\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>2\n</pre>\n<p>There are two ways to complete the procedure: one way is to choose Students <var>1</var> and <var>2</var> in the first operation and Students <var>3</var> and <var>4</var> in the second, and the other way is to choose Students <var>3</var> and <var>4</var> in the first operation and Students <var>1</var> and <var>2</var> in the second.\nNote that these two ways are distinguished.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 3</h3><pre>2 2\n1 3\n2 4\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 3</h3><pre>0\n</pre>\n<p>Since no pair can be chosen in the first operation, there is no way to complete the procedure, so you should print <var>0</var>.</p></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/abc217/tasks/abc217_f"}