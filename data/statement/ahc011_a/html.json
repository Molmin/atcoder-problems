{"html":{"ja":"<span class=\"lang-ja\">\n\n<div class=\"part\">\n<section>\n<h3>ストーリー</h3><p>パズルが大好きな高橋くんは以下のような有名なスライドパズルで遊んでいる。</p>\n<blockquote>\n<p><var>N \\times N</var> の盤面上に <var>N^2-1</var> 枚のタイルが配置されている。\n1タイル分の空きマスがあり、4方向に隣接するタイルを空きマスへスライド移動させることが出来る。\n絵が各タイルに分割して描かれているので、スライド操作を繰り返すことでタイルを移動させ、絵を完成させよ。</p>\n</blockquote>\n<p>困ったことに、高橋くんは説明書を捨ててしまったため、完成図が分からなくなってしまった。\n記憶によると、<a href=\"https://ja.wikipedia.org/wiki/%E6%9C%A8_(%E6%95%B0%E5%AD%A6)\">木</a> が描かれていたらしい。\nスライド操作を繰り返すことで、木を完成させてほしい。</p>\n<p><img alt=\"exampl\" src=\"https://img.atcoder.jp/ahc011/df8bb452a2.gif\"> </p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p><var>N \\times N</var> の盤面上に <var>N^2-1</var> 枚のタイルが配置されている。\n上から <var>i</var> 行目 <var>(0\\leq i \\leq N-1)</var>、左から <var>j</var> 列目 <var>(0\\leq j\\leq N-1)</var> の座標を <var>(i, j)</var> とする。\n各タイルは中心から上下左右の4方向のうち1つ以上の方向に向かって線が伸びた図形が描かれており、左方向を1、上方向を2、右方向を4、下方向を8としたビットマスクを用いて以下のように表現される。</p>\n<table>\n<tbody><tr align=\"center\">\n<td>\nタイル\n</td>\n<td>\n<svg height=\"50\" id=\"vis\" viewBox=\"-5 -5 50 50\" width=\"50\" xmlns=\"http://www.w3.org/2000/svg\">\n<rect fill=\"white\" height=\"50\" width=\"50\" x=\"-5\" y=\"-5\"></rect>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"0\" y2=\"0\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"40\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"40\" x2=\"40\" y1=\"0\" y2=\"40\"></line>\n<rect fill=\"lightgray\" height=\"40\" width=\"40\" x=\"0\" y=\"0\"></rect>\n</svg>\n</td>\n<td>\n<svg height=\"50\" id=\"vis\" viewBox=\"-5 -5 50 50\" width=\"50\" xmlns=\"http://www.w3.org/2000/svg\">\n<rect fill=\"white\" height=\"50\" width=\"50\" x=\"-5\" y=\"-5\"></rect>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"0\" y2=\"0\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"40\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"40\" x2=\"40\" y1=\"0\" y2=\"40\"></line>\n<g transform=\"translate(0,0)\">\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"0\" y1=\"20\" y2=\"20\"></line>\n<circle cx=\"20\" cy=\"20\" fill=\"#905020\" r=\"5\"></circle>\n</g>\n</svg>\n</td>\n<td>\n<svg height=\"50\" id=\"vis\" viewBox=\"-5 -5 50 50\" width=\"50\" xmlns=\"http://www.w3.org/2000/svg\">\n<rect fill=\"white\" height=\"50\" width=\"50\" x=\"-5\" y=\"-5\"></rect>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"0\" y2=\"0\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"40\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"40\" x2=\"40\" y1=\"0\" y2=\"40\"></line>\n<g transform=\"translate(0,0)\">\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"20\" y1=\"20\" y2=\"0\"></line>\n<circle cx=\"20\" cy=\"20\" fill=\"#905020\" r=\"5\"></circle>\n</g>\n</svg>\n</td>\n<td>\n<svg height=\"50\" id=\"vis\" viewBox=\"-5 -5 50 50\" width=\"50\" xmlns=\"http://www.w3.org/2000/svg\">\n<rect fill=\"white\" height=\"50\" width=\"50\" x=\"-5\" y=\"-5\"></rect>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"0\" y2=\"0\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"40\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"40\" x2=\"40\" y1=\"0\" y2=\"40\"></line>\n<g transform=\"translate(0,0)\">\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"0\" y1=\"20\" y2=\"20\"></line>\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"20\" y1=\"20\" y2=\"0\"></line>\n<circle cx=\"20\" cy=\"20\" fill=\"#905020\" r=\"5\"></circle>\n</g>\n</svg>\n</td>\n<td>\n<svg height=\"50\" id=\"vis\" viewBox=\"-5 -5 50 50\" width=\"50\" xmlns=\"http://www.w3.org/2000/svg\">\n<rect fill=\"white\" height=\"50\" width=\"50\" x=\"-5\" y=\"-5\"></rect>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"0\" y2=\"0\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"40\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"40\" x2=\"40\" y1=\"0\" y2=\"40\"></line>\n<g transform=\"translate(0,0)\">\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"40\" y1=\"20\" y2=\"20\"></line>\n<circle cx=\"20\" cy=\"20\" fill=\"#905020\" r=\"5\"></circle>\n</g>\n</svg>\n</td>\n<td>\n<svg height=\"50\" id=\"vis\" viewBox=\"-5 -5 50 50\" width=\"50\" xmlns=\"http://www.w3.org/2000/svg\">\n<rect fill=\"white\" height=\"50\" width=\"50\" x=\"-5\" y=\"-5\"></rect>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"0\" y2=\"0\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"40\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"40\" x2=\"40\" y1=\"0\" y2=\"40\"></line>\n<g transform=\"translate(0,0)\">\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"0\" y1=\"20\" y2=\"20\"></line>\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"40\" y1=\"20\" y2=\"20\"></line>\n<circle cx=\"20\" cy=\"20\" fill=\"#905020\" r=\"5\"></circle>\n</g>\n</svg>\n</td>\n<td>\n<svg height=\"50\" id=\"vis\" viewBox=\"-5 -5 50 50\" width=\"50\" xmlns=\"http://www.w3.org/2000/svg\">\n<rect fill=\"white\" height=\"50\" width=\"50\" x=\"-5\" y=\"-5\"></rect>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"0\" y2=\"0\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"40\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"40\" x2=\"40\" y1=\"0\" y2=\"40\"></line>\n<g transform=\"translate(0,0)\">\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"20\" y1=\"20\" y2=\"0\"></line>\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"40\" y1=\"20\" y2=\"20\"></line>\n<circle cx=\"20\" cy=\"20\" fill=\"#905020\" r=\"5\"></circle>\n</g>\n</svg>\n</td>\n<td>\n<svg height=\"50\" id=\"vis\" viewBox=\"-5 -5 50 50\" width=\"50\" xmlns=\"http://www.w3.org/2000/svg\">\n<rect fill=\"white\" height=\"50\" width=\"50\" x=\"-5\" y=\"-5\"></rect>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"0\" y2=\"0\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"40\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"40\" x2=\"40\" y1=\"0\" y2=\"40\"></line>\n<g transform=\"translate(0,0)\">\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"0\" y1=\"20\" y2=\"20\"></line>\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"20\" y1=\"20\" y2=\"0\"></line>\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"40\" y1=\"20\" y2=\"20\"></line>\n<circle cx=\"20\" cy=\"20\" fill=\"#905020\" r=\"5\"></circle>\n</g>\n</svg>\n</td>\n<td>\n<svg height=\"50\" id=\"vis\" viewBox=\"-5 -5 50 50\" width=\"50\" xmlns=\"http://www.w3.org/2000/svg\">\n<rect fill=\"white\" height=\"50\" width=\"50\" x=\"-5\" y=\"-5\"></rect>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"0\" y2=\"0\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"40\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"40\" x2=\"40\" y1=\"0\" y2=\"40\"></line>\n<g transform=\"translate(0,0)\">\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"20\" y1=\"20\" y2=\"40\"></line>\n<circle cx=\"20\" cy=\"20\" fill=\"#905020\" r=\"5\"></circle>\n</g>\n</svg>\n</td>\n<td>\n<svg height=\"50\" id=\"vis\" viewBox=\"-5 -5 50 50\" width=\"50\" xmlns=\"http://www.w3.org/2000/svg\">\n<rect fill=\"white\" height=\"50\" width=\"50\" x=\"-5\" y=\"-5\"></rect>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"0\" y2=\"0\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"40\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"40\" x2=\"40\" y1=\"0\" y2=\"40\"></line>\n<g transform=\"translate(0,0)\">\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"0\" y1=\"20\" y2=\"20\"></line>\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"20\" y1=\"20\" y2=\"40\"></line>\n<circle cx=\"20\" cy=\"20\" fill=\"#905020\" r=\"5\"></circle>\n</g>\n</svg>\n</td>\n<td>\n<svg height=\"50\" id=\"vis\" viewBox=\"-5 -5 50 50\" width=\"50\" xmlns=\"http://www.w3.org/2000/svg\">\n<rect fill=\"white\" height=\"50\" width=\"50\" x=\"-5\" y=\"-5\"></rect>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"0\" y2=\"0\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"40\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"40\" x2=\"40\" y1=\"0\" y2=\"40\"></line>\n<g transform=\"translate(0,0)\">\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"20\" y1=\"20\" y2=\"0\"></line>\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"20\" y1=\"20\" y2=\"40\"></line>\n<circle cx=\"20\" cy=\"20\" fill=\"#905020\" r=\"5\"></circle>\n</g>\n</svg>\n</td>\n<td>\n<svg height=\"50\" id=\"vis\" viewBox=\"-5 -5 50 50\" width=\"50\" xmlns=\"http://www.w3.org/2000/svg\">\n<rect fill=\"white\" height=\"50\" width=\"50\" x=\"-5\" y=\"-5\"></rect>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"0\" y2=\"0\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"40\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"40\" x2=\"40\" y1=\"0\" y2=\"40\"></line>\n<g transform=\"translate(0,0)\">\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"0\" y1=\"20\" y2=\"20\"></line>\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"20\" y1=\"20\" y2=\"0\"></line>\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"20\" y1=\"20\" y2=\"40\"></line>\n<circle cx=\"20\" cy=\"20\" fill=\"#905020\" r=\"5\"></circle>\n</g>\n</svg>\n</td>\n<td>\n<svg height=\"50\" id=\"vis\" viewBox=\"-5 -5 50 50\" width=\"50\" xmlns=\"http://www.w3.org/2000/svg\">\n<rect fill=\"white\" height=\"50\" width=\"50\" x=\"-5\" y=\"-5\"></rect>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"0\" y2=\"0\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"40\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"40\" x2=\"40\" y1=\"0\" y2=\"40\"></line>\n<g transform=\"translate(0,0)\">\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"40\" y1=\"20\" y2=\"20\"></line>\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"20\" y1=\"20\" y2=\"40\"></line>\n<circle cx=\"20\" cy=\"20\" fill=\"#905020\" r=\"5\"></circle>\n</g>\n</svg>\n</td>\n<td>\n<svg height=\"50\" id=\"vis\" viewBox=\"-5 -5 50 50\" width=\"50\" xmlns=\"http://www.w3.org/2000/svg\">\n<rect fill=\"white\" height=\"50\" width=\"50\" x=\"-5\" y=\"-5\"></rect>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"0\" y2=\"0\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"40\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"40\" x2=\"40\" y1=\"0\" y2=\"40\"></line>\n<g transform=\"translate(0,0)\">\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"0\" y1=\"20\" y2=\"20\"></line>\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"40\" y1=\"20\" y2=\"20\"></line>\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"20\" y1=\"20\" y2=\"40\"></line>\n<circle cx=\"20\" cy=\"20\" fill=\"#905020\" r=\"5\"></circle>\n</g>\n</svg>\n</td>\n<td>\n<svg height=\"50\" id=\"vis\" viewBox=\"-5 -5 50 50\" width=\"50\" xmlns=\"http://www.w3.org/2000/svg\">\n<rect fill=\"white\" height=\"50\" width=\"50\" x=\"-5\" y=\"-5\"></rect>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"0\" y2=\"0\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"40\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"40\" x2=\"40\" y1=\"0\" y2=\"40\"></line>\n<g transform=\"translate(0,0)\">\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"20\" y1=\"20\" y2=\"0\"></line>\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"40\" y1=\"20\" y2=\"20\"></line>\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"20\" y1=\"20\" y2=\"40\"></line>\n<circle cx=\"20\" cy=\"20\" fill=\"#905020\" r=\"5\"></circle>\n</g>\n</svg>\n</td>\n<td>\n<svg height=\"50\" id=\"vis\" viewBox=\"-5 -5 50 50\" width=\"50\" xmlns=\"http://www.w3.org/2000/svg\">\n<rect fill=\"white\" height=\"50\" width=\"50\" x=\"-5\" y=\"-5\"></rect>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"0\" y2=\"0\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"40\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"40\" x2=\"40\" y1=\"0\" y2=\"40\"></line>\n<g transform=\"translate(0,0)\">\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"0\" y1=\"20\" y2=\"20\"></line>\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"20\" y1=\"20\" y2=\"0\"></line>\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"40\" y1=\"20\" y2=\"20\"></line>\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"20\" y1=\"20\" y2=\"40\"></line>\n<circle cx=\"20\" cy=\"20\" fill=\"#905020\" r=\"5\"></circle>\n</g>\n</svg>\n</td>\n</tr>\n<tr align=\"center\">\n<td>\n2進数表現\n</td>\n<td>\n0000\n</td>\n<td>\n0001\n</td>\n<td>\n0010\n</td>\n<td>\n0011\n</td>\n<td>\n0100\n</td>\n<td>\n0101\n</td>\n<td>\n0110\n</td>\n<td>\n0111\n</td>\n<td>\n1000\n</td>\n<td>\n1001\n</td>\n<td>\n1010\n</td>\n<td>\n1011\n</td>\n<td>\n1100\n</td>\n<td>\n1101\n</td>\n<td>\n1110\n</td>\n<td>\n1111\n</td>\n</tr>\n<tr align=\"center\">\n<td>\n16進数表現\n</td>\n<td>\n0\n</td>\n<td>\n1\n</td>\n<td>\n2\n</td>\n<td>\n3\n</td>\n<td>\n4\n</td>\n<td>\n5\n</td>\n<td>\n6\n</td>\n<td>\n7\n</td>\n<td>\n8\n</td>\n<td>\n9\n</td>\n<td>\na\n</td>\n<td>\nb\n</td>\n<td>\nc\n</td>\n<td>\nd\n</td>\n<td>\ne\n</td>\n<td>\nf\n</td>\n</tr>\n</tbody></table>\n\n<p>0 番は空きマスを表し、空きマスはちょうど一つだけ存在する。\n一回の操作で空きマスの上下左右に隣接するタイルを1つ選んで空きマスの位置にスライド移動させることが出来る。移動後は移動元のマスが空きマスとなる。\n操作は最大で <var>T=2\\times N^3</var> 回繰り返すことが出来る。</p>\n<p>操作を終えた時点のタイル配置に対して、空きマス以外の <var>N^2-1</var> マスを頂点とし、以下のように辺を張ったグラフを考える。</p>\n<ul>\n<li>各 <var>(i, j)</var> <var>(0\\leq i\\leq N-2, 0\\leq j\\leq N-1)</var> について、<var>(i,j)</var> が下方向に線が伸びた図形の描かれたタイルで、<var>(i+1,j)</var> が上方向に線が伸びた図形の描かれたタイルであるならば、<var>(i,j)</var> と <var>(i+1,j)</var> の間に辺を張る。</li>\n<li>各 <var>(i, j)</var> <var>(0\\leq i\\leq N-1, 0\\leq j\\leq N-2)</var> について、<var>(i,j)</var> が右方向に線が伸びた図形の描かれたタイルで、<var>(i,j+1)</var> が左方向に線が伸びた図形の描かれたタイルであるならば、<var>(i,j)</var> と <var>(i,j+1)</var> の間に辺を張る。</li>\n</ul>\n<p>このグラフに含まれる最大の木の大きさ、すなわち、閉路を持たない最大の連結成分の頂点数が出来るだけ大きくなるような短い操作列を求めて出力せよ。\n<var>T</var> 回以内の操作により、<var>(N-1,N-1)</var> に空きマスを配置した状態の、大きさ <var>N^2-1</var> の木を作成出来ることは保証されている。\nただし、出力する操作列における最終的な空きマスの位置は任意であり、<var>(N-1,N-1)</var> に移動させる必要はない。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>得点</h3><p>操作回数を <var>K</var>、操作を終えた時点での盤面に描かれた最大の木の大きさを <var>S</var> とすると、以下の得点が得られる。</p>\n<ul>\n<li><var>S&lt;N^2-1</var> の場合、<var>\\mathrm{round}\\left(500000\\times \\frac{S}{N^2-1}\\right)</var></li>\n<li><var>S=N^2-1</var> の場合、<var>\\mathrm{round}\\left(500000\\times (2-\\frac{K}{T})\\right)</var></li>\n</ul>\n<p>操作回数が <var>T</var> を超えたり、存在しないタイルを空きマスに移動させようとする不正な操作を行った場合、<span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"不正解\">WA</span> と判定される。</p>\n<h4>テストケース数</h4>\n<ul>\n<li>暫定テスト: 50個</li>\n<li>システムテスト: 3000個、コンテスト終了後に<a href=\"https://img.atcoder.jp/ahc011/seeds.txt\">seeds.txt</a> (sha256=041256f962c6ba1a60294ad7a575684d6e401163cba316cf978f2e66a4f7b0e3) を公開</li>\n<li>暫定テスト、システムテスト共に、<var>N=6,7,8,9,10</var> の入力が同じ個数ずつ含まれている</li>\n</ul>\n<p>各テストケースの得点の合計が提出の得点となる。\n暫定テストでは、一つ以上のテストケースで不正な出力や制限時間超過をした場合、提出全体の判定が<span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"不正解\">WA</span>や<span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"実行時間制限超過\">TLE</span>となる。\nシステムテストでは、不正な出力や制限時間超過をした場合、そのテストケースのみ0点となる。</p>\n<h4>実行時間について</h4>\n<p>実行時間には多少のブレが生じます。\nまた、システムテストでは同時に大量の実行を行うため、暫定テストに比べて数%程度実行時間が伸びる現象が確認されています。\nそのため、実行時間制限ギリギリの提出がシステムテストで<span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"実行時間制限超過\">TLE</span>となる可能性があります。\nプログラム内で時間を計測して処理を打ち切るか、実行時間に余裕を持たせるようお願いします。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>\n<pre><var>N</var> <var>T</var>\n<var>t_{0,0}</var> <var>\\cdots</var> <var>t_{0,N-1}</var>\n<var>\\vdots</var>\n<var>t_{N-1,0}</var> <var>\\cdots</var> <var>t_{N-1,N-1}</var>\n</pre>\n\n<p><var>N</var> は盤面の縦・横のサイズを表す整数で、<var>6\\leq N\\leq 10</var> を満たす。\n全てのテストケースで、<var>T=2\\times N^3</var> である。\n<var>t_{i,0}</var> <var>\\cdots</var> <var>t_{i,N-1}</var> は長さ <var>N</var> の文字列である。\n<var>j</var> 番目の文字 <var>t_{i,j}</var> は初期状態におけるマス <var>(i,j)</var> に置かれたタイルに描かれた図形を16進数表記したものであり、<code>0</code>-<code>9</code> もしくは <code>a</code>-<code>f</code> のいずれかである。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>空きマスの上下左右に隣接するタイルをスライドさせる操作をそれぞれ、一文字 <code>U</code>, <code>D</code>, <code>L</code>, <code>R</code> で表し、<var>K</var> 回の操作を長さ <var>K</var> の文字列として標準出力に一行で出力せよ。</p>\n<p><a href=\"https://img.atcoder.jp/ahc011/df8bb452a2.html?lang=ja&amp;seed=0&amp;output=RRRDLUULDDDDLUUUR\">例を見る</a></p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>入力生成方法</h3><details>\n\n<h4><var>N</var>, <var>T</var> の生成</h4>\n<p><var>N</var> は seed値 を5で割った余り + 6 により生成される。\nこのため、seed値を調整することで特定の <var>N</var> の値を持つ入力のみを生成することが可能である。\n<var>T=2\\times N^3</var> と設定する。</p>\n<h4><var>t_{i,j}</var> の生成</h4>\n<p><var>[k]=\\{0,1,\\cdots,k-1\\}</var> と定義する。\n<var>V=[N]\\times [N]\\setminus \\{(N-1,N-1)\\}</var> を頂点とした全域木 <var>(V,F)</var> を以下のようにしてランダム作成する。</p>\n<ol>\n<li><var>\\{\\{(i,j),(i+1,j)\\}\\mid (i,j)\\in [N-1]\\times [N]\\setminus \\{(N-2,N-1)\\}\\}\\cup\\{\\{(i,j),(i,j+1)\\}\\mid (i,j)\\in [N]\\times [N-1]\\setminus \\{(N-1,N-2)\\}\\}</var> をランダムな順にシャッフルして <var>e_0, e_1, \\cdots</var> とする。</li>\n<li><var>F=\\emptyset</var> から開始し、各 <var>e_k=\\{(i,j),(i',j')\\}</var> に対して順番に、<var>(i,j)</var> と <var>(i',j')</var> が <var>(V,F)</var> 上で連結でないならば <var>e_k</var> を <var>F</var> に加える、という操作を繰り返す。</li>\n</ol>\n<p>得られた全域木から、完成図を以下のように作成する。</p>\n<ol>\n<li>各 <var>(i,j)</var> について、<var>\\{(i,j),(i+1,j)\\}\\in F</var> であるならば、<var>(i, j)</var> のタイルに下方向の線を引き、<var>(i+1,j)</var> のタイルに上方向の線を引く</li>\n<li>各 <var>(i,j)</var> について、<var>\\{(i,j),(i,j+1)\\}\\in F</var> であるならば、<var>(i, j)</var> のタイルに右方向の線を引き、<var>(i,j+1)</var> のタイルに左方向の線を引く</li>\n</ol>\n<p>最後に、完成図の状態から開始して <var>T=2\\times N^3</var> 回ランダムな操作を行い、操作後の盤面の状態を <var>t</var> とする。ただし、<var>k (\\geq 2)</var> 回目の操作は <var>k-1</var> 回目の操作を元に戻す方向以外の最大3方向の中から一様ランダムに選択する。</p>\n</details>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>ツール(入力ジェネレータ・ビジュアライザ)</h3><ul>\n<li><a href=\"https://img.atcoder.jp/ahc011/df8bb452a2.html?lang=ja\">Web版</a>: ローカル版より高性能でアニメーション表示が可能です。</li>\n<li><a href=\"https://img.atcoder.jp/ahc011/df8bb452a2.zip\">ローカル版</a>: 使用するには<a href=\"https://www.rust-lang.org/ja\">Rust言語</a>のコンパイル環境をご用意下さい。<ul>\n<li><a href=\"https://img.atcoder.jp/ahc011/df8bb452a2_windows.zip\">Windows用のコンパイル済みバイナリ</a>: Rust言語の環境構築が面倒な方は代わりにこちらをご利用下さい。</li>\n</ul>\n</li>\n</ul>\n<p><font color=\"red\">\nコンテスト期間中に、seed=0 に対するビジュアライザの出力画像(PNG)のみ twitter で共有が可能です。動画形式での共有は禁止されているのでご注意下さい。\n</font>\n必ず指定されたハッシュタグを用い、公開アカウントを使用して下さい。共有出来るのはseed=0に対するビジュアライズ結果と点数のみで、GIF動画や出力文字列、他のシードでの点数の共有や、解法・考察に関する言及は禁止です。\n<font color=\"red\">\n(追記)ビジュアライザにはNの値を変更する機能がありますが、Seed=0でも変更したものの共有は不可です。\n</font></p>\n<p><a href=\"https://twitter.com/search?q=%23AHC011%20%23visualizer&amp;src=typed_query&amp;f=live\">共有された画像の一覧</a></p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre style=\"max-height:200px;overflow-y:scroll\">6 432\n62ce43\na068f9\na89da9\n5d93cb\n276253\n424ba8\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre style=\"max-height:200px;overflow-y:scroll\">RRRDLUULDDDDLUUUR\n</pre></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n\n<div class=\"part\">\n<section>\n<h3>Story</h3><p>Takahashi loves puzzles and is playing with the following famous sliding puzzle.</p>\n<blockquote>\n<p>There are <var>N^2-1</var> tiles on an <var>N \\times N</var> board.\nThere is a single empty square, and you can slide an adjacent tile in any of the four directions into the empty square.\nSome picture is divided into each tile. By repeatedly sliding the tiles, please align the picture.</p>\n</blockquote>\n<p>The trouble is, Takahashi had thrown away the instruction manual, so he lost the target picture.\nAccording to his memory, the target picture was a <a href=\"https://en.wikipedia.org/wiki/Tree_(graph_theory)\">tree</a>.\nBy repeating the sliding operation, please complete a tree.</p>\n<p><img alt=\"exampl\" src=\"https://img.atcoder.jp/ahc011/df8bb452a2.gif\"> </p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>There are <var>N^2-1</var> tiles on an <var>N \\times N</var> board.\nLet <var>(i, j)</var> denote the coordinates of row <var>i</var> <var>(0\\leq i \\leq N-1)</var> from the top and column <var>j</var> <var>(0\\leq j\\leq N-1)</var> from the left.\nEach tile contains a figure with lines from its center towards one or more of four directions: up, down, left, and right.\nWe represent each tile using a bitmask with 1 for left, 2 for up, 4 for right, and 8 for down, as follows.</p>\n<table>\n<tbody><tr align=\"center\">\n<td>\nTile\n</td>\n<td>\n<svg height=\"50\" id=\"vis\" viewBox=\"-5 -5 50 50\" width=\"50\" xmlns=\"http://www.w3.org/2000/svg\">\n<rect fill=\"white\" height=\"50\" width=\"50\" x=\"-5\" y=\"-5\"></rect>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"0\" y2=\"0\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"40\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"40\" x2=\"40\" y1=\"0\" y2=\"40\"></line>\n<rect fill=\"lightgray\" height=\"40\" width=\"40\" x=\"0\" y=\"0\"></rect>\n</svg>\n</td>\n<td>\n<svg height=\"50\" id=\"vis\" viewBox=\"-5 -5 50 50\" width=\"50\" xmlns=\"http://www.w3.org/2000/svg\">\n<rect fill=\"white\" height=\"50\" width=\"50\" x=\"-5\" y=\"-5\"></rect>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"0\" y2=\"0\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"40\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"40\" x2=\"40\" y1=\"0\" y2=\"40\"></line>\n<g transform=\"translate(0,0)\">\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"0\" y1=\"20\" y2=\"20\"></line>\n<circle cx=\"20\" cy=\"20\" fill=\"#905020\" r=\"5\"></circle>\n</g>\n</svg>\n</td>\n<td>\n<svg height=\"50\" id=\"vis\" viewBox=\"-5 -5 50 50\" width=\"50\" xmlns=\"http://www.w3.org/2000/svg\">\n<rect fill=\"white\" height=\"50\" width=\"50\" x=\"-5\" y=\"-5\"></rect>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"0\" y2=\"0\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"40\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"40\" x2=\"40\" y1=\"0\" y2=\"40\"></line>\n<g transform=\"translate(0,0)\">\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"20\" y1=\"20\" y2=\"0\"></line>\n<circle cx=\"20\" cy=\"20\" fill=\"#905020\" r=\"5\"></circle>\n</g>\n</svg>\n</td>\n<td>\n<svg height=\"50\" id=\"vis\" viewBox=\"-5 -5 50 50\" width=\"50\" xmlns=\"http://www.w3.org/2000/svg\">\n<rect fill=\"white\" height=\"50\" width=\"50\" x=\"-5\" y=\"-5\"></rect>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"0\" y2=\"0\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"40\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"40\" x2=\"40\" y1=\"0\" y2=\"40\"></line>\n<g transform=\"translate(0,0)\">\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"0\" y1=\"20\" y2=\"20\"></line>\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"20\" y1=\"20\" y2=\"0\"></line>\n<circle cx=\"20\" cy=\"20\" fill=\"#905020\" r=\"5\"></circle>\n</g>\n</svg>\n</td>\n<td>\n<svg height=\"50\" id=\"vis\" viewBox=\"-5 -5 50 50\" width=\"50\" xmlns=\"http://www.w3.org/2000/svg\">\n<rect fill=\"white\" height=\"50\" width=\"50\" x=\"-5\" y=\"-5\"></rect>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"0\" y2=\"0\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"40\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"40\" x2=\"40\" y1=\"0\" y2=\"40\"></line>\n<g transform=\"translate(0,0)\">\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"40\" y1=\"20\" y2=\"20\"></line>\n<circle cx=\"20\" cy=\"20\" fill=\"#905020\" r=\"5\"></circle>\n</g>\n</svg>\n</td>\n<td>\n<svg height=\"50\" id=\"vis\" viewBox=\"-5 -5 50 50\" width=\"50\" xmlns=\"http://www.w3.org/2000/svg\">\n<rect fill=\"white\" height=\"50\" width=\"50\" x=\"-5\" y=\"-5\"></rect>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"0\" y2=\"0\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"40\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"40\" x2=\"40\" y1=\"0\" y2=\"40\"></line>\n<g transform=\"translate(0,0)\">\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"0\" y1=\"20\" y2=\"20\"></line>\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"40\" y1=\"20\" y2=\"20\"></line>\n<circle cx=\"20\" cy=\"20\" fill=\"#905020\" r=\"5\"></circle>\n</g>\n</svg>\n</td>\n<td>\n<svg height=\"50\" id=\"vis\" viewBox=\"-5 -5 50 50\" width=\"50\" xmlns=\"http://www.w3.org/2000/svg\">\n<rect fill=\"white\" height=\"50\" width=\"50\" x=\"-5\" y=\"-5\"></rect>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"0\" y2=\"0\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"40\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"40\" x2=\"40\" y1=\"0\" y2=\"40\"></line>\n<g transform=\"translate(0,0)\">\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"20\" y1=\"20\" y2=\"0\"></line>\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"40\" y1=\"20\" y2=\"20\"></line>\n<circle cx=\"20\" cy=\"20\" fill=\"#905020\" r=\"5\"></circle>\n</g>\n</svg>\n</td>\n<td>\n<svg height=\"50\" id=\"vis\" viewBox=\"-5 -5 50 50\" width=\"50\" xmlns=\"http://www.w3.org/2000/svg\">\n<rect fill=\"white\" height=\"50\" width=\"50\" x=\"-5\" y=\"-5\"></rect>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"0\" y2=\"0\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"40\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"40\" x2=\"40\" y1=\"0\" y2=\"40\"></line>\n<g transform=\"translate(0,0)\">\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"0\" y1=\"20\" y2=\"20\"></line>\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"20\" y1=\"20\" y2=\"0\"></line>\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"40\" y1=\"20\" y2=\"20\"></line>\n<circle cx=\"20\" cy=\"20\" fill=\"#905020\" r=\"5\"></circle>\n</g>\n</svg>\n</td>\n<td>\n<svg height=\"50\" id=\"vis\" viewBox=\"-5 -5 50 50\" width=\"50\" xmlns=\"http://www.w3.org/2000/svg\">\n<rect fill=\"white\" height=\"50\" width=\"50\" x=\"-5\" y=\"-5\"></rect>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"0\" y2=\"0\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"40\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"40\" x2=\"40\" y1=\"0\" y2=\"40\"></line>\n<g transform=\"translate(0,0)\">\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"20\" y1=\"20\" y2=\"40\"></line>\n<circle cx=\"20\" cy=\"20\" fill=\"#905020\" r=\"5\"></circle>\n</g>\n</svg>\n</td>\n<td>\n<svg height=\"50\" id=\"vis\" viewBox=\"-5 -5 50 50\" width=\"50\" xmlns=\"http://www.w3.org/2000/svg\">\n<rect fill=\"white\" height=\"50\" width=\"50\" x=\"-5\" y=\"-5\"></rect>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"0\" y2=\"0\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"40\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"40\" x2=\"40\" y1=\"0\" y2=\"40\"></line>\n<g transform=\"translate(0,0)\">\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"0\" y1=\"20\" y2=\"20\"></line>\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"20\" y1=\"20\" y2=\"40\"></line>\n<circle cx=\"20\" cy=\"20\" fill=\"#905020\" r=\"5\"></circle>\n</g>\n</svg>\n</td>\n<td>\n<svg height=\"50\" id=\"vis\" viewBox=\"-5 -5 50 50\" width=\"50\" xmlns=\"http://www.w3.org/2000/svg\">\n<rect fill=\"white\" height=\"50\" width=\"50\" x=\"-5\" y=\"-5\"></rect>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"0\" y2=\"0\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"40\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"40\" x2=\"40\" y1=\"0\" y2=\"40\"></line>\n<g transform=\"translate(0,0)\">\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"20\" y1=\"20\" y2=\"0\"></line>\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"20\" y1=\"20\" y2=\"40\"></line>\n<circle cx=\"20\" cy=\"20\" fill=\"#905020\" r=\"5\"></circle>\n</g>\n</svg>\n</td>\n<td>\n<svg height=\"50\" id=\"vis\" viewBox=\"-5 -5 50 50\" width=\"50\" xmlns=\"http://www.w3.org/2000/svg\">\n<rect fill=\"white\" height=\"50\" width=\"50\" x=\"-5\" y=\"-5\"></rect>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"0\" y2=\"0\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"40\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"40\" x2=\"40\" y1=\"0\" y2=\"40\"></line>\n<g transform=\"translate(0,0)\">\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"0\" y1=\"20\" y2=\"20\"></line>\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"20\" y1=\"20\" y2=\"0\"></line>\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"20\" y1=\"20\" y2=\"40\"></line>\n<circle cx=\"20\" cy=\"20\" fill=\"#905020\" r=\"5\"></circle>\n</g>\n</svg>\n</td>\n<td>\n<svg height=\"50\" id=\"vis\" viewBox=\"-5 -5 50 50\" width=\"50\" xmlns=\"http://www.w3.org/2000/svg\">\n<rect fill=\"white\" height=\"50\" width=\"50\" x=\"-5\" y=\"-5\"></rect>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"0\" y2=\"0\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"40\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"40\" x2=\"40\" y1=\"0\" y2=\"40\"></line>\n<g transform=\"translate(0,0)\">\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"40\" y1=\"20\" y2=\"20\"></line>\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"20\" y1=\"20\" y2=\"40\"></line>\n<circle cx=\"20\" cy=\"20\" fill=\"#905020\" r=\"5\"></circle>\n</g>\n</svg>\n</td>\n<td>\n<svg height=\"50\" id=\"vis\" viewBox=\"-5 -5 50 50\" width=\"50\" xmlns=\"http://www.w3.org/2000/svg\">\n<rect fill=\"white\" height=\"50\" width=\"50\" x=\"-5\" y=\"-5\"></rect>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"0\" y2=\"0\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"40\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"40\" x2=\"40\" y1=\"0\" y2=\"40\"></line>\n<g transform=\"translate(0,0)\">\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"0\" y1=\"20\" y2=\"20\"></line>\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"40\" y1=\"20\" y2=\"20\"></line>\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"20\" y1=\"20\" y2=\"40\"></line>\n<circle cx=\"20\" cy=\"20\" fill=\"#905020\" r=\"5\"></circle>\n</g>\n</svg>\n</td>\n<td>\n<svg height=\"50\" id=\"vis\" viewBox=\"-5 -5 50 50\" width=\"50\" xmlns=\"http://www.w3.org/2000/svg\">\n<rect fill=\"white\" height=\"50\" width=\"50\" x=\"-5\" y=\"-5\"></rect>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"0\" y2=\"0\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"40\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"40\" x2=\"40\" y1=\"0\" y2=\"40\"></line>\n<g transform=\"translate(0,0)\">\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"20\" y1=\"20\" y2=\"0\"></line>\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"40\" y1=\"20\" y2=\"20\"></line>\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"20\" y1=\"20\" y2=\"40\"></line>\n<circle cx=\"20\" cy=\"20\" fill=\"#905020\" r=\"5\"></circle>\n</g>\n</svg>\n</td>\n<td>\n<svg height=\"50\" id=\"vis\" viewBox=\"-5 -5 50 50\" width=\"50\" xmlns=\"http://www.w3.org/2000/svg\">\n<rect fill=\"white\" height=\"50\" width=\"50\" x=\"-5\" y=\"-5\"></rect>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"0\" y2=\"0\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"0\" x2=\"40\" y1=\"40\" y2=\"40\"></line>\n<line stroke=\"lightgray\" stroke-width=\"1\" x1=\"40\" x2=\"40\" y1=\"0\" y2=\"40\"></line>\n<g transform=\"translate(0,0)\">\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"0\" y1=\"20\" y2=\"20\"></line>\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"20\" y1=\"20\" y2=\"0\"></line>\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"40\" y1=\"20\" y2=\"20\"></line>\n<line stroke=\"#905020\" stroke-width=\"10\" x1=\"20\" x2=\"20\" y1=\"20\" y2=\"40\"></line>\n<circle cx=\"20\" cy=\"20\" fill=\"#905020\" r=\"5\"></circle>\n</g>\n</svg>\n</td>\n</tr>\n<tr align=\"center\">\n<td>\nBinary\n</td>\n<td>\n0000\n</td>\n<td>\n0001\n</td>\n<td>\n0010\n</td>\n<td>\n0011\n</td>\n<td>\n0100\n</td>\n<td>\n0101\n</td>\n<td>\n0110\n</td>\n<td>\n0111\n</td>\n<td>\n1000\n</td>\n<td>\n1001\n</td>\n<td>\n1010\n</td>\n<td>\n1011\n</td>\n<td>\n1100\n</td>\n<td>\n1101\n</td>\n<td>\n1110\n</td>\n<td>\n1111\n</td>\n</tr>\n<tr align=\"center\">\n<td>\nHex\n</td>\n<td>\n0\n</td>\n<td>\n1\n</td>\n<td>\n2\n</td>\n<td>\n3\n</td>\n<td>\n4\n</td>\n<td>\n5\n</td>\n<td>\n6\n</td>\n<td>\n7\n</td>\n<td>\n8\n</td>\n<td>\n9\n</td>\n<td>\na\n</td>\n<td>\nb\n</td>\n<td>\nc\n</td>\n<td>\nd\n</td>\n<td>\ne\n</td>\n<td>\nf\n</td>\n</tr>\n</tbody></table>\n\n<p>The number 0 represents an empty square, and there is exactly one empty square.\nWith a single operation, you can slide one of the tiles adjacent to the empty square in the four directions to the location of the empty square. After the move, the square from which the tile was moved becomes an empty square.\nYou can repeat the sliding operation at most <var>T=2\\times N^3</var> times.</p>\n<p>After finishing the operations, consider a graph with <var>N^2-1</var> squares other than the empty square as vertices and the following edges.</p>\n<ul>\n<li>For each <var>(i, j)</var> <var>(0\\leq i\\leq N-2, 0\\leq j\\leq N-1)</var>, if <var>(i,j)</var> is a tile with a downward line and <var>(i+1,j)</var> is a tile with an upward line, then construct an edge between <var>(i,j)</var> and <var>(i+1,j)</var>.</li>\n<li>For each <var>(i, j)</var> <var>(0\\leq i\\leq N-1, 0\\leq j\\leq N-2)</var>, if <var>(i,j)</var> is a tile with a rightward line and <var>(i,j+1)</var> is a tile with a leftward line, then construct an edge between <var>(i,j)</var> and <var>(i,j+1)</var>.</li>\n</ul>\n<p>Your task is to find a short sequence of operations such that the size of the largest tree in this graph, i.e., the number of vertices of the largest connected component without cycles, is as large as possible.\nIt is guaranteed that within <var>T</var> operations you can construct a tree of size <var>N^2-1</var> with the empty square in <var>(N-1,N-1)</var>.\nNote that the final position of the empty square is arbitrary and you do not have to move it to <var>(N-1,N-1)</var>.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Scoring</h3><p>Let <var>K</var> be the number of operations and <var>S</var> be the size of the largest tree painted on the board after applying the sequence of operations.\nThen, you will get the following score.</p>\n<ul>\n<li>If <var>S&lt;N^2-1</var>, <var>\\mathrm{round}\\left(500000\\times \\frac{S}{N^2-1}\\right)</var></li>\n<li>If <var>S=N^2-1</var>, <var>\\mathrm{round}\\left(500000\\times (2-\\frac{K}{T})\\right)</var></li>\n</ul>\n<p>If the number of operations exceeds <var>T</var> or you perform an illegal operation to move a non-existent tile to the empty square, it will be judged as <span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"不正解\">WA</span> .</p>\n<h4>Number of test cases</h4>\n<ul>\n<li>Provisional test: 50</li>\n<li>System test: 3000. We will publish <a href=\"https://img.atcoder.jp/ahc011/seeds.txt\">seeds.txt</a> (sha256=041256f962c6ba1a60294ad7a575684d6e401163cba316cf978f2e66a4f7b0e3) after the contest is over.</li>\n<li>Both provisional and system tests contain the same number of inputs for each <var>N=6,7,8,9,10</var>.</li>\n</ul>\n<p>The score of a submission is the total scores for each test case.\nIn the provisional test, if your submission produces illegal output or exceeds the time limit for some test cases, the submission itself will be judged as <span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Wrong Answer\">WA</span> or <span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Time Limit Exceeded\">TLE</span> , and the score of the submission will be zero.\nIn the system test, if your submission produces illegal output or exceeds the time limit for some test cases, only the score for those test cases will be zero.</p>\n<h4>About execution time</h4>\n<p>Execution time may vary slightly from run to run.\nIn addition, since system tests simultaneously perform a large number of executions, it has been observed that execution time increases by several percent compared to provisional tests.\nFor these reasons, submissions that are very close to the time limit may result in <span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Time Limit Exceeded\">TLE</span> in the s\nystem test.\nPlease measure the execution time in your program to terminate the process, or have enough margin in the execution time.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>Input is given from Standard Input in the following format:</p>\n<pre><var>N</var> <var>T</var>\n<var>t_{0,0}</var> <var>\\cdots</var> <var>t_{0,N-1}</var>\n<var>\\vdots</var>\n<var>t_{N-1,0}</var> <var>\\cdots</var> <var>t_{N-1,N-1}</var>\n</pre>\n\n<p><var>N</var> is an integer representing the height and width of the board, satisfying <var>6\\leq N\\leq 10</var>.\nIn all test cases, <var>T=2\\times N^3</var>.\n<var>t_{i,0}</var> <var>\\cdots</var> <var>t_{i,N-1}</var> is a string of length <var>N</var>.\nThe <var>j</var>-th character <var>t_{i,j}</var> is <code>0</code>-<code>9</code> or <code>a</code>-<code>f</code> which is the hexadecimal representation of the figure contained in the tile <var>(i,j)</var>.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>By representing each operation of sliding the upward, downward, leftward, or rightward adjacent tile into the empty square by a single character <code>U</code>, <code>D</code>, <code>L</code> or <code>R</code>, respectively, output the sequence of <var>K</var> operations as a string of length <var>K</var> in one line to Standard Output.</p>\n<p><a href=\"https://img.atcoder.jp/ahc011/df8bb452a2.html?lang=en&amp;seed=0&amp;output=RRRDLUULDDDDLUUUR\">Show example</a></p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Input Generation</h3><details>\n\n<h4>Generation of <var>N</var> and <var>T</var></h4>\n<p>We generate <var>N</var> as the remainder of the seed value divided by 5 + 6.\nHence, you can generate inputs with a specific <var>N</var> value by adjusting the seed value.\nWe set <var>T=2\\times N^3</var>.</p>\n<h4>Generation of <var>t_{i,j}</var></h4>\n<p>Let <var>[k]=\\{0,1,\\cdots,k-1\\}</var>.\nWe randomly generate a spanning tree <var>(V,F)</var> with vertices <var>V=[N]\\times [N]\\setminus \\{(N-1,N-1)\\}</var> as follows.</p>\n<ol>\n<li>First, we randomly shuffle edges <var>\\{\\{(i,j),(i+1,j)\\}\\mid (i,j)\\in [N-1]\\times [N]\\setminus \\{(N-2,N-1)\\}\\}\\cup\\{\\{(i,j),(i,j+1)\\}\\mid (i,j)\\in [N]\\times [N-1]\\setminus \\{(N-1,N-2)\\}\\}</var> and obtain an ordered edge list <var>e_0, e_1, \\cdots</var>.</li>\n<li>Starting from <var>F=\\emptyset</var>, for each <var>e_k=\\{(i,j),(i',j')\\}</var>, we insert <var>e_k</var> into <var>F</var> if <var>(i,j)</var> and <var>(i',j')</var> are not connected in <var>(V,F)</var>.</li>\n</ol>\n<p>From the obtained spanning tree, we construct tiles on which a tree of size <var>N^2-1</var> is drawn, as follows.</p>\n<ol>\n<li>For each <var>(i,j)</var>, if <var>\\{(i,j),(i+1,j)\\}\\in F</var>, then draw a downward line on tile <var>(i, j)</var> and an upward line on tile <var>(i+1,j)</var>.</li>\n<li>For each <var>(i,j)</var>, if <var>\\{(i,j),(i,j+1)\\}\\in F</var>, then draw a rightward line on tile <var>(i, j)</var> and a leftward line on tile <var>(i,j+1)</var>.</li>\n</ol>\n<p>Finally, starting from the constructed tile layout, randomly perform <var>T=2\\times N^3</var> sliding operations, and let <var>t</var> be the tile layout after the operations.\nHere, the <var>k (\\geq 2)</var>-th operation is chosen uniformly at random from at most three directions excluding the direction that reverts the <var>(k-1)</var>-th operation.</p>\n</details>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Tools (Input generator and visualizer)</h3><ul>\n<li><a href=\"https://img.atcoder.jp/ahc011/df8bb452a2.html?lang=en\">Web version</a>: This is more powerful than the local version and can display animations.</li>\n<li><a href=\"https://img.atcoder.jp/ahc011/df8bb452a2.zip\">Local version</a>: You need a compilation environment of <a href=\"https://www.rust-lang.org/\">Rust language</a>.<ul>\n<li><a href=\"https://img.atcoder.jp/ahc011/df8bb452a2_windows.zip\">Pre-compiled binary for Windows</a>: If you are not familiar with the Rust language environment, please use this instead.</li>\n</ul>\n</li>\n</ul>\n<p><font color=\"red\">\nYou are allowed to share output images (PNG) of the provided visualizer for seed=0 on twitter during the contest.\nNote that sharing in video format is prohibited.\n</font>\nYou have to use the specified hashtag and public account.\nYou can only share visualization results and scores for seed=0.\nDo not share GIFs, output itself, scores for other seeds or mention solutions or discussions.\n<font color=\"red\">\n(Added) The visualizer has a feature to change the value of N, but sharing visualization results for changed inputs is also prohibited.\n</font></p>\n<p><a href=\"https://twitter.com/search?q=%23AHC011%20%23visualizer&amp;src=typed_query&amp;f=live\">List of shared images</a></p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre style=\"max-height:200px;overflow-y:scroll\">6 432\n62ce43\na068f9\na89da9\n5d93cb\n276253\n424ba8\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre style=\"max-height:200px;overflow-y:scroll\">RRRDLUULDDDDLUUUR\n</pre></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/ahc011/tasks/ahc011_a"}