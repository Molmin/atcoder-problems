{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>100</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>ストーリー</h3><p>あなたは <var>N</var> 個の音からなる歌が途切れ途切れ聞こえた．この歌に， <var>M</var> 個の音からなるフレーズが含まれていたかどうかを推測したい．ただし，フレーズが本来と異なる <a href=\"https://ja.wikipedia.org/wiki/%E8%AA%BF\">調</a> で含まれている場合も考慮したい．</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p>それぞれ長さが <var>N</var>, <var>M</var> の 2 つの非負整数列 <var>A = (A_1, \\dots, A_N)</var>, <var>B = (B_1, \\dots, B_M)</var> が与えられます．</p>\n<p><var>1 \\le i \\le N - M + 1</var> を満たす整数 <var>i</var> のうち，以下の条件を満たすものの個数を求めてください．</p>\n<h5>条件</h5>\n<blockquote>\n<p><var>A</var> の長さ <var>M</var> の連続部分列 <var>C</var> を <var>C = (A_i, \\dots, A_{i + M - 1})</var> で定める．次に，数列 <var>B</var>, <var>C</var> の各要素のうち値が <var>0</var> であるもの全てを任意の <strong>正の実数</strong> で更新する（更新後の値は各要素で異なっていてよい）．その後， <strong>正の実数</strong> <var>t</var> を任意に定め，数列 <var>C</var> の全ての要素に <var>t</var> を乗じる．このようにして得られた数列 <var>B</var> と <var>C</var> を一致させることができる．</p>\n</blockquote>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>1 \\leq M \\leq N \\leq 5 \\times 10^5</var></li>\n<li><var>0 \\leq A_i \\leq 5 \\times 10^5</var> <var>(i = 1, \\ldots, N)</var></li>\n<li><var>0 \\leq B_i \\leq 5 \\times 10^5</var> <var>(i = 1, \\ldots, M)</var></li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる．</p>\n<pre><var>N \\ M</var>\n<var>A_1 \\ A_2 \\ \\dots \\ A_N</var>\n<var>B_1 \\ B_2 \\ \\dots \\ B_M</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>答えとなる整数を出力せよ．</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>9 4\n9 3 0 0 2 99 4 0 0\n6 2 0 4\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>4\n</pre>\n<p><var>i = 1</var> のとき， <var>B</var> を <var>(6, 2, 5, 4)</var> に，また <var>C = (9, 3, 0, 0)</var> を <var>(9, 3, 7.5, 6)</var> に更新し， <var>t = 2/3</var> ととると最終的に <var>B</var> と <var>C</var> が一致します．</p>\n<p><var>i = 2, 3, 4</var> のときも，適切に操作を行うことで <var>B</var> と <var>C</var> を一致させることが可能ですが， <var>i = 5, 6</var> のときは不可能です．</p>\n<p>以上より， <var>i = 1, 2, 3, 4</var> の <var>4</var> 個が条件を満たすので答えとして <var>4</var> を出力します．</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>8 2\n0 0 0 0 0 0 0 0\n0 0\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>7\n</pre></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>100</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Story</h3><p>You heard a song consisting of <var>N</var> notes in fits and starts. You want to guess whether a phrase consisting of <var>M</var> sounds was included in this song. You also want to consider cases where the phrase is included in a different <a href=\"https://en.wikipedia.org/wiki/Key_(music)\">key</a> than the original.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>You are given two sequences of non-negative integers, <var>A = (A_1, \\dots, A_N)</var> and <var>B = (B_1, \\dots, B_M)</var>, each of length <var>N</var> and <var>M</var>, respectively.</p>\n<p>Find the number of integers <var>i</var> that satisfy <var>1 \\le i \\le N - M + 1</var> and meet the following condition:</p>\n<h5>Condition</h5>\n<blockquote>\n<p>Define a contiguous subsequence <var>C</var> of length <var>M</var> of <var>A</var> as <var>C = (A_i, \\dots, A_{i + M - 1})</var>. Next, update all elements of the sequences <var>B</var> and <var>C</var> that are <var>0</var> with any <strong>positive real number</strong> (the updated values may be different for each element). Then, determine an arbitrary <strong>positive real number</strong> <var>t</var>, and multiply all elements of sequence <var>C</var> by <var>t</var>. By doing so, the sequences <var>B</var> and <var>C</var> can be made identical.</p>\n</blockquote>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>1 \\leq M \\leq N \\leq 5 \\times 10^5</var></li>\n<li><var>0 \\leq A_i \\leq 5 \\times 10^5</var> <var>(i = 1, \\ldots, N)</var></li>\n<li><var>0 \\leq B_i \\leq 5 \\times 10^5</var> <var>(i = 1, \\ldots, M)</var></li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>The input is given from Standard Input in the following format:</p>\n<pre><var>N \\ M</var>\n<var>A_1 \\ A_2 \\ \\dots \\ A_N</var>\n<var>B_1 \\ B_2 \\ \\dots \\ B_M</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>Print an integer as the answer.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>9 4\n9 3 0 0 2 99 4 0 0\n6 2 0 4\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>4\n</pre>\n<p>For <var>i = 1</var>, update <var>B</var> to <var>(6, 2, 5, 4)</var> and <var>C = (9, 3, 0, 0)</var> to <var>(9, 3, 7.5, 6)</var>, and take <var>t = 2/3</var>. Finally, <var>B</var> and <var>C</var> will match.</p>\n<p>For <var>i = 2, 3, 4</var>, it is possible to make <var>B</var> and <var>C</var> match by performing appropriate operations, but for <var>i = 5, 6</var>, it is impossible.</p>\n<p>Therefore, since <var>i = 1, 2, 3, 4</var> meet the condition, output <var>4</var> as the answer.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>8 2\n0 0 0 0 0 0 0 0\n0 0\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>7\n</pre></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/degwer2023/tasks/1202contest_h"}