{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>1500</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p><var>N</var> 個の集合 <var>S_1, S_2, \\ldots, S_N</var> があります。はじめ、<var>1</var> から <var>N</var> までの各 <var>i</var> について、集合 <var>S_i</var> は整数 <var>i</var> のみを含みます（すなわち、<var>S_i = \\{i\\}</var> です）。</p>\n<p>あなたは、次の操作を行うことができます。</p>\n<ul>\n<li><var>1 \\le i \\le N-1</var> であるような <var>i</var> を任意に選び、<var>U = S_i \\cup S_{i+1}</var>（<var>S_i</var> と <var>S_{i+1}</var> の和集合）とする。\nそして、<var>S_i, S_{i+1}</var> をともに <var>U</var> で置き換える。</li>\n</ul>\n<p>あなたの目標は、有限回の操作を行い（<var>0</var> 回でもよい）、<var>1</var> から <var>N</var> までの全ての <var>i</var> について <var>S_i = \\{L_i, L_i+1, \\ldots, R_i-1, R_i\\}</var> であるような状態に至ることです。これは可能でしょうか。可能であるなら、それに必要な最小の操作回数も求めてください。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>1 \\le N \\le 5\\cdot 10^5</var></li>\n<li><var>1 \\le L_i \\le R_i \\le N</var></li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>\n<pre><var>N</var>\n<var>L_1</var> <var>R_1</var>\n<var>L_2</var> <var>R_2</var>\n<var>\\vdots</var>\n<var>L_N</var> <var>R_N</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>目標状態が到達可能なら、到達に必要な最小の操作回数を出力せよ。そうでなければ、<code>-1</code> を出力せよ。</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>3\n1 2\n1 2\n1 3\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>-1\n</pre>\n<p>目標状態が到達不能であることを証明できます。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>4\n1 3\n1 4\n1 4\n2 4\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>4\n</pre>\n<p>以下のように操作を行うことで到達可能です。</p>\n<ul>\n<li><var>i = 2</var> を選び、<var>S_1 = \\{1\\}, S_2 = \\{2, 3\\}, S_3 = \\{2, 3\\}, S_4 = \\{4\\}</var> とする</li>\n<li><var>i = 1</var> を選び、<var>S_1 = \\{1, 2, 3\\}, S_2 = \\{1, 2, 3\\}, S_3 = \\{2, 3\\}, S_4 = \\{4\\}</var> とする</li>\n<li><var>i = 3</var> を選び、<var>S_1 = \\{1, 2, 3\\}, S_2 = \\{1, 2, 3\\}, S_3 = \\{2, 3, 4\\}, S_4 = \\{2, 3, 4\\}</var> とする</li>\n<li><var>i = 2</var> を選び、<var>S_1 = \\{1, 2, 3\\}, S_2 = \\{1, 2, 3, 4\\}, S_3 = \\{1, 2, 3, 4\\}, S_4 = \\{2, 3, 4\\}</var> とする</li>\n</ul></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>1500</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>You have <var>N</var> sets <var>S_1, S_2, \\ldots, S_N</var>.\nInitially, for each <var>i</var> from <var>1</var> to <var>N</var>, set <var>S_i</var> contains only integer <var>i</var> (that is, <var>S_i = \\{i\\}</var>).</p>\n<p>You are allowed to perform the following operation:</p>\n<ul>\n<li>Choose any <var>i</var> with <var>1 \\le i \\le N-1</var>.\nLet <var>U = S_i \\cup S_{i+1}</var> ー the union of sets <var>S_i</var> and <var>S_{i+1}</var>.\nThen, replace both <var>S_i</var> and <var>S_{i+1}</var> with <var>U</var>.</li>\n</ul>\n<p>You want to perform a finite number of operations above (maybe zero), to get a configuration, in which <var>S_i = \\{L_i, L_i+1, \\ldots, R_i-1, R_i\\}</var> for all <var>i</var> from <var>1</var> to <var>N</var>. Is it possible to reach this configuration? If it is possible, also find the smallest number of operations needed to reach it.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>1 \\le N \\le 5\\cdot 10^5</var></li>\n<li><var>1 \\le L_i \\le R_i \\le N</var></li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>Input is given from Standard Input in the following format:</p>\n<pre><var>N</var>\n<var>L_1</var> <var>R_1</var>\n<var>L_2</var> <var>R_2</var>\n<var>\\vdots</var>\n<var>L_N</var> <var>R_N</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>If it is possible to reach the required configuration, output the smallest number of operations needed to do it. Otherwise, output <code>-1</code>.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>3\n1 2\n1 2\n1 3\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>-1\n</pre>\n<p>It can be proved that it's impossible to obtain the required configuration.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>4\n1 3\n1 4\n1 4\n2 4\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>4\n</pre>\n<p>We can perform the following sequence of operations:</p>\n<ul>\n<li>Choose <var>i = 2</var>, get <var>S_1 = \\{1\\}, S_2 = \\{2, 3\\}, S_3 = \\{2, 3\\}, S_4 = \\{4\\}</var></li>\n<li>Choose <var>i = 1</var>, get <var>S_1 = \\{1, 2, 3\\}, S_2 = \\{1, 2, 3\\}, S_3 = \\{2, 3\\}, S_4 = \\{4\\}</var></li>\n<li>Choose <var>i = 3</var>, get <var>S_1 = \\{1, 2, 3\\}, S_2 = \\{1, 2, 3\\}, S_3 = \\{2, 3, 4\\}, S_4 = \\{2, 3, 4\\}</var></li>\n<li>Choose <var>i = 2</var>, get <var>S_1 = \\{1, 2, 3\\}, S_2 = \\{1, 2, 3, 4\\}, S_3 = \\{1, 2, 3, 4\\}, S_4 = \\{2, 3, 4\\}</var></li>\n</ul></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/agc055/tasks/agc055_e"}