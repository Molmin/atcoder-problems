{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>700</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p>整数列 <var>x = (x_1, \\ldots, x_N)</var> があり，<var>x_1=\\cdots=x_N=0</var> で初期化されています．</p>\n<p>あなたはこの整数列について，<var>M</var> 回の操作を行います．<var>i</var> 回目の操作では，<var>1\\leq L_i\\leq R_i\\leq N</var> を満たす整数の組 <var>(L_i, R_i)</var> が与えられるので，以下の <var>3</var> つのうち<strong>ちょうど</strong> <var>1</var> つを行います．</p>\n<ul>\n<li>操作 <var>0</var>：何もしない．この操作にはコストが <var>0</var> かかる．</li>\n<li>操作 <var>1</var>：<var>1\\leq j\\leq N</var> を満たす各整数 <var>j</var> に対して，<var>L_i\\leq j\\leq R_i</var> を<strong>満たす</strong>ならば <var>x_j=1</var> と定める．この操作にはコストが <var>1</var> かかる．</li>\n<li>操作 <var>2</var>：<var>1\\leq j\\leq N</var> を満たす各整数 <var>j</var> に対して，<var>L_i\\leq j\\leq R_i</var> を<strong>満たさない</strong>ならば <var>x_j=1</var> と定める．この操作にはコストが <var>1</var> かかる．</li>\n</ul>\n<p>あなたの目標は，最終的に <var>x_1=\\cdots=x_N=1</var> が成り立つようにすることです．この目標が達成できるか否かを判定してください．目標が達成可能な場合には，そのような方法のうち操作にかかるコストの総和が最小となるものをひとつ答えてください．</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>1\\leq N\\leq 1000000</var></li>\n<li><var>1\\leq M\\leq 200000</var></li>\n<li><var>1\\leq L_i\\leq R_i\\leq N</var></li>\n<li>入力される値はすべて整数</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられます．</p>\n<pre><var>N</var> <var>M</var>\n<var>L_1</var> <var>R_1</var>\n<var>\\vdots</var>\n<var>L_M</var> <var>R_M</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>目標が達成不可能な場合には <code>-1</code> と出力してください．</p>\n<p>目標が達成可能な場合には，そのような方法のうち操作にかかるコストの総和が最小となるものを，コストの総和の最小値を <var>K</var>，<var>i</var> 回目で行う操作の種類（<var>0</var> または <var>1</var> または <var>2</var>）を <var>\\mathrm{op}_i</var> として，次の形式で出力してください．</p>\n<pre><var>K</var>\n<var>\\mathrm{op}_1</var> <var>\\cdots</var> <var>\\mathrm{op}_M</var>\n</pre>\n\n<p>操作にかかるコストの総和を最小化する方法が複数存在する場合には，そのどれを出力しても正解となります．</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>5 4\n2 4\n3 5\n1 4\n2 5\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>2\n2 0 1 0\n</pre>\n\n<p>出力例では <var>x</var> は次のように変化します．</p>\n<ul>\n<li>はじめ <var>x=(0,0,0,0,0)</var> である．</li>\n<li><var>1</var> 回目の操作で操作 <var>2</var> を行う．<var>x_1,x_5</var> が <var>1</var> になり，<var>x=(1,0,0,0,1)</var> になる．</li>\n<li><var>2</var> 回目の操作で操作 <var>0</var> を行う．<var>x=(1,0,0,0,1)</var> になる．</li>\n<li><var>3</var> 回目の操作で操作 <var>1</var> を行う．<var>x_1,x_2,x_3,x_4</var> が <var>1</var> になり，<var>x=(1,1,1,1,1)</var> になる．</li>\n<li><var>4</var> 回目の操作で操作 <var>0</var> を行う．<var>x=(1,1,1,1,1)</var> になる．</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>5 4\n1 3\n1 5\n2 4\n3 5\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>1\n0 1 0 0\n</pre>\n\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 3</h3><pre>5 2\n1 3\n2 5\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 3</h3><pre>2\n1 1\n</pre>\n\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 4</h3><pre>5 2\n1 3\n2 4\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 4</h3><pre>-1\n</pre></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>700</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>There is an integer sequence <var>x = (x_1, \\ldots, x_N)</var>, which is initialized with <var>x_1 = \\cdots = x_N = 0</var>.</p>\n<p>You will perform <var>M</var> operations on this integer sequence. In the <var>i</var>-th operation, you are given an integer pair <var>(L_i, R_i)</var> such that <var>1 \\leq L_i \\leq R_i \\leq N</var>, and you must perform <strong>exactly one</strong> of the following three operations:</p>\n<ul>\n<li>Operation <var>0</var>: Do nothing. This operation incurs a cost of <var>0</var>.</li>\n<li>Operation <var>1</var>: For each integer <var>j</var> with <var>1 \\leq j \\leq N</var>, if <var>L_i \\leq j \\leq R_i</var> <strong>holds</strong>, set <var>x_j = 1</var>. This operation incurs a cost of <var>1</var>.</li>\n<li>Operation <var>2</var>: For each integer <var>j</var> with <var>1 \\leq j \\leq N</var>, if <var>L_i \\leq j \\leq R_i</var> <strong>does not hold</strong>, set <var>x_j = 1</var>. This operation incurs a cost of <var>1</var>.</li>\n</ul>\n<p>Your goal is to make <var>x_1 = \\cdots = x_N = 1</var> hold at the end. Determine whether this goal can be achieved. If it can be achieved, present one way to achieve it where the total cost of the operations is minimized.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>1 \\leq N \\leq 1000000</var></li>\n<li><var>1 \\leq M \\leq 200000</var></li>\n<li><var>1 \\leq L_i \\leq R_i \\leq N</var></li>\n<li>All input values are integers.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>The input is given from Standard Input in the following format:</p>\n<pre><var>N</var> <var>M</var>\n<var>L_1</var> <var>R_1</var>\n<var>\\vdots</var>\n<var>L_M</var> <var>R_M</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>If the goal is not achievable, print <code>-1</code>.</p>\n<p>If the goal is achievable, print one way to achieve it where the total cost of the operations is minimized, in the following format, where <var>K</var> is the minimum total cost of the operations, and <var>\\mathrm{op}_i</var> is the type of operation (<var>0</var>, <var>1</var>, or <var>2</var>) chosen for the <var>i</var>-th operation.</p>\n<pre><var>K</var>\n<var>\\mathrm{op}_1</var> <var>\\cdots</var> <var>\\mathrm{op}_M</var>\n</pre>\n\n<p>If there are multiple ways that minimize the total cost, printing any one of them is accepted.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>5 4\n2 4\n3 5\n1 4\n2 5\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>2\n2 0 1 0\n</pre>\n\n<p>In the sample output, <var>x</var> changes as follows:</p>\n<ul>\n<li>Initially, <var>x = (0,0,0,0,0)</var>.</li>\n<li>In the 1st operation, Operation <var>2</var> is performed. <var>x_1</var> and <var>x_5</var> become 1, so <var>x = (1,0,0,0,1)</var>.</li>\n<li>In the 2nd operation, Operation <var>0</var> is performed. <var>x</var> remains <var>(1,0,0,0,1)</var>.</li>\n<li>In the 3rd operation, Operation <var>1</var> is performed. <var>x_1, x_2, x_3, x_4</var> become 1, so <var>x = (1,1,1,1,1)</var>.</li>\n<li>In the 4th operation, Operation <var>0</var> is performed. <var>x</var> remains <var>(1,1,1,1,1)</var>.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>5 4\n1 3\n1 5\n2 4\n3 5\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>1\n0 1 0 0\n</pre>\n\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 3</h3><pre>5 2\n1 3\n2 5\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 3</h3><pre>2\n1 1\n</pre>\n\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 4</h3><pre>5 2\n1 3\n2 4\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 4</h3><pre>-1\n</pre></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/arc190/tasks/arc190_a"}