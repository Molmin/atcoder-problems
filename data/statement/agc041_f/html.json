{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>2000</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p><var>N</var> 行 <var>N</var> 列のマスからなる盤面を考えます。アーボックはこの盤面の一部を切り離し、<var>i = 1, 2, \\ldots, N</var> のそれぞれについて、左から <var>i</var> 列目は最も下の <var>h_i</var> マスのみが残されています。\nそして、残されたマスのうち何マスかにルークを置こうとしています。</p>\n<p>ルークはチェスの駒の一種で、<var>1</var> マスを占めます。<var>1</var> 回の移動では、何も置かれていないマスの上を縦か横の一方向に何マスでも動けます。\n切り離されたマスの上は通れません。</p>\n<p>あるマスについて、そのマスにルークが置かれているか、そのマスに <var>1</var> 回の移動で到達できるルークがあるとき、そのマスは支配下にあるといいます。</p>\n<p>残された全マスが支配下に入るように残されたマスのうち何マスかにルークを置く方法の数を <var>998244353</var> で割った余りを求めてください。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>1 \\leq N \\leq 400</var></li>\n<li><var>1 \\leq h_i \\leq N</var></li>\n<li>入力中のすべての値は整数である。</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>\n<pre><var>N</var>\n<var>h_1</var> <var>h_2</var> <var>...</var> <var>h_N</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>残された全マスが支配下に入るように残されたマスのうち何マスかにルークを置く方法の数を <var>998244353</var> で割った余りを出力せよ。</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>2\n2 2\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>11\n</pre>\n\n<p><var>2</var> 個以上のルークをどのように置いても条件が満たされ、そのような置き方は <var>11</var> 通りです。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>3\n2 1 2\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>17\n</pre>\n\n<p>条件を満たす置き方は次の <var>17</var> 通りです (<code>R</code> がルーク、<code>*</code> が空のマスに対応)。</p>\n<pre>R *     * R     * *     R R     R R     R R     \n**R     R**     R*R     R**     *R*     **R     \n\n\nR *     R *     * R     * R     * *     R R     \nR*R     *RR     RR*     R*R     RRR     RR*     \n\n\nR R     R R     R *     * R     R R     \nR*R     *RR     RRR     RRR     RRR     \n</pre>\n\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 3</h3><pre>4\n1 2 4 1\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 3</h3><pre>201\n</pre>\n\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 4</h3><pre>10\n4 7 4 8 4 6 8 2 3 6\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 4</h3><pre>263244071\n</pre></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>2000</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>Let us consider a grid of squares with <var>N</var> rows and <var>N</var> columns.\nArbok has cut out some part of the grid so that, for each <var>i = 1, 2, \\ldots, N</var>, the bottommost <var>h_i</var> squares are remaining in the <var>i</var>-th column from the left.\nNow, he wants to place rooks into some of the remaining squares.</p>\n<p>A rook is a chess piece that occupies one square and can move horizontally or vertically, through any number of unoccupied squares.\nA rook can not move through squares that have been cut out by Arbok.</p>\n<p>Let's say that a square is covered if it either contains a rook, or a rook can be moved to this square in one move.</p>\n<p>Find the number of ways to place rooks into some of the remaining squares so that every remaining square is covered, modulo <var>998244353</var>.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>1 \\leq N \\leq 400</var></li>\n<li><var>1 \\leq h_i \\leq N</var></li>\n<li>All input values are integers.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>Input is given from Standard Input in the following format:</p>\n<pre><var>N</var>\n<var>h_1</var> <var>h_2</var> <var>...</var> <var>h_N</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>Print the number of ways to place rooks into some of the remaining squares so that every remaining square is covered, modulo <var>998244353</var>.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>2\n2 2\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>11\n</pre>\n\n<p>Any placement with at least two rooks is fine. There are <var>11</var> such placements.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>3\n2 1 2\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>17\n</pre>\n\n<p>The following <var>17</var> rook placements satisfy the conditions (<code>R</code> denotes a rook, <code>*</code> denotes an empty square):</p>\n<pre>R *     * R     * *     R R     R R     R R     \n**R     R**     R*R     R**     *R*     **R     \n\n\nR *     R *     * R     * R     * *     R R     \nR*R     *RR     RR*     R*R     RRR     RR*     \n\n\nR R     R R     R *     * R     R R     \nR*R     *RR     RRR     RRR     RRR     \n</pre>\n\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 3</h3><pre>4\n1 2 4 1\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 3</h3><pre>201\n</pre>\n\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 4</h3><pre>10\n4 7 4 8 4 6 8 2 3 6\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 4</h3><pre>263244071\n</pre></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/agc041/tasks/agc041_f"}