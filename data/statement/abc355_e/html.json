{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>500</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p>この問題は <strong>インタラクティブな問題</strong>（あなたの作成したプログラムとジャッジシステムが入出力を介して対話を行う形式の問題）です。</p>\n<p>正整数 <var>N</var> および <var>0</var> 以上 <var>2^N</var> 未満の整数 <var>L,R(L\\leq R)</var> が与えられます。\nジャッジシステムは、<var>0</var> 以上 <var>99</var> 以下の整数からなる長さ <var>2^N</var> の数列 <var>A = (A_0, A_1, \\dots, A_{2^N-1})</var> を隠し持っています。</p>\n<p>あなたの目標は <var>A_L+A_{L+1}+\\dots+A_{R}</var> を <var>100</var> で割った余りを求めることです。ただし、あなたは数列 <var>A</var> の要素の値を直接知ることはできません。\nその代わりに、ジャッジシステムに対して以下の質問を行うことができます。</p>\n<ul>\n<li><var>2^i(j+1)\\leq 2^N</var> を満たすように非負整数 <var>i,j</var> を選ぶ。<var>l=2^ij,r=2^i(j+1)-1</var> として <var>A_l+A_{l+1}+\\dots+A_{r}</var> を <var>100</var> で割った余りを聞く。</li>\n</ul>\n<p>どのような <var>A</var> であっても <var>A_L+A_{L+1}+\\dots+A_{R}</var> を <var>100</var> で割った余りを特定することができる質問回数の最小値を <var>m</var> とします。<var>m</var> 回以内の質問を行って <var>A_L+A_{L+1}+\\dots+A_{R}</var> を <var>100</var> で割った余りを求めてください。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>1\\leq N\\leq 18</var></li>\n<li><var>0\\leq L\\leq R\\leq 2^N-1</var></li>\n<li>入力は全て整数</li>\n</ul>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>入出力</h3><p>この問題はインタラクティブな問題（あなたの作成したプログラムとジャッジシステムが入出力を介して対話を行う形式の問題）です。</p>\n<p>最初に、整数 <var>N,L,R</var> を標準入力から受け取ってください。</p>\n<pre><var>N</var> <var>L</var> <var>R</var>\n</pre>\n<p>次に、<var>A_L+A_{L+1}+\\dots+A_{R}</var> を <var>100</var> で割った余りを特定できるまで質問を繰り返してください。\n質問は、以下の形式で標準出力に出力してください。</p>\n<pre><var>?</var> <var>i</var> <var>j</var>\n</pre>\n<p>ここで、<var>i,j</var> は以下を満たす必要があります。</p>\n<ul>\n<li><var>i,j</var> は非負整数</li>\n<li><var>2^i(j+1)\\leq 2^N</var></li>\n</ul>\n<p>これに対する応答は、次の形式で標準入力から与えられます。</p>\n<pre><var>T</var>\n</pre>\n<p>ここで、<var>T</var> は質問に対する答えで、<var>l=2^ij,r=2^i(j+1)-1</var> としたとき <var>A_l+A_{l+1}+\\dots+A_{r}</var> を <var>100</var> で割った余りです。</p>\n<p>ただし、<var>i,j</var> が制約を満たしていないか、質問回数が <var>m</var> 回を超えた場合は <var>T</var> は <code>-1</code> となります。</p>\n<p>ジャッジが <code>-1</code> を返した場合、プログラムはすでに不正解とみなされています。この場合、ただちにプログラムを終了してください。</p>\n<p><var>A_L+A_{L+1}+\\dots+A_{R}</var> を <var>100</var> で割った余りが特定出来たら、<var>S</var> を <var>A_L+A_{L+1}+\\dots+A_{R}</var> を <var>100</var> で割った余りとして以下の形式で出力してください。その後、ただちにプログラムを終了してください。</p>\n<pre><var>!</var> <var>S</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>注意点</h3><ul>\n<li><b><span style=\"color:red\">出力を行うたびに、末尾に改行を入れて標準出力を flush してください。そうしなかった場合、ジャッジ結果が <span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"\" data-original-title=\"実行時間制限超過\">TLE</span> となる可能性があります。</span></b></li>\n<li><strong>対話の途中で誤った出力形式による出力を行った、あるいはプログラムが途中で終了した場合のジャッジ結果は不定です。</strong></li>\n<li>解答を出力したらただちにプログラムを終了してください。そうしない場合、ジャッジ結果は不定です。</li>\n</ul>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>入出力例</h3><p>以下は、<var>N=3,L=1,R=5,A=(31,41,59,26,53,58,97,93)</var> の場合の入出力例です。この場合 <var>m=3</var> であるため、質問を <var>3</var> 回まで行うことができます。</p>\n<table class=\"table table-bordered\">\n\n<thead> <tr> <th>入力</th> <th>出力</th> <th>説明</th> </tr> </thead> \n<tbody> \n<tr> <td><code>3 1 5</code></td> <td></td> <td>まず整数 <var>N,L,R</var> が与えられます。</td> </tr> \n<tr> <td></td> <td><code>? 0 1</code></td> <td> <var>(i,j)=(0,1)</var> として質問を行います。</td> </tr> \n<tr> <td><code>41</code></td> <td></td> <td><var>l=1,r=1</var> であるため、質問の答えは <var>A_1=41</var> を <var>100</var> で割った余りである <var>41</var> です。ジャッジはその値を返します。</td> </tr> \n<tr> <td></td> <td><code>? 1 1</code></td> <td><var>(i,j) = (1,1)</var> として質問を行います。</td> </tr> \n<tr> <td><code>85</code></td> <td></td> <td><var>l=2,r=3</var> であるため、質問の答えは <var>A_2+A_3=85</var> を <var>100</var> で割った余りである <var>85</var> です。ジャッジはその値を返します。</td> </tr> \n<tr> <td></td> <td><code>? 1 2</code></td> <td><var>(i,j) = (1,2)</var> として質問を行います。</td> </tr> \n<tr> <td><code>11</code></td> <td></td> <td><var>l=4,r=5</var> であるため、質問の答えは <var>A_4+A_5=111</var> を <var>100</var> で割った余りである <var>11</var> です。ジャッジはその値を返します。</td> </tr> \n<tr> <td></td> <td><code>! 37</code></td> <td>答えは <var>37</var> であるとわかったので、それを出力します。</td> </tr> </tbody>\n</table></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>500</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>This is an <strong>interactive problem</strong> (where your program interacts with the judge via input and output).</p>\n<p>You are given a positive integer <var>N</var> and integers <var>L</var> and <var>R</var> such that <var>0 \\leq L \\leq R &lt; 2^N</var>. The judge has a hidden sequence <var>A = (A_0, A_1, \\dots, A_{2^N-1})</var> consisting of integers between <var>0</var> and <var>99</var>, inclusive.</p>\n<p>Your goal is to find the remainder when <var>A_L + A_{L+1} + \\dots + A_R</var> is divided by <var>100</var>. However, you cannot directly know the values of the elements in the sequence <var>A</var>. Instead, you can ask the judge the following question:</p>\n<ul>\n<li>Choose non-negative integers <var>i</var> and <var>j</var> such that <var>2^i(j+1) \\leq 2^N</var>. Let <var>l = 2^i j</var> and <var>r = 2^i (j+1) - 1</var>. Ask for the remainder when <var>A_l + A_{l+1} + \\dots + A_r</var> is divided by <var>100</var>.</li>\n</ul>\n<p>Let <var>m</var> be the minimum number of questions required to determine the remainder when <var>A_L + A_{L+1} + \\dots + A_R</var> is divided by <var>100</var> for any sequence <var>A</var>. You need to find this remainder within <var>m</var> questions.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>1 \\leq N \\leq 18</var></li>\n<li><var>0 \\leq L \\leq R \\leq 2^N - 1</var></li>\n<li>All input values are integers.</li>\n</ul>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Input and Output</h3><p>This is an interactive problem (where your program interacts with the judge via input and output).</p>\n<p>First, read the integers <var>N</var>, <var>L</var>, and <var>R</var> from Standard Input:</p>\n<pre><var>N</var> <var>L</var> <var>R</var>\n</pre>\n<p>Then, repeat asking questions until you can determine the remainder when <var>A_L + A_{L+1} + \\dots + A_R</var> is divided by <var>100</var>. Each question should be printed in the following format:</p>\n<pre><var>?</var> <var>i</var> <var>j</var>\n</pre>\n<p>Here, <var>i</var> and <var>j</var> must satisfy the following constraints:</p>\n<ul>\n<li><var>i</var> and <var>j</var> are non-negative integers.</li>\n<li><var>2^i(j+1) \\leq 2^N</var></li>\n</ul>\n<p>The response to the question will be given in the following format from Standard Input:</p>\n<pre><var>T</var>\n</pre>\n<p>Here, <var>T</var> is the answer to the question, which is the remainder when <var>A_l + A_{l+1} + \\dots + A_r</var> is divided by <var>100</var>, where <var>l = 2^i j</var> and <var>r = 2^i (j+1) - 1</var>.</p>\n<p>If <var>i</var> and <var>j</var> do not satisfy the constraints, or if the number of questions exceeds <var>m</var>, then <var>T</var> will be <code>-1</code>.</p>\n<p>If the judge returns <code>-1</code>, your program is already considered incorrect. In this case, terminate the program immediately.</p>\n<p>Once you have determined the remainder when <var>A_L + A_{L+1} + \\dots + A_R</var> is divided by <var>100</var>, print the remainder <var>S</var> in the following format and terminate the program immediately:</p>\n<pre><var>!</var> <var>S</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Notes</h3><ul>\n<li><b><span style=\"color:red\">At the end of each output, print a newline and flush Standard Output. Otherwise, the verdict may be <span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"\" data-original-title=\"Time Limit Exceeded\">TLE</span>.</span></b></li>\n<li><strong>If your output is malformed or your program exits prematurely, the verdict will be indeterminate.</strong></li>\n<li>After printing the answer, terminate the program immediately. Otherwise, the verdict will be indeterminate.</li>\n</ul>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Example</h3><p>Here is an example for <var>N=3</var>, <var>L=1</var>, <var>R=5</var>, and <var>A=(31, 41, 59, 26, 53, 58, 97, 93)</var>. In this case, <var>m=3</var>, so you can ask up to three questions.</p>\n<table class=\"table table-bordered\">\n<thead> <tr> <th>Input</th> <th>Output</th> <th>Description</th> </tr> </thead> \n<tbody> \n<tr> <td><code>3 1 5</code></td> <td></td> <td>First, the integers <var>N</var>, <var>L</var>, and <var>R</var> are given.</td> </tr> \n<tr> <td></td> <td><code>? 0 1</code></td> <td>Ask the question with <var>(i, j) = (0, 1)</var>.</td> </tr> \n<tr> <td><code>41</code></td> <td></td> <td><var>l=1</var> and <var>r=1</var>, so the response is the remainder when <var>A_1=41</var> is divided by <var>100</var>, which is <var>41</var>. The judge returns this value.</td> </tr> \n<tr> <td></td> <td><code>? 1 1</code></td> <td>Ask the question with <var>(i, j) = (1, 1)</var>.</td> </tr> \n<tr> <td><code>85</code></td> <td></td> <td><var>l=2</var> and <var>r=3</var>, so the response is the remainder when <var>A_2 + A_3 = 85</var> is divided by <var>100</var>, which is <var>85</var>. The judge returns this value.</td> </tr> \n<tr> <td></td> <td><code>? 1 2</code></td> <td>Ask the question with <var>(i, j) = (1, 2)</var>.</td> </tr> \n<tr> <td><code>11</code></td> <td></td> <td><var>l=4</var> and <var>r=5</var>, so the response is the remainder when <var>A_4 + A_5 = 111</var> is divided by <var>100</var>, which is <var>11</var>. The judge returns this value.</td> </tr> \n<tr> <td></td> <td><code>! 37</code></td> <td>The answer is <var>37</var>, so print this value.</td> </tr> </tbody>\n</table></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/abc355/tasks/abc355_e"}