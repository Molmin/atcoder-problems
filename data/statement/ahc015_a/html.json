{"html":{"ja":"<span class=\"lang-ja\">\n\n<div class=\"part\">\n<section>\n<h3>ストーリー</h3><p>AtCoder社の高橋社長は明日のハロウィンに向けて準備をしている。\nAtCoder社のハロウィンは、仮装をした高橋社長が Trick or treat と唱えて、<var>100</var> 人の従業員から順番に1つずつキャンディーを貰うイベントである。\n高橋社長は格子状に <var>10\\times 10</var> 個のキャンディーが入る正方形の箱を用意し、各従業員はキャンディーが重ならないように空いているスペースにキャンディーを入れていく。\nキャンディーはイチゴ味、スイカ味、パンプキン味の <var>3</var> 種類があり、事前調査によって各従業員がどの味のキャンディーを入れるかは分かっているが、入れる場所は分からない。\n几帳面な高橋社長は、キャンディーを一つ受け取る毎に、箱を前後左右に一度だけ傾けることでキャンディーを動かし、最終的に出来るだけ同じ種類のキャンディー同士が固まっているようにしたいと考えている。\n傾け方を決めるプログラムを作成することで高橋社長の手伝いをして欲しい。</p>\n<figure>\n    <img src=\"https://img.atcoder.jp/ahc015/b639c75d_1.gif\">\n    <figcaption><var>5\\times 5</var> の場合の例</figcaption>\n</figure>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p>格子状に <var>10\\times 10</var> 個のキャンディーが入る箱がある。\n箱は初期状態では空であり、<var>100</var> 個のキャンディーを順番に入れていく。\nキャンディーは全部で <var>3</var> 種類の味があり、事前に <var>t</var> 番目に受け取るキャンディーの味の種類 <var>f_t (1\\leq f_t\\leq 3)</var> が分かっている。\n一方で、どの位置に入るかは事前には分からず、空いているマスの中から一様ランダムに選ばれる。\nキャンディーを受け取る順番は固定で、変更することは出来ない。</p>\n<p>キャンディーを一つ受け取る度に、箱を前後左右にちょうど一回だけ傾ける。\n箱を傾けると、各キャンディーがその方向に、端か他のキャンディーにぶつかるまで一斉に移動する。\n例えば、左図の状態で箱を前方に傾けると、右図の状態となる。</p>\n<p><img alt=\"\" src=\"https://img.atcoder.jp/ahc015/b639c75d_2.png\">\n<img alt=\"\" src=\"https://img.atcoder.jp/ahc015/b639c75d_3.png\"></p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>得点</h3><p>以下のようにキャンディーの連結性を定義し、連結成分分解を考える。</p>\n<blockquote>\n<p>2つのキャンディーは、同じ味であり、かつ、前後左右に同じ味のキャンディーのみを通って互いに到達可能な場合に、またその場合に限り、連結である。</p>\n</blockquote>\n<p>例えば以下の図の状態は大きさ <var>\\{1, 1, 2, 2, 4, 6, 9\\}</var> の <var>7</var> 個の連結成分からなる。</p>\n<p><img alt=\"\" src=\"https://img.atcoder.jp/ahc015/b639c75d_4.png\"></p>\n<p>最終的に100個のキャンディーを受け取った状態における連結成分の大きさのリストを <var>n_1,\\cdots,n_k</var> とし、<var>i</var> 番の味のキャンディーの総数を <var>d_i</var> とした時、以下のスコアが得られる。</p>\n<p>\\[\\mathrm{round}\\left(10^6\\times\\frac{\\sum_{i=1}^k n_i^2}{\\sum_{i=1}^3 d_i^2}\\right)\\]</p>\n<p>出来るだけ高得点が得られるように傾け方を決定するプログラムを作成せよ。</p>\n<p>テストケースは全部で 200 個あり、各テストケースの得点の合計が提出の得点となる。\n一つ以上のテストケースで不正な出力や制限時間超過をした場合、提出全体の判定が<span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"不正解\">WA</span>や<span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"実行時間制限超過\">TLE</span>となる。\nコンテスト時間中に得た最高得点で最終順位が決定され、コンテスト終了後のシステムテストは行われない。 同じ得点を複数の参加者が得た場合、提出時刻に関わらず同じ順位となる(従来の短期AHCから変更となっているので注意)。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>入出力</h3><p>まずはじめに、各キャンディーの味の情報が以下の形式で標準入力から与えられる。</p>\n<pre><var>f_1</var> <var>f_2</var> <var>\\cdots</var> <var>f_{100}</var>\n</pre>\n\n<p>各 <var>f_t</var> は <var>t</var> 番目に受け取るキャンディーの味を表す、<var>1</var> 以上 <var>3</var> 以下の整数値である。</p>\n<p>上記の情報を読み込んだら、以下の処理を <var>100</var> 回繰り返す。</p>\n<p><var>t</var> (<var>1\\leq t\\leq 100</var>) 回目の処理ではまず、<var>1</var> 以上 <var>101-t</var> 以下の整数値 <var>p_t</var> が一つ標準入力から与えられる。\n下図の例のように、前から後ろ、左から右の優先順位で空きマスに <var>1</var> から <var>101-t</var> の番号を順番に付けたとき、<var>p_t</var> 番目の空きマスに <var>t</var> 個目のキャンディーが入れられることを表している。</p>\n<p><img alt=\"\" src=\"https://img.atcoder.jp/ahc015/b639c75d_5.png\"></p>\n<p><var>p_t</var> の情報を読み込んだら、前後左右をそれぞれ <code>F</code>、<code>B</code>、<code>L</code>、<code>R</code> で表して、どの方向へ傾けるかを一文字で標準出力に出力せよ。\n<font color=\"red\"><strong>出力の後には改行をし、更に標準出力を flush しなければならない。</strong></font>\nそうしない場合、<span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"実行時間制限超過\">TLE</span>となる可能性がある。\n<font color=\"red\"><strong><var>t</var> 回目の方向を出力するまで、<var>p_{t+1}</var> の入力は与えられないので注意せよ。</strong></font>\n<var>100</var> 回目はどの方向に傾けても同じであるため、出力をしてもしなくても良い。</p>\n<h4>例</h4>\n<table class=\"table table-bordered\">\n<thead>\n<tr>\n<th><var>t</var></th>\n<th>Input</th>\n<th>Output</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>事前情報</td>\n<td><pre>2 2 1 3 1 2 1 2 1 <var>\\cdots</var> 3</pre></td>\n<td></td>\n</tr>\n<tr>\n<td>1</td>\n<td><pre>3</pre></td>\n<td><pre>R</pre></td>\n</tr>\n<tr>\n<td>2</td>\n<td><pre>98</pre></td>\n<td><pre>B</pre></td>\n</tr>\n<tr>\n<td><var>\\vdots</var></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>100</td>\n<td><pre>1</pre></td>\n<td><pre>L</pre></td>\n</tr>\n</tbody>\n</table>\n\n<p><a href=\"https://img.atcoder.jp/ahc015/b639c75d.html?lang=ja&amp;seed=0&amp;output=R%0D%0AB%0D%0AB%0D%0AR%0D%0AF%0D%0AR%0D%0AF%0D%0AR%0D%0AR%0D%0AF%0D%0AB%0D%0AL%0D%0AB%0D%0AL%0D%0AF%0D%0AF%0D%0AB%0D%0AF%0D%0AB%0D%0AL%0D%0AL%0D%0AL%0D%0AL%0D%0AB%0D%0AF%0D%0AF%0D%0AR%0D%0AR%0D%0AF%0D%0AL%0D%0AL%0D%0AB%0D%0AL%0D%0AL%0D%0AL%0D%0AB%0D%0AL%0D%0AR%0D%0AF%0D%0AL%0D%0AB%0D%0AL%0D%0AF%0D%0AF%0D%0AF%0D%0AL%0D%0AL%0D%0AR%0D%0AB%0D%0AB%0D%0AF%0D%0AL%0D%0AF%0D%0AR%0D%0AB%0D%0AL%0D%0AF%0D%0AF%0D%0AR%0D%0AL%0D%0AR%0D%0AL%0D%0AR%0D%0AR%0D%0AB%0D%0AR%0D%0AB%0D%0AR%0D%0AR%0D%0AF%0D%0AB%0D%0AF%0D%0AR%0D%0AR%0D%0AF%0D%0AB%0D%0AF%0D%0AB%0D%0AF%0D%0AR%0D%0AB%0D%0AF%0D%0AF%0D%0AF%0D%0AB%0D%0AB%0D%0AL%0D%0AL%0D%0AR%0D%0AF%0D%0AB%0D%0AL%0D%0AB%0D%0AF%0D%0AB%0D%0AR%0D%0AF%0D%0AF%0D%0AL%0D%0AL%0D%0A\">例を見る</a></p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>入力生成方法</h3><p><var>L</var> 以上 <var>U</var> 以下の整数値を一様ランダムに生成する関数を <var>\\mathrm{rand}(L,U)</var> で表す。\n各 <var>f_t</var> は <var>\\mathrm{rand}(1,3)</var> により生成される。\n各 <var>p_t</var> は <var>\\mathrm{rand}(1,101-t)</var> により生成される。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>ツール(入力ジェネレータ・ビジュアライザ)</h3><ul>\n<li><a href=\"https://img.atcoder.jp/ahc015/b639c75d.html?lang=ja\">Web版</a>: ローカル版より高性能でアニメーション表示と手動プレイが可能です。</li>\n<li><a href=\"https://img.atcoder.jp/ahc015/b639c75d.zip\">ローカル版</a>: 使用するには<a href=\"https://www.rust-lang.org/ja\">Rust言語</a>のコンパイル環境をご用意下さい。<ul>\n<li><a href=\"https://img.atcoder.jp/ahc015/b639c75d_windows.zip\">Windows用のコンパイル済みバイナリ</a>: Rust言語の環境構築が面倒な方は代わりにこちらをご利用下さい。</li>\n</ul>\n</li>\n</ul>\n<p>コンテスト期間中に、ビジュアライズ結果の共有や、解法・考察に関する言及は禁止されています。ご注意下さい。</p></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n\n<div class=\"part\">\n<section>\n<h3>Story</h3><p>AtCoder's CEO Takahashi prepares for Halloween tomorrow.\nAt AtCoder's Halloween party, Takahashi will dress up in disguise and receive a piece of candy from 100 employees in turn by saying, \"trick or treat!\"\nHe prepares a square box that can contain <var>10\\times 10</var> pieces of candy in a grid pattern, and each employee puts a piece of candy in an empty space so that no candies overlap.\nThere are <var>3</var> types of candies: strawberry, watermelon, and pumpkin flavors.\nHe knows which flavor of candy each employee will put in by preliminary survey, but he doesn't know where each employee will put it.\nSince he is a clean freak, he will move the pieces of candy by tilting the box forward, backward, left, or right, just once for each piece of candy received, and eventually wants to make sure that the same type of candy is clustered together as much as possible.\nPlease help him by writing a program to determine the direction to tilt.</p>\n<figure>\n    <img src=\"https://img.atcoder.jp/ahc015/b639c75d_1.gif\">\n    <figcaption>Example for <var>5\\times 5</var></figcaption>\n</figure>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>There is a box that can contain <var>10\\times 10</var> pieces of candy in a grid pattern.\nThe box is initially empty, and <var>100</var> pieces of candy will be placed in order.\nThere are <var>3</var> flavors of candy, and we know in advance the flavor <var>f_t (1\\leq f_t\\leq 3)</var> of the <var>t</var>-th candy.\nOn the other hand, we do not know in advance to which cell each candy will be placed, and it will be chosen uniformly at random among the empty cells.\nYou cannot change the order in which the pieces of candy are received.</p>\n<p>Each time you receive one piece of candy, you must tilt the box forward, backward, left, or right exactly once.\nWhen you tilt the box, each piece of candy moves in that direction simultaneously until it reaches the edge or hits another candy.\nFor example, if you tilt the box forward in the state shown in the left figure, the box will be in the state shown in the right figure.</p>\n<p><img alt=\"\" src=\"https://img.atcoder.jp/ahc015/b639c75d_2.png\">\n<img alt=\"\" src=\"https://img.atcoder.jp/ahc015/b639c75d_3.png\"></p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Scoring</h3><p>We define the connectivity of pieces of candy as follows and consider the connected components.</p>\n<blockquote>\n<p>Two pieces of candy are connected if and only if they are of the same flavor and can reach each other through only pieces of candy of the same flavor in the four directions (front, back, left, right).</p>\n</blockquote>\n<p>For example, the state in the figure below consists of <var>7</var> connected components of size <var>\\{1, 1, 2, 2, 4, 6, 9\\}</var>.</p>\n<p><img alt=\"\" src=\"https://img.atcoder.jp/ahc015/b639c75d_4.png\"></p>\n<p>Let <var>n_1,\\cdots,n_k</var> be the list of sizes of connected components in the final state after receiving 100 pieces of candy, and let <var>d_i</var> be the total number of pieces of candy of flavor <var>i</var>.\nThen the score for the test case is</p>\n<p>\\[\\mathrm{round}\\left(10^6\\times\\frac{\\sum_{i=1}^k n_i^2}{\\sum_{i=1}^3 d_i^2}\\right)\\]</p>\n<p>Your task is to write a program to determine the tilting directions so that you can get as high a score as possible.</p>\n<p>There are 200 test cases, and the score of a submission is the total score for each test case.\nIf your submission produces an illegal output or exceeds the time limit for some test cases, the submission itself will be judged as <span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Wrong Answer\">WA</span> or <span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Time Limit Exceeded\">TLE</span> , and the score of the submission will be zero.\nThe highest score obtained during the contest will determine the final ranking, and there will be no system test after the contest.\nIf more than one participant gets the same score, they will be ranked in the same place regardless of the submission time (note that this is changed from previous short-term AHCs).</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Input and Output</h3><p>First, the flavor of each piece of candy is given from Standard Input in the following format.</p>\n<pre><var>f_1</var> <var>f_2</var> <var>\\cdots</var> <var>f_{100}</var>\n</pre>\n\n<p>Each <var>f_t</var> is an integer value between <var>1</var> and <var>3</var>, representing the flavor of the <var>t</var>-th piece of candy.</p>\n<p>After reading the above information, repeat the following process <var>100</var> times.</p>\n<p>In the <var>t</var>-th process (<var>1\\leq t\\leq 100</var>), a single integer <var>p_t</var> between <var>1</var> and <var>101-t</var> is given from Standard Input.\nLet us number the empty cells from <var>1</var> to <var>101-t</var> in front-to-back and left-to-right priority, as shown in the example figure below.\nThen the <var>t</var>-th piece of candy is placed in the <var>p_t</var>-th empty cell.</p>\n<p><img alt=\"\" src=\"https://img.atcoder.jp/ahc015/b639c75d_5.png\"></p>\n<p>After reading <var>p_t</var>, by representing forward, backward, left, and right by <code>F</code>, <code>B</code>, <code>L</code>, and <code>R</code>, respectively, output a single character to Standard Output to indicate which direction to tilt the box.</p>\n<p><font color=\"red\"><strong>The output must be followed by a new line, and you have to flush Standard Output.</strong></font>\nOtherwise, the submission might be judged as <span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Time Limit Exceeded\">TLE</span>.\n<font color=\"red\"><strong>Note that <var>p_{t+1}</var> will not be given until you output the <var>t</var>-th direction.</strong></font>\nSince nothing happens at the 100th tilt, you may skip the output.</p>\n<h4>Example</h4>\n<table class=\"table table-bordered\">\n<thead>\n<tr>\n<th><var>t</var></th>\n<th>Input</th>\n<th>Output</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Prior information</td>\n<td><pre>2 2 1 3 1 2 1 2 1 <var>\\cdots</var> 3</pre></td>\n<td></td>\n</tr>\n<tr>\n<td>1</td>\n<td><pre>3</pre></td>\n<td><pre>R</pre></td>\n</tr>\n<tr>\n<td>2</td>\n<td><pre>98</pre></td>\n<td><pre>B</pre></td>\n</tr>\n<tr>\n<td><var>\\vdots</var></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>100</td>\n<td><pre>1</pre></td>\n<td><pre>L</pre></td>\n</tr>\n</tbody>\n</table>\n\n<p><a href=\"https://img.atcoder.jp/ahc015/b639c75d.html?lang=en&amp;seed=0&amp;output=R%0D%0AB%0D%0AB%0D%0AR%0D%0AF%0D%0AR%0D%0AF%0D%0AR%0D%0AR%0D%0AF%0D%0AB%0D%0AL%0D%0AB%0D%0AL%0D%0AF%0D%0AF%0D%0AB%0D%0AF%0D%0AB%0D%0AL%0D%0AL%0D%0AL%0D%0AL%0D%0AB%0D%0AF%0D%0AF%0D%0AR%0D%0AR%0D%0AF%0D%0AL%0D%0AL%0D%0AB%0D%0AL%0D%0AL%0D%0AL%0D%0AB%0D%0AL%0D%0AR%0D%0AF%0D%0AL%0D%0AB%0D%0AL%0D%0AF%0D%0AF%0D%0AF%0D%0AL%0D%0AL%0D%0AR%0D%0AB%0D%0AB%0D%0AF%0D%0AL%0D%0AF%0D%0AR%0D%0AB%0D%0AL%0D%0AF%0D%0AF%0D%0AR%0D%0AL%0D%0AR%0D%0AL%0D%0AR%0D%0AR%0D%0AB%0D%0AR%0D%0AB%0D%0AR%0D%0AR%0D%0AF%0D%0AB%0D%0AF%0D%0AR%0D%0AR%0D%0AF%0D%0AB%0D%0AF%0D%0AB%0D%0AF%0D%0AR%0D%0AB%0D%0AF%0D%0AF%0D%0AF%0D%0AB%0D%0AB%0D%0AL%0D%0AL%0D%0AR%0D%0AF%0D%0AB%0D%0AL%0D%0AB%0D%0AF%0D%0AB%0D%0AR%0D%0AF%0D%0AF%0D%0AL%0D%0AL%0D%0A\">Show example</a></p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Input Generation</h3><p>Let <var>\\mathrm{rand}(L,U)</var> be a function that generates a uniform random integer between <var>L</var> and <var>U</var>, inclusive.\nEach <var>f_t</var> is generated by <var>\\mathrm{rand}(1,3)</var>.\nEach <var>p_t</var> is generated by <var>\\mathrm{rand}(1,101-t)</var>.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Tools (Input generator and visualizer)</h3><ul>\n<li><a href=\"https://img.atcoder.jp/ahc015/b639c75d.html?lang=en\">Web version</a>: This is more powerful than the local version providing animations and manual play.</li>\n<li><a href=\"https://img.atcoder.jp/ahc015/b639c75d.zip\">Local version</a>: You need a compilation environment of <a href=\"https://www.rust-lang.org/\">Rust language</a>.<ul>\n<li><a href=\"https://img.atcoder.jp/ahc015/b639c75d_windows.zip\">Pre-compiled binary for Windows</a>: If you are not familiar with the Rust language environment, please use this instead.</li>\n</ul>\n</li>\n</ul>\n<p>Please be aware that sharing visualization results or discussing solutions/ideas during the contest is prohibited.</p></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/ahc015/tasks/ahc015_a"}