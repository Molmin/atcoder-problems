{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>1800</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p>整数 <var>N, K</var> が与えられます。</p>\n<p>長さ <var>K</var> の整数列 <var>a=[a_1, a_2, \\ldots, a_K]</var> が全ての <var>1 \\le i \\le K</var> について <var>1 \\le a_i \\le i</var> を満たすとき、<var>a</var> を<strong>良い</strong>列と呼びます。</p>\n<p>長さ <var>NK</var> の整数列 <var>b=[b_1, b_2, \\ldots, b_{NK}]</var> が次の条件を満たすとき、<var>b</var> を<strong>素晴らしい</strong>列と呼びます: <var>b</var> を <var>N</var> 個の長さ <var>K</var> の（連続とは限らない）部分列に分解する方法であって、各部分列が良い列であるような方法が存在する。</p>\n<p><var>f(pos, val)</var> を、<var>b_{pos}=val</var> であるような素晴らしい列 <var>b</var> の個数と定義します。</p>\n<p>全ての <var>1\\le pos \\le NK</var>, <var>1 \\le val \\le K</var> について <var>f(pos, val)</var> を求めてください。これらの数値は非常に大きい可能性があるため、これらを素数 <var>P</var> で割った余りを出力してください。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>1 \\le N \\le 20</var></li>\n<li><var>1 \\le K \\le 20</var></li>\n<li><var>10^8 \\le P \\le 10^9</var></li>\n<li><var>P</var> は素数である。</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>\n<pre><var>N</var> <var>K</var> <var>P</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p><var>NK</var> 行出力せよ。<var>i</var> 行目の <var>j</var> 個目の数値が <var>(f(i, j) \\bmod P)</var> となるようにすること。</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>2 2 965166677\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>6 0 \n4 2 \n4 2 \n3 3 \n</pre>\n\n<p>以下の <var>6</var> 個の素晴らしい列が存在します。</p>\n<ul>\n<li><var>[1, 1, 1, 1]</var>: <var>[b_1, b_2], [b_3, b_4]</var> に分割できます。</li>\n<li><var>[1, 1, 1, 2]</var>: <var>[b_1, b_2], [b_3, b_4]</var> に分割できます。</li>\n<li><var>[1, 2, 1, 1]</var>: <var>[b_1, b_2], [b_3, b_4]</var> に分割できます。</li>\n<li><var>[1, 2, 1, 2]</var>: <var>[b_1, b_2], [b_3, b_4]</var> に分割できます。</li>\n<li><var>[1, 1, 2, 1]</var>: <var>[b_1, b_3], [b_2, b_4]</var> に分割できます。</li>\n<li><var>[1, 1, 2, 2]</var>: <var>[b_1, b_3], [b_2, b_4]</var> に分割できます。</li>\n</ul></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>1800</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>You are given integers <var>N</var> and <var>K</var>.</p>\n<p>Let's call an integer array <var>a=[a_1, a_2, \\ldots, a_K]</var> of length <var>K</var> <strong>good</strong>, if <var>1 \\le a_i \\le i</var> for all <var>1 \\le i \\le K</var>.</p>\n<p>Let's call an integer array <var>b=[b_1, b_2, \\ldots, b_{NK}]</var> of length <var>NK</var> <strong>amazing</strong>, if it can be split into <var>N</var> (not necessarily contiguous) subsequences of length <var>K</var>, each of which is good.</p>\n<p>Let's define <var>f(pos, val)</var> as the number of amazing sequences <var>b</var> such that <var>b_{pos}=val</var>.</p>\n<p>Find <var>f(pos, val)</var> for all <var>1\\le pos \\le NK</var>, <var>1 \\le val \\le K</var>.\nAs these numbers can be very big, output them modulo some prime <var>P</var>.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>1 \\le N \\le 20</var>.</li>\n<li><var>1 \\le K \\le 20</var>.</li>\n<li><var>10^8 \\le P \\le 10^9</var></li>\n<li><var>P</var> is a prime.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>Input is given from Standard Input in the following format:</p>\n<pre><var>N</var> <var>K</var> <var>P</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>Output <var>NK</var> lines.\nThe <var>j</var>-th number in the <var>i</var>-th line should be equal to <var>(f(i, j) \\bmod P)</var>.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>2 2 965166677\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>6 0 \n4 2 \n4 2 \n3 3 \n</pre>\n\n<p>There exist <var>6</var> amazing arrays:</p>\n<ul>\n<li><var>[1, 1, 1, 1]</var> ー can be split into <var>[b_1, b_2], [b_3, b_4]</var>.</li>\n<li><var>[1, 1, 1, 2]</var> ー can be split into <var>[b_1, b_2], [b_3, b_4]</var>.</li>\n<li><var>[1, 2, 1, 1]</var> ー can be split into <var>[b_1, b_2], [b_3, b_4]</var>.</li>\n<li><var>[1, 2, 1, 2]</var> ー can be split into <var>[b_1, b_2], [b_3, b_4]</var>.</li>\n<li><var>[1, 1, 2, 1]</var> ー can be split into <var>[b_1, b_3], [b_2, b_4]</var>.</li>\n<li><var>[1, 1, 2, 2]</var> ー can be split into <var>[b_1, b_3], [b_2, b_4]</var>.</li>\n</ul></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/agc055/tasks/agc055_f"}