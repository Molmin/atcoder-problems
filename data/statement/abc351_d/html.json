{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>425</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p><var>H</var> 行 <var>W</var> 列のマス目があり、いくつか（<var>0</var> 個のこともある）のマスには磁石が置かれています。<br>\nマス目の状態は <var>H</var> 個の 長さ <var>W</var> の文字列 <var>S_1,S_2,\\ldots,S_H</var> で表され、\n<var>S_i</var> の <var>j</var> 文字目が <code>#</code> のとき上から <var>i</var> 行目かつ左から <var>j</var> 列目のマスには磁石が置かれていることを、\n<code>.</code> のとき何も置かれていないことを表しています。</p>\n<p>高橋君は鉄の鎧を着ており、あるマスにいるとき次のように移動することができます。</p>\n<ul>\n<li>現在いるマスの上下左右に隣り合うマスのいずれかに磁石が置かれているとき、どこへも移動することができない。</li>\n<li>そうでないとき、上下左右に隣り合うマスのいずれかを選んでそのマスに移動することができる。<br>\nただし、マス目の外に移動することはできない。</li>\n</ul>\n<p>磁石が置かれていない各マスについて、そのマスの自由度を、「最初高橋くんがそのマスにいるとき、そこから移動を繰り返して到達できるマスの個数」として定義します。\nマス目のうち磁石が置かれていないマスの中における、マスの自由度の最大値を求めてください。  </p>\n<p>ただし、自由度の定義において、「移動を繰り返して到達できるマス」とは、最初にいるマスからそのマスまで移動を繰り返して到達する方法（<var>1</var> 回も移動しないものも含む）が <var>1</var> つ以上存在するようなマスのことであり、\n最初のマスから始めてすべてのそのようなマスを巡るような移動方法が存在する必要はありません。特に（磁石の置かれていない）各マス自身は、そのマスから「移動を繰り返して到達できるマス」につねに含まれることに注意してください。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>1\\leq H,W\\leq 1000</var></li>\n<li><var>H,W</var> は整数</li>\n<li><var>S_i</var> は <code>.</code> と <code>#</code> のみからなる長さ <var>W</var> の文字列</li>\n<li>磁石の置かれていないマスが少なくとも <var>1</var> つ存在する。</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>\n<pre><var>H</var> <var>W</var>\n<var>S_1</var>\n<var>S_2</var>\n<var>\\vdots</var>\n<var>S_H</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>マス目のうち磁石が置かれていないマスの中における、マスの自由度の最大値を出力せよ。</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>3 5\n.#...\n.....\n.#..#\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>9\n</pre>\n<p>上から <var>i</var> 行目かつ左から <var>j</var> 列目のマスを <var>(i,j)</var> で表します。\n高橋君が最初に <var>(2,3)</var> にいるとき、高橋君の移動の例としては次のようなものなどが考えられます。</p>\n<ul>\n<li><var>(2,3)\\to (2,4)\\to (1,4)\\to (1,5)\\to (2,5)</var></li>\n<li><var>(2,3)\\to (2,4)\\to (3,4)</var></li>\n<li><var>(2,3)\\to (2,2)</var></li>\n<li><var>(2,3)\\to (1,3)</var></li>\n<li><var>(2,3)\\to (3,3)</var></li>\n</ul>\n<p>よって、途中で到達しているマスも含めて高橋君は <var>(2,3)</var> から少なくとも <var>9</var> 個のマスに到達することができます。\n一方、これら以外のマスには到達することができないため、<var>(2,3)</var> の自由度は <var>9</var> となります。</p>\n<p>これは磁石が置かれていない各マスの自由度のうち最大であるため、<var>9</var> を出力します。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>3 3\n..#\n#..\n..#\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>1\n</pre>\n<p>磁石が置かれていないどのマスについても、上下左右に隣り合うマスのいずれかに磁石が置かれています。<br>\nよって、磁石が置かれていないどのマスからも移動することはできず、マスの自由度は <var>1</var> となります。<br>\nそのため、<var>1</var> を出力します。</p></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score: <var>425</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>There is a grid of <var>H</var> rows and <var>W</var> columns. Some cells (possibly zero) contain magnets.<br>\nThe state of the grid is represented by <var>H</var> strings <var>S_1, S_2, \\ldots, S_H</var> of length <var>W</var>. If the <var>j</var>-th character of <var>S_i</var> is <code>#</code>, it indicates that there is a magnet in the cell at the <var>i</var>-th row from the top and <var>j</var>-th column from the left; if it is <code>.</code>, it indicates that the cell is empty.</p>\n<p>Takahashi, wearing an iron armor, can move in the grid as follows:</p>\n<ul>\n<li>If any of the cells vertically or horizontally adjacent to the current cell contains a magnet, he cannot move at all.</li>\n<li>Otherwise, he can move to any one of the vertically or horizontally adjacent cells.<br>\nHowever, he cannot exit the grid.</li>\n</ul>\n<p>For each cell without a magnet, define its degree of freedom as the number of cells he can reach by repeatedly moving from that cell. Find the maximum degree of freedom among all cells without magnets in the grid.</p>\n<p>Here, in the definition of degree of freedom, \"cells he can reach by repeatedly moving\" mean cells that can be reached from the initial cell by some sequence of moves (possibly zero moves). It is not necessary that there is a sequence of moves that visits all such reachable cells starting from the initial cell. Specifically, each cell itself (without a magnet) is always included in the cells reachable from that cell.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>1 \\leq H, W \\leq 1000</var></li>\n<li><var>H</var> and <var>W</var> are integers.</li>\n<li><var>S_i</var> is a string of length <var>W</var> consisting of <code>.</code> and <code>#</code>.</li>\n<li>There is at least one cell without a magnet.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>The input is given from Standard Input in the following format:</p>\n<pre><var>H</var> <var>W</var>\n<var>S_1</var>\n<var>S_2</var>\n<var>\\vdots</var>\n<var>S_H</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>Print the maximum degree of freedom among all cells without magnets.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>3 5\n.#...\n.....\n.#..#\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>9\n</pre>\n<p>Let <var>(i,j)</var> denote the cell at the <var>i</var>-th row from the top and <var>j</var>-th column from the left. If Takahashi starts at <var>(2,3)</var>, possible movements include:</p>\n<ul>\n<li><var>(2,3) \\to (2,4) \\to (1,4) \\to (1,5) \\to (2,5)</var></li>\n<li><var>(2,3) \\to (2,4) \\to (3,4)</var></li>\n<li><var>(2,3) \\to (2,2)</var></li>\n<li><var>(2,3) \\to (1,3)</var></li>\n<li><var>(2,3) \\to (3,3)</var></li>\n</ul>\n<p>Thus, including the cells he passes through, he can reach at least nine cells from <var>(2,3)</var>.<br>\nActually, no other cells can be reached, so the degree of freedom for <var>(2,3)</var> is <var>9</var>.</p>\n<p>This is the maximum degree of freedom among all cells without magnets, so print <var>9</var>.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>3 3\n..#\n#..\n..#\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>1\n</pre>\n<p>For any cell without a magnet, there is a magnet in at least one of the adjacent cells.<br>\nThus, he cannot move from any of these cells, so their degrees of freedom are <var>1</var>.<br>\nTherefore, print <var>1</var>.</p></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/abc351/tasks/abc351_d"}