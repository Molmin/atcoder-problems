{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>500</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p>頂点に <var>1</var> から <var>N</var> までの、辺に <var>1</var> から <var>M</var> までの番号がついた <var>N</var> 頂点 <var>M</var> 辺の単純無向グラフがあります。  辺 <var>i</var> は頂点 <var>u_i</var> と頂点 <var>v_i</var> を結んでいます。<br>\nまた、全ての頂点は赤か青のいずれか一方で塗られています。頂点 <var>i</var> の色は <var>C_i</var> で表されて、<var>C_i</var> が <var>0</var> ならば頂点 <var>i</var> は赤く、<var>1</var> ならば頂点 <var>i</var> は青く塗られています。</p>\n<p>今、高橋君が頂点 <var>1</var> に、青木君が頂点 <var>N</var> にいます。<br>\n2 人は次の行動を <var>0</var> 回以上好きな回数繰り返します。</p>\n<ul>\n<li>2 人が同時に、今いる頂点に隣接している頂点のいずれか 1 個に移動する。<br>\n    ただし、高橋君の移動先の頂点の色と、青木君の移動先の頂点の色は異なる必要がある。</li>\n</ul>\n<p>上記の行動を繰り返すことで、高橋君が頂点 <var>N</var> に、青木君が頂点 <var>1</var> にいる状態にできますか？<br>\n可能である場合は必要な行動回数の最小値を答えてください。不可能である場合は <code>-1</code> を出力してください。</p>\n<p>入力のはじめに <var>T</var> が与えられるので、<var>T</var> 個のテストケースについて問題を解いてください。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>1 \\leq T \\leq 1000</var></li>\n<li><var>2 \\leq N \\leq 2000</var></li>\n<li><var>1 \\leq M \\leq \\min(\\frac{N(N-1)}{2}, 2000)</var></li>\n<li><var>C_i \\in \\lbrace 0, 1 \\rbrace</var></li>\n<li><var>1 \\leq u_i, v_i \\leq N</var></li>\n<li>入力で与えられるグラフは単純</li>\n<li>入力される値は全て整数</li>\n<li>全てのテストケースに対する <var>N</var> の総和は <var>2000</var> を超えない。</li>\n<li>全てのテストケースに対する <var>M</var> の総和は <var>2000</var> を超えない。</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。ここで <var>\\text{test}_i</var> は <var>i</var> 番目のテストケースを意味する。</p>\n<pre><var>T</var>\n<var>\\text{test}_1</var>\n<var>\\text{test}_2</var>\n<var>\\vdots</var>\n<var>\\text{test}_T</var>\n</pre>\n<p>各テストケースは以下の形式で与えられる。</p>\n<pre><var>N</var> <var>M</var>\n<var>C_1</var> <var>C_2</var> <var>\\dots</var> <var>C_N</var>\n<var>u_1</var> <var>v_1</var>\n<var>u_2</var> <var>v_2</var>\n<var>\\vdots</var>\n<var>u_M</var> <var>v_M</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p><var>T</var> 行出力せよ。<var>i</var> 行目には <var>i</var> 番目のテストケースに対する答えを出力せよ。<br>\n各テストケースでは、高橋君が頂点 <var>N</var> に、青木君が頂点 <var>1</var> にいる状態にできる場合は必要な行動回数の最小値を、できない場合は <code>-1</code> を出力せよ。</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>3\n4 4\n0 1 0 1\n1 2\n2 3\n1 3\n2 4\n3 3\n0 1 0\n1 2\n2 3\n1 3\n6 6\n0 0 1 1 0 1\n1 2\n2 6\n3 6\n4 6\n4 5\n2 4\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>3\n-1\n3\n</pre>\n<p>1 番目のテストケースでは、高橋君と青木君は以下のように行動することで、 <var>3</var> 回の行動で目的の状態を達成することができて、これが最小です。</p>\n<ul>\n<li>高橋君が頂点 <var>3</var> に、青木君が頂点 <var>2</var> に移動する。</li>\n<li>高橋君が頂点 <var>2</var> に、青木君が頂点 <var>3</var> に移動する。</li>\n<li>高橋君が頂点 <var>4</var> に、青木君が頂点 <var>1</var> に移動する。</li>\n</ul>\n<p>ここで、<var>1</var> 回目の移動で高橋君と青木君がともに頂点 <var>2</var> に移動することはできないのに注意してください。(なぜならば、高橋君の移動先の頂点の色と青木君の移動先の頂点の色は異なる必要があるからです。)</p>\n<p>2 番目のテストケースでは、2 人はどのように行動しても目的の状態を達成することはできません。</p></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>500</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>There is a simple undirected graph with <var>N</var> vertices numbered <var>1</var> through <var>N</var> and <var>M</var> edges numbered <var>1</var> through <var>M</var>.  Edge <var>i</var> connects vertex <var>u_i</var> and vertex <var>v_i</var>.<br>\nEvery vertex is painted either red or blue.  The color of vertex <var>i</var> is represented by <var>C_i</var>; vertex <var>i</var> is painted red if <var>C_i</var> is <var>0</var> and blue if <var>C_i</var> is <var>1</var>.</p>\n<p>Now, Takahashi is on vertex <var>1</var> and Aoki is on vertex <var>N</var>.<br>\nThey may repeat the following move zero or more times.</p>\n<ul>\n<li>Each of the two simultaneously moves to a vertex adjacent to the current vertex.<br>\n    Here, the vertices that Takahashi and Aoki move to must have different colors.</li>\n</ul>\n<p>By repeating the move above, can Takahashi and Aoki simultaneously end up on vertices <var>N</var> and <var>1</var>, respectively?<br>\nIf it is possible, find the minimum number of moves required.  If it is impossible, print <code>-1</code>.</p>\n<p>You are given <var>T</var> at the beginning of the input.  Solve the problem for <var>T</var> test cases.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>1 \\leq T \\leq 1000</var></li>\n<li><var>2 \\leq N \\leq 2000</var></li>\n<li><var>1 \\leq M \\leq \\min(\\frac{N(N-1)}{2}, 2000)</var></li>\n<li><var>C_i \\in \\lbrace 0, 1 \\rbrace</var></li>\n<li><var>1 \\leq u_i, v_i \\leq N</var></li>\n<li>The graph given in the input is simple.</li>\n<li>All values in the input are integers.</li>\n<li>The sum of <var>N</var> over all test cases does not exceed <var>2000</var>.</li>\n<li>The sum of <var>M</var> over all test cases does not exceed <var>2000</var>.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>The input is given from Standard Input in the following format, where <var>\\text{test}_i</var> denotes the <var>i</var>-th test case:</p>\n<pre><var>T</var>\n<var>\\text{test}_1</var>\n<var>\\text{test}_2</var>\n<var>\\vdots</var>\n<var>\\text{test}_T</var>\n</pre>\n<p>Each test case is given in the following format:</p>\n<pre><var>N</var> <var>M</var>\n<var>C_1</var> <var>C_2</var> <var>\\dots</var> <var>C_N</var>\n<var>u_1</var> <var>v_1</var>\n<var>u_2</var> <var>v_2</var>\n<var>\\vdots</var>\n<var>u_M</var> <var>v_M</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>Print <var>T</var> lines.  The <var>i</var>-th line should contain the answer to the <var>i</var>-th test case.<br>\nFor each test case, print the minimum number of moves required for Takahashi and Aoki to simultaneously end up in vertices <var>N</var> and <var>1</var>, respectively, if it is possible, and <code>-1</code> otherwise.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>3\n4 4\n0 1 0 1\n1 2\n2 3\n1 3\n2 4\n3 3\n0 1 0\n1 2\n2 3\n1 3\n6 6\n0 0 1 1 0 1\n1 2\n2 6\n3 6\n4 6\n4 5\n2 4\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>3\n-1\n3\n</pre>\n<p>For the <var>1</var>-st test case, Takahashi and Aoki can achieve the objective by making the following <var>3</var> moves, which is the minimum number:</p>\n<ul>\n<li>Takahashi moves to vertex <var>3</var>, and Aoki moves to vertex <var>2</var>.</li>\n<li>Takahashi moves to vertex <var>2</var>, and Aoki moves to vertex <var>3</var>.</li>\n<li>Takahashi moves to vertex <var>4</var>, and Aoki moves to vertex <var>1</var>.</li>\n</ul>\n<p>Note that in the <var>1</var>-st move, it is disallowed that both Takahashi and Aoki move to vertex <var>2</var> (because the colors of vertices that Takahashi and Aoki move to must be different.)</p>\n<p>For the <var>2</var>-nd case, no matter how they move, they cannot achieve the objective.</p></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/abc289/tasks/abc289_e"}