{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>500</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p><var>N</var> 頂点からなる木が与えられます。\n頂点は <var>1</var> , <var>2</var> , <var>\\ldots</var> , <var>N</var> と番号付けられており、\n<var>1\\leq i\\leq N-1</var> について、<var>i</var> 本目の辺は頂点 <var>U_i</var> と頂点 <var>V_i</var> を結んでいます。\n木の直径を <var>D</var> とするとき、木の頂点のうち <var>2</var> 点以上を選んで赤く塗る方法であって、\n赤く塗られたどの頂点の間の距離も <var>D</var> であるようなものの数を \n<var>998244353</var> で割った余りを求めてください。</p>\n<p>ただし、木の <var>2</var> 頂点の間の距離は一方から他方へ移動するときに用いる辺の本数の最小値であり、\n木の直径は任意の <var>2</var> 頂点の間の距離の最大値として定められます。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>2 \\leq N \\leq 2\\times 10^5</var></li>\n<li><var>1 \\leq U_i,V_i \\leq N</var></li>\n<li><var>U_i \\neq V_i</var></li>\n<li>入力は全て整数である。</li>\n<li>与えられるグラフは木である。</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>\n<pre><var>N</var>\n<var>U_1</var> <var>V_1</var>\n<var>U_2</var> <var>V_2</var>\n<var>\\vdots</var>\n<var>U_{N-1}</var> <var>V_{N-1}</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>答えを出力せよ。</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>5\n1 2\n1 3\n1 4\n4 5\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>2\n</pre>\n<p>与えられた木は <var>5</var> 頂点からなり、直径は <var>3</var> です。<br>\n <var>2</var> 頂点の組であって、その間の距離が <var>3</var> であるようなものは <var>(2,5)</var> , <var>(3,5)</var> しか存在しないため、\n条件をみたす塗り方は <var>\\lbrace 2,5\\rbrace </var> と <var>\\lbrace 3,5\\rbrace </var> の <var>2</var> 通りとなります。<br>\n<var>\\lbrace 2,3,5\\rbrace </var> は頂点 <var>2</var> と頂点 <var>3</var> の間の距離が <var>2</var> であるため条件をみたさないことに注意してください。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>4\n1 2\n1 3\n1 4\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>4\n</pre>\n<p>直径は <var>2</var> であり、条件をみたす塗り方は \n<var>\\lbrace 2,3\\rbrace </var> , <var>\\lbrace 2,4\\rbrace </var> , <var>\\lbrace 3,4\\rbrace </var> , <var>\\lbrace 2,3,4\\rbrace </var> の <var>4</var> 通りとなります。</p></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>500</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>Given is a tree with <var>N</var> vertices.\nThe vertices are numbered <var>1</var>, <var>2</var>, <var>\\ldots</var>, <var>N</var>, and for each <var>1\\leq i\\leq N-1</var>, the <var>i</var>-th edge connects Vertex <var>U_i</var> and Vertex <var>V_i</var>.\nLet <var>D</var> be the diameter of the tree. Find the number, modulo <var>998244353</var>, of ways to choose two or more of the vertices and paint them red so that all distances between two red vertices are <var>D</var>.</p>\n<p>Here, the distance between two vertices is the minimum number of edges that must be traversed to travel from one vertex to the other, and the diameter of the tree is the maximum distance between two vertices.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>2 \\leq N \\leq 2\\times 10^5</var></li>\n<li><var>1 \\leq U_i,V_i \\leq N</var></li>\n<li><var>U_i \\neq V_i</var></li>\n<li>All values in input are integers.</li>\n<li>The given graph is a tree.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>Input is given from Standard Input in the following format:</p>\n<pre><var>N</var>\n<var>U_1</var> <var>V_1</var>\n<var>U_2</var> <var>V_2</var>\n<var>\\vdots</var>\n<var>U_{N-1}</var> <var>V_{N-1}</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>Print the answer.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>5\n1 2\n1 3\n1 4\n4 5\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>2\n</pre>\n<p>The given tree has five vertices and a diameter of <var>3</var>.<br>\nThere are just two pairs of vertices whose distance is <var>3</var>: <var>(2,5)</var> and <var>(3,5)</var>, so there are two ways to paint the tree to satisfy the condition: <var>\\lbrace 2,5\\rbrace </var> and <var>\\lbrace 3,5\\rbrace </var>.<br>\nNote that painting <var>2,3,5</var> does not satisfy the condition since the distance between Vertex <var>2</var> and Vertex <var>3</var> is <var>2</var>.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>4\n1 2\n1 3\n1 4\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>4\n</pre>\n<p>The diameter is <var>2</var>, and the four ways to paint the tree to satisfy the condition are: <var>\\lbrace 2,3\\rbrace </var>, <var>\\lbrace 2,4\\rbrace </var>, <var>\\lbrace 3,4\\rbrace </var>, <var>\\lbrace 2,3,4\\rbrace </var>.</p></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/abc221/tasks/abc221_f"}