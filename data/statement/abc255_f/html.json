{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>500</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p><var>1, 2, \\ldots, N</var> と番号づけられた <var>N</var> 個の頂点を持つ<strong>二分木</strong>を考えます。\nここで、二分木とは各頂点が高々 <var>2</var> 個の子を持つ根付き木です。より具体的には、二分木の各頂点は高々 <var>1</var> 個の<strong>左の子</strong>と高々 <var>1</var> 個の<strong>右の子</strong>を持ちます。</p>\n<p>頂点 <var>1</var> を根とする二分木であって、下記の条件を満たすものが存在するかを判定し、存在する場合はその一例を示してください。</p>\n<ul>\n<li>すべての頂点を深さ優先探索における<a href=\"https://ja.wikipedia.org/wiki/%E6%9C%A8%E6%A7%8B%E9%80%A0_(%E3%83%87%E3%83%BC%E3%82%BF%E6%A7%8B%E9%80%A0)#.E6.B7.B1.E3.81.95.E5.84.AA.E5.85.88.E6.8E.A2.E7.B4.A2\"><strong>行きがけ順</strong></a>（pre-order）で並べた列が <var>(P_1, P_2, \\ldots, P_N)</var> である。</li>\n<li>すべての頂点を深さ優先探索における<a href=\"https://ja.wikipedia.org/wiki/%E6%9C%A8%E6%A7%8B%E9%80%A0_(%E3%83%87%E3%83%BC%E3%82%BF%E6%A7%8B%E9%80%A0)#.E6.B7.B1.E3.81.95.E5.84.AA.E5.85.88.E6.8E.A2.E7.B4.A2\"><strong>通りがけ順</strong></a>（in-order）で並べた列が <var>(I_1, I_2, \\ldots, I_N)</var> である。</li>\n</ul>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>2 \\leq N \\leq 2 \\times 10^5</var></li>\n<li><var>N</var> は整数</li>\n<li><var>(P_1, P_2, \\ldots, P_N)</var> は <var>(1, 2, \\ldots, N)</var> の順列</li>\n<li><var>(I_1, I_2, \\ldots, I_N)</var> は <var>(1, 2, \\ldots, N)</var> の順列</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>\n<pre><var>N</var>\n<var>P_1</var> <var>P_2</var> <var>\\ldots</var> <var>P_N</var>\n<var>I_1</var> <var>I_2</var> <var>\\ldots</var> <var>I_N</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>問題文中の条件を満たすような頂点 <var>1</var> を根とする二分木が存在しない場合は <var>-1</var> を出力せよ。<br>\n存在する場合は、条件を満たす二分木の一例を下記の形式にしたがって <var>N</var> 行にわたって出力せよ。\nすなわち、<var>i = 1, 2, \\ldots, N</var> について、<var>i</var> 行目には頂点 <var>i</var> の左の子の番号 <var>L_i</var> と右の子の番号 <var>R_i</var> を出力せよ。\nただし、左の子（または右の子）を持たない場合は <var>L_i</var>（または <var>R_i</var> ）として <var>0</var> を出力せよ。<br>\n条件を満たすような頂点 <var>1</var> を根とする二分木が複数存在する場合は、そのうちどれを出力しても正解となる。</p>\n<pre><var>L_1</var> <var>R_1</var>\n<var>L_2</var> <var>R_2</var>\n<var>\\vdots</var>\n<var>L_N</var> <var>R_N</var>\n</pre>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>6\n1 3 5 6 4 2\n3 5 1 4 6 2\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>3 6\n0 0\n0 5\n0 0\n0 0\n4 2\n</pre>\n<p>次の画像に示す、頂点 <var>1</var> を根とする二分木が問題文中の条件を満たします。</p>\n<p><img src=\"https://img.atcoder.jp/abc255/b51399e8953ae1723d1d9e83617f9be9.png\" width=\"300\"></p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>2\n2 1\n1 2\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>-1\n</pre>\n<p>問題文中の条件を満たすような頂点 <var>1</var> を根とする二分木は存在しません。よって <var>-1</var> を出力します。</p></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>500</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>Consider a <strong>binary tree</strong> with <var>N</var> vertices numbered <var>1, 2, \\ldots, N</var>. Here, a binary tree is a rooted tree where each vertex has at most two children. Specifically, each vertex in a binary tree has at most one <strong>left child</strong> and at most one <strong>right child</strong>.</p>\n<p>Determine whether there exists a binary tree rooted at Vertex <var>1</var> satisfying the conditions below, and present such a tree if it exists.</p>\n<ul>\n<li>The depth-first traversal of the tree in <a href=\"https://en.wikipedia.org/wiki/Tree_traversal#Pre-order,_NLR\">pre-order</a> is <var>(P_1, P_2, \\ldots, P_N)</var>.</li>\n<li>The depth-first traversal of the tree in <a href=\"https://en.wikipedia.org/wiki/Tree_traversal#In-order,_LNR\">in-order</a> is <var>(I_1, I_2, \\ldots, I_N)</var>.</li>\n</ul>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>2 \\leq N \\leq 2 \\times 10^5</var></li>\n<li><var>N</var> is an integer.</li>\n<li><var>(P_1, P_2, \\ldots, P_N)</var> is a permutation of <var>(1, 2, \\ldots, N)</var>.</li>\n<li><var>(I_1, I_2, \\ldots, I_N)</var> is a permutation of <var>(1, 2, \\ldots, N)</var>.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>Input is given from Standard Input in the following format:</p>\n<pre><var>N</var>\n<var>P_1</var> <var>P_2</var> <var>\\ldots</var> <var>P_N</var>\n<var>I_1</var> <var>I_2</var> <var>\\ldots</var> <var>I_N</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>If there is no binary tree rooted at Vertex <var>1</var> satisfying the conditions in Problem Statement, print <var>-1</var>.<br>\nOtherwise, print one such tree in <var>N</var> lines as follows.\nFor each <var>i = 1, 2, \\ldots, N</var>, the <var>i</var>-th line should contain <var>L_i</var> and <var>R_i</var>, the indices of the left and right children of Vertex <var>i</var>, respectively.\nHere, if Vertex <var>i</var> has no left (right) child, <var>L_i</var> (<var>R_i</var>) should be <var>0</var>.<br>\nIf there are multiple binary trees rooted at Vertex <var>1</var> satisfying the conditions, any of them will be accepted.</p>\n<pre><var>L_1</var> <var>R_1</var>\n<var>L_2</var> <var>R_2</var>\n<var>\\vdots</var>\n<var>L_N</var> <var>R_N</var>\n</pre>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>6\n1 3 5 6 4 2\n3 5 1 4 6 2\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>3 6\n0 0\n0 5\n0 0\n0 0\n4 2\n</pre>\n<p>The binary tree rooted at Vertex <var>1</var> shown in the following image satisfies the conditions.</p>\n<p><img src=\"https://img.atcoder.jp/abc255/b51399e8953ae1723d1d9e83617f9be9.png\" width=\"300\"></p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>2\n2 1\n1 2\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>-1\n</pre>\n<p>No binary tree rooted at Vertex <var>1</var> satisfies the conditions, so <var>-1</var> should be printed.</p></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/abc255/tasks/abc255_f"}