{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>1300</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p><font color=\"red\"><strong>これはインタラクティブな問題です。</strong></font></p>\n<p>シカのAtCoDeerくんは <var>0</var>~<var>N-1</var> の番号がついた <var>N</var> 人の人が集まっているのを見つけました。\nこの内 <var>A</var> 人は<em>正直者</em>で、残りの <var>B(=N-A)</var> 人は<em>不親切な人</em>です。\n<var>N</var> 人の人は全員、誰が<em>正直者</em>で、誰が<em>不親切な人</em>かを把握しています。\n一方、AtCoDeerくんは、<em>正直者</em>が <var>A</var> 人いて<em>不親切な人</em>が <var>B</var> 人いることしか知りません。\nそこで、AtCoDeerくんはこれらの <var>N</var> 人に質問をして、<em>正直者</em>を全員特定しようとしています。\n一回の質問では、AtCoDeerくんは、<var>0≦a,b≦N-1</var> なる <var>a</var>, <var>b</var> を選んで、<var>a</var> さんに「<var>b</var> さんは<em>正直者</em>ですか?」という質問をします。</p>\n<p><em>正直者</em>は、質問に対し常に Yes か No の正しい答えを返します。\n一方、<em>不親切な人</em>は、質問に対し Yes か No のどちらかを<strong>恣意的に</strong>選んで返します。\nつまり、常に嘘をついたり、半分の確率でランダムに答えるといった単純なアルゴリズムではない可能性があります。</p>\n<p>AtCoDeerくんは高々 <var>2N</var> 回質問をすることができます。質問は順番に行われ、以前の質問の結果から次の質問を決めることが出来ます。</p>\n<p><em>正直者</em>を全員特定してください。\n不可能な場合(正確には、どのような <var>2N</var> 回の質問をしようと、<em>不親切な人</em>たちがうまく返答することで、<em>正直者</em>の集合としてありうるものが2つ以上存在するようにできる場合)は、その旨を出力してください。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>1≦A,B≦2000</var></li>\n</ul>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>入出力</h3><p>最初に、標準入力から <var>A</var> と <var>B</var> が以下の形式で与えられる:</p>\n<pre><var>A</var> <var>B</var>\n</pre>\n\n<p>もし特定が不可能な場合は、即座に次のように出力し、プログラムを終了しなければならない。:</p>\n<pre>Impossible\n</pre>\n\n<p>それ以外の場合は、次に、クエリを質問する。\n各クエリは、標準出力に以下の形式で出力されなければならない:</p>\n<pre>? <var>a</var> <var>b</var>\n</pre>\n\n<p>ここで <var>a</var> と <var>b</var> は <var>0</var> 以上 <var>N-1</var> 以下の整数でなければならない。</p>\n<p>次に、クエリの答えが標準入力から以下の形式で与えられる:</p>\n<pre><var>ans</var>\n</pre>\n\n<p>ここで <var>ans</var> は <code>Y</code> または <code>N</code> である。\n<code>Y</code> のときは質問の答えが Yes であることを、<code>N</code> のときは No であることを表す。</p>\n<p>最後に、答えを以下の形式で出力しなければならない：</p>\n<pre>! <var>s_0s_1...s_{N-1}</var>\n</pre>\n\n<p>ここで <var>s_i</var> は <var>i</var> 番の人が<em>正直者</em>なら <code>1</code>、<em>不親切な人</em>なら <code>0</code> でなければならない。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>ジャッジ</h3><ul>\n<li><font color=\"red\"><strong>出力のあと、標準出力を flush しなければならない。</strong></font> そうでないときは <code>TLE</code> の可能性がある。</li>\n<li>答えを出力した後、プログラムをすぐに終了しなければならない。そうでないときの挙動は定義されていない。</li>\n<li>出力の答えが間違っている場合の挙動は定義されていない (<code>WA</code>とは限らない)。</li>\n</ul>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>サンプル</h3><p>このサンプルでは <var>A = 2</var>, <var>B = 1</var> で、答えは <code>101</code> である。</p>\n<table class=\"table table-bordered\">\n<thead>\n<tr>\n<th align=\"left\">Input</th>\n<th align=\"left\">Output</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><var>2</var> <var>1</var></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\"></td>\n<td align=\"left\"><var>?</var> <var>0</var> <var>1</var></td>\n</tr>\n<tr>\n<td align=\"left\"><var>N</var></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\"></td>\n<td align=\"left\"><var>?</var> <var>0</var> <var>2</var></td>\n</tr>\n<tr>\n<td align=\"left\"><var>Y</var></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\"></td>\n<td align=\"left\"><var>?</var> <var>1</var> <var>0</var></td>\n</tr>\n<tr>\n<td align=\"left\"><var>Y</var></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\"></td>\n<td align=\"left\"><var>?</var> <var>2</var> <var>0</var></td>\n</tr>\n<tr>\n<td align=\"left\"><var>Y</var></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\"></td>\n<td align=\"left\"><var>?</var> <var>2</var> <var>2</var></td>\n</tr>\n<tr>\n<td align=\"left\"><var>Y</var></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\"></td>\n<td align=\"left\"><var>!</var> <var>101</var></td>\n</tr>\n</tbody>\n</table>\n<p>次のサンプルでは <var>A = 1</var>, <var>B = 2</var> で、答えは <code>Impossible</code> である。</p>\n<table class=\"table table-bordered\">\n<thead>\n<tr>\n<th align=\"left\">Input</th>\n<th align=\"left\">Output</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><var>1</var> <var>2</var></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\"></td>\n<td align=\"left\"><var>Impossible</var></td>\n</tr>\n</tbody>\n</table></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>1300</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p><font color=\"red\"><strong>This is an interactive task.</strong></font></p>\n<p>AtCoDeer the deer came across <var>N</var> people. For convenience, the people are numbered <var>0</var> through <var>N-1</var>.\nAmong them, <var>A</var> are <em>honest</em> and the remaining <var>B(=N-A)</var> are <em>unkind</em>.\nAll of these <var>N</var> people know who are honest and who are unkind, but AtCoDeer only knows that there are <var>A</var> honest and <var>B</var> unkind people.\nHe is trying to identify all of the honest people by asking questions to these <var>N</var> people.\nFor one question, AtCoDeer selects <var>a</var> and <var>b</var> <var>(0≤a,b≤N-1)</var>, and asks person <var>a</var> the following question: \"Is person <var>b</var> honest?\"</p>\n<p>An honest person will always answer correctly by \"Yes\" or \"No\".\nAn unkind person, however, will answer by selecting \"Yes\" or \"No\" <strong>arbitrarily</strong>.\nThat is, the algorithm used by an unkind person may not be simple one such as always lying or giving random fifty-fifty answers.</p>\n<p>AtCoDeer can ask at most <var>2N</var> questions. He will ask questions one by one, and the responses to the previous questions can be used when deciding the next question to ask.</p>\n<p>Identify all of the honest people.\nIf it is impossible (more formally, if, for any strategy of asking <var>2N</var> questions, there exists a strategy for unkind people to answer the questions so that there are two or more possible sets of the honest people), report that fact.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>1≤A,B≤2000</var></li>\n</ul>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Input and Output</h3><p>First, <var>A</var> and <var>B</var> are given from Standard Input in the following format:</p>\n<pre><var>A</var> <var>B</var>\n</pre>\n\n<p>If identifying the honest people is impossible, the program must immediately print the following output and terminate itself:</p>\n<pre>Impossible\n</pre>\n\n<p>Otherwise, the program shall ask questions.\nEach question must be written to Standard Output in the following format:</p>\n<pre>? <var>a</var> <var>b</var>\n</pre>\n\n<p>Here, <var>a</var> and <var>b</var> must be integers between <var>0</var> and <var>N-1</var> (inclusive).\nThe response to the question will be given from Standard Input in the following format:</p>\n<pre><var>ans</var>\n</pre>\n\n<p>Here, <var>ans</var> is either <code>Y</code> or <code>N</code>.\n<code>Y</code> represents \"Yes\"; <code>N</code> represents \"No\".</p>\n<p>Finally, the answer must be written to Standard Output in the following format:</p>\n<pre>! <var>s_0s_1...s_{N-1}</var>\n</pre>\n\n<p>Here, <var>s_i</var> must be <code>1</code> if person <var>i</var> is honest, and <code>0</code> if person <var>i</var> is unkind.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Judgement</h3><ul>\n<li><font color=\"red\"><strong>After each output, you must flush Standard Output.</strong></font> Otherwise you may get <code>TLE</code>.</li>\n<li>After you print the answer, the program must be terminated immediately. Otherwise, the behavior of the judge is undefined.</li>\n<li>When your output is invalid or incorrect, the behavior of the judge is undefined (it does not necessarily give <code>WA</code>).</li>\n</ul>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Samples</h3><p>In the following sample, <var>A = 2</var>, <var>B = 1</var>, and the answer is <code>101</code>.</p>\n<table class=\"table table-bordered\">\n<thead>\n<tr>\n<th align=\"left\">Input</th>\n<th align=\"left\">Output</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><var>2</var> <var>1</var></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\"></td>\n<td align=\"left\"><var>?</var> <var>0</var> <var>1</var></td>\n</tr>\n<tr>\n<td align=\"left\"><var>N</var></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\"></td>\n<td align=\"left\"><var>?</var> <var>0</var> <var>2</var></td>\n</tr>\n<tr>\n<td align=\"left\"><var>Y</var></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\"></td>\n<td align=\"left\"><var>?</var> <var>1</var> <var>0</var></td>\n</tr>\n<tr>\n<td align=\"left\"><var>Y</var></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\"></td>\n<td align=\"left\"><var>?</var> <var>2</var> <var>0</var></td>\n</tr>\n<tr>\n<td align=\"left\"><var>Y</var></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\"></td>\n<td align=\"left\"><var>?</var> <var>2</var> <var>2</var></td>\n</tr>\n<tr>\n<td align=\"left\"><var>Y</var></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\"></td>\n<td align=\"left\"><var>!</var> <var>101</var></td>\n</tr>\n</tbody>\n</table>\n<p>In the following sample, <var>A = 1</var>, <var>B = 2</var>, and the answer is <code>Impossible</code>.</p>\n<table class=\"table table-bordered\">\n<thead>\n<tr>\n<th align=\"left\">Input</th>\n<th align=\"left\">Output</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><var>1</var> <var>2</var></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\"></td>\n<td align=\"left\"><var>Impossible</var></td>\n</tr>\n</tbody>\n</table></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/arc070/tasks/arc070_d"}