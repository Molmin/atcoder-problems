{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>600</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p><var>N\\times N</var> のマス目があり、それぞれのマスには <var>0</var> 以上 <var>5</var> 以下の整数が書かれています。\n上から <var>i</var> 行目、左から <var>j</var> 列目 <var>(1\\leq i,j\\leq N)</var> のマスをマス <var>(i,j)</var> と表し、マス <var>(i,j)</var> には整数 <var>A _ {i,j}</var> が書かれています。</p>\n<p>このマス目に対して、次の操作を <var>0</var> 回以上好きな回数行います。</p>\n<ul>\n<li><var>0</var> が書かれているマス <var>(i,j)</var> と <var>1</var> 以上 <var>5</var> 以下の整数 <var>x</var> を <var>1</var> つ選ぶ。選ばれたマスに書かれている数を <var>x</var> に変更する。</li>\n</ul>\n<p>操作が終了したあと、マス <var>(i,j)</var> に書かれている整数を <var>B _ {i,j}</var> とします。\nマス目の<strong>コスト</strong>を、隣接するマスに書かれた整数の差の二乗の総和とします。つまり、コストは次の式で表されます。</p>\n<p></p><center><var>\\displaystyle\\sum _ {i=1} ^ N\\sum _ {j=1} ^ {N-1}(B _ {i,j}-B _ {i,j+1})^2+\\sum _ {i=1} ^ {N-1}\\sum _ {j=1} ^ N(B _ {i,j}-B _ {i+1,j})^2</var></center><p></p>\n<p>操作が終了したあとのマス目としてありえるもののうち、コストが最小のものを求めてください。</p>\n<p>ただし、コストが最小となるマス目の状態が複数ある場合、そのうちどれを出力しても構いません。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>1\\leq N\\leq20</var></li>\n<li><var>0\\leq A _ {i,j}\\leq 5\\ (1\\leq i\\leq N,1\\leq j\\leq N)</var></li>\n<li>入力はすべて整数</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>\n<pre><var>N</var>\n<var>A _ {1,1}</var> <var>A _ {1,2}</var> <var>\\ldots</var> <var>A _ {1,N}</var>\n<var>A _ {2,1}</var> <var>A _ {2,2}</var> <var>\\ldots</var> <var>A _ {2,N}</var>\n <var>\\vdots</var>  <var>\\ \\vdots</var>  <var>\\ddots</var>  <var>\\vdots</var>\n<var>A _ {N,1}</var> <var>A _ {N,2}</var> <var>\\ldots</var> <var>A _ {N,N}</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p><var>N</var> 行に出力せよ。\n<var>i</var> 行目 <var>(1\\leq i\\leq N)</var> にはコストが最小になるように操作を行ったときの <var>B _ {i,1},B _ {i,2},\\ldots,B _ {i,N}</var> をこの順に、空白を区切りとして出力せよ。</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>5\n0 2 1 0 4\n4 0 0 0 2\n3 1 0 3 0\n1 0 0 0 0\n0 0 2 0 5\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>3 2 1 2 4\n4 2 2 2 2\n3 1 2 3 3\n1 1 2 3 4\n1 1 2 3 5\n</pre>\n\n<p>与えられるマス目は以下のようになります。</p>\n<p><img src=\"https://img.atcoder.jp/abc347/0748d5e94455d9f4c627617596f61af6.png\" class=\"img-responsive center-block\" style=\"max-width: 100%\"></p>\n<p>図の右の状態になるように操作を行うことで、コストが <var>2 ^ 2\\times6+1 ^ 2\\times18+0 ^ 2\\times16=42</var> となります。</p>\n<p>コストが <var>41</var> 以下になることはないので、この状態に対応する <var>B _ {i,j}</var> を出力することで正解になります。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>3\n0 0 0\n0 0 0\n0 0 0\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>0 0 0\n0 0 0\n0 0 0\n</pre>\n\n<p>はじめからコストが <var>0</var> なので、操作を行わないことでコストが最小になります。</p>\n<p>操作が終了した後のマスの状態のうちコストが最小のものが複数ある場合どれを出力しても構わないため、</p>\n<pre>2 2 2\n2 2 2\n2 2 2\n</pre>\n\n<p>のように出力しても正解となります。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 3</h3><pre>10\n1 0 0 3 0 0 0 0 0 0\n1 0 0 4 0 1 0 5 0 0\n0 0 0 0 0 0 2 0 3 0\n0 0 2 0 0 0 4 0 0 3\n0 3 4 3 3 0 3 0 0 5\n4 1 3 4 4 0 2 1 0 0\n2 0 1 0 5 2 0 1 1 5\n0 0 0 5 0 0 3 2 4 0\n4 5 0 0 3 2 0 3 5 0\n4 0 0 5 0 0 0 3 0 5\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 3</h3><pre>1 2 3 3 3 2 3 4 4 4\n1 2 3 4 3 1 3 5 4 4\n2 2 2 3 3 2 2 3 3 3\n2 2 2 3 3 3 4 3 3 3\n3 3 4 3 3 3 3 2 3 5\n4 1 3 4 4 3 2 1 2 4\n2 2 1 4 5 2 2 1 1 5\n3 3 3 5 4 3 3 2 4 5\n4 5 4 4 3 2 3 3 5 5\n4 4 4 5 4 3 3 3 4 5\n</pre></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score: <var>600</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>There is an <var>N\\times N</var> grid where each cell contains an integer between <var>0</var> and <var>5</var>, inclusive.\nLet <var>(i,j)</var> denote the cell at the <var>i</var>-th row from the top and the <var>j</var>-th column from the left <var>(1\\leq i,j\\leq N)</var>. The integer written in cell <var>(i,j)</var> is <var>A _ {i,j}</var>.</p>\n<p>You can perform the following operation any number of times, possibly zero:</p>\n<ul>\n<li>Choose a cell <var>(i,j)</var> with <var>0</var> written in it and an integer <var>x</var> between <var>1</var> and <var>5</var>, inclusive. Change the number written in the chosen cell to <var>x</var>.</li>\n</ul>\n<p>After the operations, let <var>B _ {i,j}</var> be the integer written in cell <var>(i,j)</var>.\nThe <strong>cost</strong> of the grid is defined as the sum of the squares of the differences between the integers written in adjacent cells. In other words, the cost is represented by the following formula:</p>\n<p></p><center><var>\\displaystyle\\sum _ {i=1} ^ N\\sum _ {j=1} ^ {N-1}(B _ {i,j}-B _ {i,j+1})^2+\\sum _ {i=1} ^ {N-1}\\sum _ {j=1} ^ N(B _ {i,j}-B _ {i+1,j})^2</var></center><p></p>\n<p>Among all possible states of the grid after the operations, find the one with the minimum cost.</p>\n<p>If multiple grid states have the minimum cost, you may print any of them.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>1\\leq N\\leq20</var></li>\n<li><var>0\\leq A _ {i,j}\\leq 5\\ (1\\leq i\\leq N,1\\leq j\\leq N)</var></li>\n<li>All input values are integers.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>The input is given from Standard Input in the following format:</p>\n<pre><var>N</var>\n<var>A _ {1,1}</var> <var>A _ {1,2}</var> <var>\\ldots</var> <var>A _ {1,N}</var>\n<var>A _ {2,1}</var> <var>A _ {2,2}</var> <var>\\ldots</var> <var>A _ {2,N}</var>\n <var>\\vdots</var>  <var>\\ \\vdots</var>  <var>\\ddots</var>  <var>\\vdots</var>\n<var>A _ {N,1}</var> <var>A _ {N,2}</var> <var>\\ldots</var> <var>A _ {N,N}</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>Print <var>N</var> lines.\nThe <var>i</var>-th line <var>(1\\leq i\\leq N)</var> should contain <var>B _ {i,1},B _ {i,2},\\ldots,B _ {i,N}</var> in this order, with spaces in between, after performing operations to minimize the cost.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>5\n0 2 1 0 4\n4 0 0 0 2\n3 1 0 3 0\n1 0 0 0 0\n0 0 2 0 5\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>3 2 1 2 4\n4 2 2 2 2\n3 1 2 3 3\n1 1 2 3 4\n1 1 2 3 5\n</pre>\n\n<p>The given grid is as follows:</p>\n<p><img src=\"https://img.atcoder.jp/abc347/0748d5e94455d9f4c627617596f61af6.png\" class=\"img-responsive center-block\" style=\"max-width: 100%\"></p>\n<p>After performing operations to achieve the state shown on the right of the figure, the cost will be <var>2 ^ 2\\times6+1 ^ 2\\times18+0 ^ 2\\times16=42</var>.</p>\n<p>The cost cannot be <var>41</var> or less, so printing the corresponding <var>B _ {i,j}</var> for this state would be accepted.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>3\n0 0 0\n0 0 0\n0 0 0\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>0 0 0\n0 0 0\n0 0 0\n</pre>\n\n<p>The cost is already <var>0</var> from the beginning, so not performing any operations minimizes the cost.</p>\n<p>If multiple grid states have the minimum cost, you may print any of them, so the following output would also be accepted:</p>\n<pre>2 2 2\n2 2 2\n2 2 2\n</pre>\n\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 3</h3><pre>10\n1 0 0 3 0 0 0 0 0 0\n1 0 0 4 0 1 0 5 0 0\n0 0 0 0 0 0 2 0 3 0\n0 0 2 0 0 0 4 0 0 3\n0 3 4 3 3 0 3 0 0 5\n4 1 3 4 4 0 2 1 0 0\n2 0 1 0 5 2 0 1 1 5\n0 0 0 5 0 0 3 2 4 0\n4 5 0 0 3 2 0 3 5 0\n4 0 0 5 0 0 0 3 0 5\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 3</h3><pre>1 2 3 3 3 2 3 4 4 4\n1 2 3 4 3 1 3 5 4 4\n2 2 2 3 3 2 2 3 3 3\n2 2 2 3 3 3 4 3 3 3\n3 3 4 3 3 3 3 2 3 5\n4 1 3 4 4 3 2 1 2 4\n2 2 1 4 5 2 2 1 1 5\n3 3 3 5 4 3 3 2 4 5\n4 5 4 4 3 2 3 3 5 5\n4 4 4 5 4 3 3 3 4 5\n</pre></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/abc347/tasks/abc347_g"}