{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>400</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p><var>N = 2^{20}</var> 項からなる数列 <var>A = (A_0, A_1, \\dots, A_{N - 1})</var> があります。はじめ、全ての要素は <var>-1</var> です。</p>\n<p><var>Q</var> 個のクエリを順番に処理してください。<var>i \\, (1 \\leq i \\leq Q)</var> 個目のクエリは <var>t_i = 1</var> または <var>t_i = 2</var> を満たす整数 <var>t_i</var> および整数 <var>x_i</var> で表され、内容は以下の通りです。</p>\n<ul>\n<li><var>t_i = 1</var> のとき、以下の処理を順番に行う。<ol>\n<li>整数 <var>h</var> を <var>h = x_i</var> で定める。</li>\n<li><var>A_{h \\bmod N} \\neq -1</var> である間、<var>h</var> の値を <var>1</var> 増やすことを繰り返す。この問題の制約下でこの操作が有限回で終了することは証明できる。</li>\n<li><var>A_{h \\bmod N}</var> の値を <var>x_i</var> で書き換える。</li>\n</ol>\n</li>\n<li><var>t_i = 2</var> のとき、その時点での <var>A_{x_i \\bmod N}</var> の値を出力する。</li>\n</ul>\n<p>なお、整数 <var>a, b</var> に対し、<var>a</var> を <var>b</var> で割った余りを <var>a \\bmod b</var> と表します。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>1 \\leq Q \\leq 2 \\times 10^5</var></li>\n<li><var>t_i \\in \\{ 1, 2 \\} \\, (1 \\leq i \\leq Q)</var></li>\n<li><var>0 \\leq x_i \\leq 10^{18} \\, (1 \\leq i \\leq Q)</var></li>\n<li><var>t_i = 2</var> であるような <var>i \\, (1 \\leq i \\leq Q)</var> が <var>1</var> つ以上存在する。</li>\n<li>入力は全て整数である。</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>\n<pre><var>Q</var>\n<var>t_1</var> <var>x_1</var>\n<var>\\vdots</var>\n<var>t_{Q}</var> <var>x_{Q}</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p><var>t_i = 2</var> であるようなクエリに対し、それぞれ答えを <var>1</var> 行に出力せよ。そのようなクエリが <var>1</var> つ以上存在することは保証される。</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>4\n1 1048577\n1 1\n2 2097153\n2 3\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>1048577\n-1\n</pre>\n<p><var>x_1 \\bmod N = 1</var> であるので、<var>1</var> 番目のクエリによって <var>A_1 = 1048577</var> となります。</p>\n<p><var>2</var> 番目のクエリにおいて、はじめ <var>h = x_2</var> ですが、<var>A_{h \\bmod N} = A_{1} \\neq -1</var> であるので <var>h</var> の値を <var>1</var> 増やします。すると <var>A_{h \\bmod N} = A_{2} = -1</var> となるので、このクエリによって <var>A_2 = 1</var> となります。</p>\n<p><var>3</var> 番目のクエリにおいて、<var>A_{x_3 \\bmod N} = A_{1} = 1048577</var> を出力します。</p>\n<p><var>4</var> 番目のクエリにおいて、<var>A_{x_4 \\bmod N} = A_{3} = -1</var> を出力します。</p>\n<p>この問題において <var>N = 2^{20} = 1048576</var> は定数であり、入力では与えられないことに注意してください。</p></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>400</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>There is a sequence <var>A = (A_0, A_1, \\dots, A_{N - 1})</var> with <var>N = 2^{20}</var> terms. Initially, every term is <var>-1</var>.</p>\n<p>Process <var>Q</var> queries in order. The <var>i</var>-th query <var>(1 \\leq i \\leq Q)</var> is described by an integer <var>t_i</var> such that <var>t_i = 1</var> or <var>t_i = 2</var>, and another integer <var>x_i</var>, as follows.</p>\n<ul>\n<li>If <var>t_i = 1</var>, do the following in order.<ol>\n<li>Define an integer <var>h</var> as <var>h = x_i</var>.</li>\n<li>While <var>A_{h \\bmod N} \\neq -1</var>, keep adding <var>1</var> to <var>h</var>. We can prove that this process ends after finite iterations under the Constraints of this problem.</li>\n<li>Replace the value of <var>A_{h \\bmod N}</var> with <var>x_i</var>.</li>\n</ol>\n</li>\n<li>If <var>t_i = 2</var>, print the value of <var>A_{x_i \\bmod N}</var> at that time.</li>\n</ul>\n<p>Here, for integers <var>a</var> and <var>b</var>, <var>a \\bmod b</var> denotes the remainder when <var>a</var> is divided by <var>b</var>.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>1 \\leq Q \\leq 2 \\times 10^5</var></li>\n<li><var>t_i \\in \\{ 1, 2 \\} \\, (1 \\leq i \\leq Q)</var></li>\n<li><var>0 \\leq x_i \\leq 10^{18} \\, (1 \\leq i \\leq Q)</var></li>\n<li>There is at least one <var>i</var> <var>(1 \\leq i \\leq Q)</var> such that <var>t_i = 2</var>.</li>\n<li>All values in input are integers.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>Input is given from Standard Input in the following format:</p>\n<pre><var>Q</var>\n<var>t_1</var> <var>x_1</var>\n<var>\\vdots</var>\n<var>t_{Q}</var> <var>x_{Q}</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>For each query with <var>t_i = 2</var>, print the response in one line. It is guaranteed that there is at least one such query.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>4\n1 1048577\n1 1\n2 2097153\n2 3\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>1048577\n-1\n</pre>\n<p>We have <var>x_1 \\bmod N = 1</var>, so the first query sets <var>A_1 = 1048577</var>.</p>\n<p>In the second query, initially we have <var>h = x_2</var>, for which <var>A_{h \\bmod N} = A_{1} \\neq -1</var>, so we add <var>1</var> to <var>h</var>. Now we have <var>A_{h \\bmod N} = A_{2} = -1</var>, so this query sets <var>A_2 = 1</var>.</p>\n<p>In the third query, we print <var>A_{x_3 \\bmod N} = A_{1} = 1048577</var>.</p>\n<p>In the fourth query, we print <var>A_{x_4 \\bmod N} = A_{3} = -1</var>.</p>\n<p>Note that, in this problem, <var>N = 2^{20} = 1048576</var> is a constant and not given in input.</p></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/abc228/tasks/abc228_d"}