{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>1000</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p><code>0</code>, <code>1</code> からなる長さ <var>N</var> の文字列 <var>S</var> が与えられます．\n整数の組 <var>(i,j)</var> (<var>1 \\leq i &lt; j \\leq N</var>) であって，<var>S</var> の <var>i</var> 文字目が <code>1</code>, <var>j</var> 文字目が <code>0</code> であるようなものを<strong>転倒ペア</strong>と呼ぶことにします．</p>\n<p><var>S</var> 内に転倒ペアが存在する限り，以下の操作を行います．</p>\n<ul>\n<li>転倒ペア <var>(i,j)</var> をランダムに一つ選ぶ．選択はこれ以前の選択と独立で，かつ一様ランダムであるとする．\nそして，<var>S</var> の <var>i</var> 文字目と <var>j</var> 文字目を入れ替える．</li>\n</ul>\n<p>操作回数の期待値を <var>\\text{mod }{998244353}</var> で求めてください．</p>\n<details>\n<summary>期待値 <var>\\text{mod }{998244353}</var> の定義</summary>\n<p>求める期待値は必ず有理数になることが証明できます． また，この問題の制約のもとでは，その値を既約分数 <var>\\frac{P}{Q}</var> で表した時，<var>Q \\neq 0 \\pmod{998244353}</var> となることも証明できます． よって，<var>R \\times Q \\equiv P \\pmod{998244353}, 0 \\leq R &lt; 998244353</var> を満たす整数 <var>R</var> が一意に定まります． この <var>R</var> を答えてください．</p>\n</details>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>1 \\leq N \\leq 250000</var></li>\n<li><var>S</var> は <code>0</code>, <code>1</code> からなる長さ <var>N</var> の文字列</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる．</p>\n<pre><var>N</var>\n<var>S</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>答えを出力せよ．</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>2\n10\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>1\n</pre>\n<p>操作回数の期待値は <var>1</var> です．</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>3\n110\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>499122178\n</pre>\n<p>操作回数の期待値は <var>3/2</var> です．</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 3</h3><pre>1\n0\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 3</h3><pre>0\n</pre>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 4</h3><pre>10\n1011000010\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 4</h3><pre>133099253\n</pre>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 5</h3><pre>100\n0101110010001000111000111001001101001100000111110001010010001010101100011001011011101101100001100111\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 5</h3><pre>407907276\n</pre></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>1000</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>You are given a string <var>S</var> of length <var>N</var> consisting of <code>0</code> and <code>1</code>.\nWe define an <strong>inversion pair</strong> as a pair of integers <var>(i, j)</var> (<var>1 \\leq i &lt; j \\leq N</var>) such that the <var>i</var>-th character of <var>S</var> is <code>1</code> and the <var>j</var>-th character of <var>S</var> is <code>0</code>.</p>\n<p>As long as there is an inversion pair in <var>S</var>, perform the following operation:</p>\n<ul>\n<li>Randomly choose an inversion pair <var>(i, j)</var>. The choice is independent of previous choices and is uniformly random.\n  Then, swap the <var>i</var>-th and <var>j</var>-th characters of <var>S</var>.</li>\n</ul>\n<p>Find the expected number of operations, modulo <var>998244353</var>.</p>\n<details>\n<summary>What is the expected value modulo <var>998244353</var>?</summary>\n<p>It can be proved that the sought expected value is always rational. Moreover, under the constraints of this problem, it can be proved that if the expected value is expressed as an irreducible fraction <var>\\frac{P}{Q}</var>, then <var>Q \\neq 0 \\pmod{998244353}</var>. Thus, there exists a unique integer <var>R</var> such that <var>R \\times Q \\equiv P \\pmod{998244353}, 0 \\leq R &lt; 998244353</var>. Report this <var>R</var>.</p>\n</details>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>1 \\leq N \\leq 250000</var></li>\n<li><var>S</var> is a string of length <var>N</var> consisting of <code>0</code> and <code>1</code>.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>The input is given from Standard Input in the following format:</p>\n<pre><var>N</var>\n<var>S</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>Print the answer.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>2\n10\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>1\n</pre>\n<p>The expected number of operations is <var>1</var>.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>3\n110\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>499122178\n</pre>\n<p>The expected number of operations is <var>3/2</var>.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 3</h3><pre>1\n0\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 3</h3><pre>0\n</pre>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 4</h3><pre>10\n1011000010\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 4</h3><pre>133099253\n</pre>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 5</h3><pre>100\n0101110010001000111000111001001101001100000111110001010010001010101100011001011011101101100001100111\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 5</h3><pre>407907276\n</pre></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/awtf2024/tasks/awtf2024_b"}