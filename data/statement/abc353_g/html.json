{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>550</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p>AtCoder 王国には町 <var>1,</var> 町 <var>2,\\ldots,</var> 町 <var>N</var> の <var>N</var> 個の町があります。\n町 <var>i</var> から町 <var>j</var> まで移動するには通行料が <var>C\\times|i-j|</var> 円かかります。</p>\n<p>商人である高橋君は、これから開催される <var>M</var> 回の市場のうち <var>0</var> 回以上に参加しようと思っています。</p>\n<p><var>i</var> 回目 <var>(1\\leq i\\leq M)</var> の市場の情報は整数の組 <var>(T _ i,P _ i)</var> で表され、<var>i</var> 回目の市場が町 <var>T _ i</var> で行われ、高橋君が参加すると <var>P _ i</var> 円が得られることを意味します。</p>\n<p>すべての <var>1\\leq i\\lt M</var> について、<var>i</var> 回目の市場が終了してから <var>i+1</var> 回目の市場が開始します。\n高橋君が移動するのにかかる時間は無視できるものとします。</p>\n<p>高橋君は、はじめ <var>10 ^ {10 ^ {100}}</var> 円持っており、町 <var>1</var> にいます。\n参加する市場をうまく選び、うまく移動することによって高橋君が得られる儲けの最大値を求めてください。</p>\n<p>厳密には、<var>M</var> 回の市場が終わったあとの所持金を最大化するように高橋君が行動した場合の最終的な高橋君の所持金を <var>10 ^ {10 ^ {100}}+X</var> として、<var>X</var> を求めてください。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>1\\leq N\\leq2\\times10 ^ 5</var></li>\n<li><var>1\\leq C\\leq10 ^ 9</var></li>\n<li><var>1\\leq M\\leq2\\times10 ^ 5</var></li>\n<li><var>1\\leq T _ i\\leq N\\ (1\\leq i\\leq M)</var></li>\n<li><var>1\\leq P _ i\\leq10 ^ {13}\\ (1\\leq i\\leq M)</var></li>\n<li>入力はすべて整数</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>\n<pre><var>N</var> <var>C</var>\n<var>M</var>\n<var>T _ 1</var> <var>P _ 1</var>\n<var>T _ 2</var> <var>P _ 2</var>\n<var>\\vdots</var>\n<var>T _ M</var> <var>P _ M</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>答えを出力せよ。</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>6 3\n4\n5 30\n2 10\n4 25\n2 15\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>49\n</pre>\n\n<p>たとえば、高橋君が次のように行動することで、所持金を <var>49</var> 円増やすことができます。</p>\n<ul>\n<li>町 <var>5</var> に移動する。所持金が <var>10 ^ {10 ^ {100}}-12</var> 円になる。</li>\n<li><var>1</var> 回目の市場に参加する。所持金が <var>10 ^ {10 ^ {100}}+18</var> 円になる。</li>\n<li>町 <var>4</var> に移動する。所持金が <var>10 ^ {10 ^ {100}}+15</var> 円になる。</li>\n<li><var>3</var> 回目の市場に参加する。所持金が <var>10 ^ {10 ^ {100}}+40</var> 円になる。</li>\n<li>町 <var>2</var> に移動する。所持金が <var>10 ^ {10 ^ {100}}+34</var> 円になる。</li>\n<li><var>4</var> 回目の市場に参加する。所持金が <var>10 ^ {10 ^ {100}}+49</var> 円になる。</li>\n</ul>\n<p>所持金を <var>10 ^ {10 ^ {100}}+50</var> 円以上にすることはできないため、<code>49</code> を出力してください。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>6 1000000000\n4\n5 30\n2 10\n4 25\n2 15\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>0\n</pre>\n\n<p>通行料が高すぎるので、高橋君は町 <var>1</var> から動かないのが最適です。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 3</h3><pre>50 10\n15\n37 261\n28 404\n49 582\n19 573\n18 633\n3 332\n31 213\n30 377\n50 783\n17 798\n4 561\n41 871\n15 525\n16 444\n26 453\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 3</h3><pre>5000\n</pre>\n\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 4</h3><pre>50 1000000000\n15\n30 60541209756\n48 49238708511\n1 73787345006\n24 47221018887\n9 20218773368\n34 40025202486\n14 28286410866\n24 82115648680\n37 62913240066\n14 92020110916\n24 20965327730\n32 67598565422\n39 79828753874\n40 52778306283\n40 67894622518\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 4</h3><pre>606214471001\n</pre>\n\n<p>出力すべき値が <var>32\\operatorname{bit}</var> 整数の範囲に収まらない場合があることに注意してください。</p></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score: <var>550</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>The Kingdom of AtCoder has <var>N</var> towns: towns <var>1</var>, <var>2</var>, <var>\\ldots</var>, <var>N</var>.\nTo move from town <var>i</var> to town <var>j</var>, you must pay a toll of <var>C \\times |i-j|</var> yen.</p>\n<p>Takahashi, a merchant, is considering participating in zero or more of <var>M</var> upcoming markets.</p>\n<p>The <var>i</var>-th market <var>(1 \\leq i \\leq M)</var> is described by the pair of integers <var>(T_i, P_i)</var>, where the market is held in town <var>T_i</var> and he will earn <var>P_i</var> yen if he participates.</p>\n<p>For all <var>1 \\leq i &lt; M</var>, the <var>i</var>-th market ends before the <var>(i+1)</var>-th market begins.\nThe time it takes for him to move is negligible.</p>\n<p>He starts with <var>10^{10^{100}}</var> yen and is initially in town <var>1</var>.\nDetermine the maximum profit he can make by optimally choosing which markets to participate in and how to move.</p>\n<p>Formally, let <var>10^{10^{100}} + X</var> be his final amount of money if he maximizes the amount of money he has after the <var>M</var> markets. Find <var>X</var>.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>1 \\leq N \\leq 2 \\times 10^5</var></li>\n<li><var>1 \\leq C \\leq 10^9</var></li>\n<li><var>1 \\leq M \\leq 2 \\times 10^5</var></li>\n<li><var>1 \\leq T_i \\leq N</var> <var>(1 \\leq i \\leq M)</var></li>\n<li><var>1 \\leq P_i \\leq 10^{13}</var> <var>(1 \\leq i \\leq M)</var></li>\n<li>All input values are integers.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>The input is given from Standard Input in the following format:</p>\n<pre><var>N</var> <var>C</var>\n<var>M</var>\n<var>T_1</var> <var>P_1</var>\n<var>T_2</var> <var>P_2</var>\n<var>\\vdots</var>\n<var>T_M</var> <var>P_M</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>Print the answer.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>6 3\n4\n5 30\n2 10\n4 25\n2 15\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>49\n</pre>\n\n<p>For example, Takahashi can increase his money by <var>49</var> yen by acting as follows:</p>\n<ul>\n<li>Move to town <var>5</var>. His money becomes <var>10^{10^{100}} - 12</var> yen.</li>\n<li>Participate in the first market. His money becomes <var>10^{10^{100}} + 18</var> yen.</li>\n<li>Move to town <var>4</var>. His money becomes <var>10^{10^{100}} + 15</var> yen.</li>\n<li>Participate in the third market. His money becomes <var>10^{10^{100}} + 40</var> yen.</li>\n<li>Move to town <var>2</var>. His money becomes <var>10^{10^{100}} + 34</var> yen.</li>\n<li>Participate in the fourth market. His money becomes <var>10^{10^{100}} + 49</var> yen.</li>\n</ul>\n<p>It is impossible to increase his money to <var>10^{10^{100}} + 50</var> yen or more, so print <code>49</code>.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>6 1000000000\n4\n5 30\n2 10\n4 25\n2 15\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>0\n</pre>\n\n<p>The toll fee is so high that it is optimal for him not to move from town <var>1</var>.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 3</h3><pre>50 10\n15\n37 261\n28 404\n49 582\n19 573\n18 633\n3 332\n31 213\n30 377\n50 783\n17 798\n4 561\n41 871\n15 525\n16 444\n26 453\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 3</h3><pre>5000\n</pre>\n\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 4</h3><pre>50 1000000000\n15\n30 60541209756\n48 49238708511\n1 73787345006\n24 47221018887\n9 20218773368\n34 40025202486\n14 28286410866\n24 82115648680\n37 62913240066\n14 92020110916\n24 20965327730\n32 67598565422\n39 79828753874\n40 52778306283\n40 67894622518\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 4</h3><pre>606214471001\n</pre>\n\n<p>Note that the output value may exceed the range of a <var>32</var>-bit integer.</p></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/abc353/tasks/abc353_g"}