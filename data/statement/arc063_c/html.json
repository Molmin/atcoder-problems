{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>800</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p><var>N</var> 頂点の木があり、頂点には <var>1, 2, ..., N</var> と番号が振られています。<var>i</var> (<var>1 ≦ i ≦ N - 1</var>) 番目の辺は頂点 <var>A_i</var> と頂点 <var>B_i</var> を結んでいます。</p>\n<p>高橋君は木の <var>K</var> 個の頂点に整数を書き込みました。具体的には、各 <var>1 ≦ j ≦ K</var> について、頂点 <var>V_j</var> に整数 <var>P_j</var> を書き込みました。その後、高橋君は居眠りを始めました。</p>\n<p>木を見つけた青木君は、残りのすべての頂点に整数を書き込み、高橋君を驚かせようとしています。高橋君を驚かせるためには、木が次の条件を満たさなければなりません。</p>\n<ul>\n<li>条件: 辺で直接結ばれた <var>2</var> つの頂点に書かれている整数の差がちょうど <var>1</var> である。</li>\n</ul>\n<p>残りのすべての頂点に書き込む整数を工夫することで、木が条件を満たすようにできるか判定してください。もし可能な場合は、どのように整数を書き込めばよいかを具体的にひとつ求めて下さい。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>1 ≦ N ≦ 10^5</var></li>\n<li><var>1 ≦ K ≦ N</var></li>\n<li><var>1 ≦ A_i, B_i ≦ N</var> (<var>1 ≦ i ≦ N - 1</var>)</li>\n<li><var>1 ≦ V_j ≦ N</var> (<var>1 ≦ j ≦ K</var>) (21:18, 制約の誤記を修正)</li>\n<li><var>0 ≦ P_j ≦ 10^6</var> (<var>1 ≦ j ≦ K</var>)</li>\n<li>与えられるグラフは木になることが保証される</li>\n<li><var>V_j</var> はすべて相異なる</li>\n</ul>\n</section>\n</div>\n\n<hr>\n\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>\n<pre><var>N</var>\n<var>A_1</var> <var>B_1</var>\n<var>A_2</var> <var>B_2</var>\n<var>:</var>\n<var>A_{N-1}</var> <var>B_{N-1}</var>\n<var>K</var>\n<var>V_1</var> <var>P_1</var>\n<var>V_2</var> <var>P_2</var>\n<var>:</var>\n<var>V_K</var> <var>P_K</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>残りのすべての頂点に書き込む整数を工夫することで木が条件を満たすようにできるならば <code>Yes</code> を、できないならば <code>No</code> を出力せよ。</p>\n<p>条件を満たせる場合、追加で <var>N</var> 行出力せよ。このうちの <var>v</var> (<var>1 ≦ v ≦ N</var>) 行目には、頂点 <var>v</var> に書かれる整数を出力せよ。条件を満たすような整数の書き込み方が複数ある場合、そのうちいずれかひとつを出力すればよい。</p>\n</section>\n</div>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>5\n1 2\n3 1\n4 3\n3 5\n2\n2 6\n5 7\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>Yes\n5\n6\n6\n5\n7\n</pre>\n\n<p>はじめ、木は以下の図のような状態である。頂点のそばに書かれた数が頂点番号を、頂点の中に書かれた青い数が元から書き込まれていた整数を表す。</p>\n<div style=\"text-align: center;\">\n<img alt=\"6da26f89839711a520acdf5c3e1cc309.png\" src=\"https://atcoder.jp/img/arc063/6da26f89839711a520acdf5c3e1cc309.png\">\n</div>\n\n<p>青木君はたとえば次のように残りの頂点に整数を書き込むことで木が条件を満たすようにできる。これは出力例 <var>1</var> に対応している。</p>\n<div style=\"text-align: center;\">\n<img alt=\"1858d5af5a2c0e51aca39a39d765debb.png\" src=\"https://atcoder.jp/img/arc063/1858d5af5a2c0e51aca39a39d765debb.png\">\n</div>\n\n<p>木が条件を満たしていれば、これとは異なった出力でも AC となることに注意せよ。たとえば、入力例 <var>1</var> に対しては</p>\n<pre>Yes\n7\n6\n8\n7\n7\n</pre>\n\n<p>という出力でも正答となる。</p>\n</section>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>5\n1 2\n3 1\n4 3\n3 5\n3\n2 6\n4 3\n5 7\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>No\n</pre>\n\n</section>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>入力例 3</h3><pre>4\n1 2\n2 3\n3 4\n1\n1 0\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 3</h3><pre>Yes\n0\n-1\n-2\n-3\n</pre>\n\n<p>新たに書き込む整数は負になったり <var>10^6</var> を超えたりしても構わない。</p></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>800</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>We have a tree with <var>N</var> vertices. The vertices are numbered <var>1, 2, ..., N</var>. The <var>i</var>-th (<var>1 ≦ i ≦ N - 1</var>) edge connects the two vertices <var>A_i</var> and <var>B_i</var>.</p>\n<p>Takahashi wrote integers into <var>K</var> of the vertices. Specifically, for each <var>1 ≦ j ≦ K</var>, he wrote the integer <var>P_j</var> into vertex <var>V_j</var>. The remaining vertices are left empty. After that, he got tired and fell asleep.</p>\n<p>Then, Aoki appeared. He is trying to surprise Takahashi by writing integers into all empty vertices so that the following condition is satisfied:</p>\n<ul>\n<li>Condition: For any two vertices directly connected by an edge, the integers written into these vertices differ by exactly <var>1</var>.</li>\n</ul>\n<p>Determine if it is possible to write integers into all empty vertices so that the condition is satisfied. If the answer is positive, find one specific way to satisfy the condition.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>1 ≦ N ≦ 10^5</var></li>\n<li><var>1 ≦ K ≦ N</var></li>\n<li><var>1 ≦ A_i, B_i ≦ N</var> (<var>1 ≦ i ≦ N - 1</var>)</li>\n<li><var>1 ≦ V_j ≦ N</var> (<var>1 ≦ j ≦ K</var>) (21:18, a mistake in this constraint was corrected)</li>\n<li><var>0 ≦ P_j ≦ 10^5</var> (<var>1 ≦ j ≦ K</var>)</li>\n<li>The given graph is a tree.</li>\n<li>All <var>v_j</var> are distinct.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>The input is given from Standard Input in the following format:</p>\n<pre><var>N</var>\n<var>A_1</var> <var>B_1</var>\n<var>A_2</var> <var>B_2</var>\n<var>:</var>\n<var>A_{N-1}</var> <var>B_{N-1}</var>\n<var>K</var>\n<var>V_1</var> <var>P_1</var>\n<var>V_2</var> <var>P_2</var>\n<var>:</var>\n<var>V_K</var> <var>P_K</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>If it is possible to write integers into all empty vertices so that the condition is satisfied, print <code>Yes</code>. Otherwise, print <code>No</code>.</p>\n<p>If it is possible to satisfy the condition, print <var>N</var> lines in addition. The <var>v</var>-th (<var>1 ≦ v ≦ N</var>) of these <var>N</var> lines should contain the integer that should be written into vertex <var>v</var>. If there are multiple ways to satisfy the condition, any of those is accepted.</p>\n</section>\n</div>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>5\n1 2\n3 1\n4 3\n3 5\n2\n2 6\n5 7\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>Yes\n5\n6\n6\n5\n7\n</pre>\n\n<p>The figure below shows the tree when Takahashi fell asleep. For each vertex, the integer written beside it represents the index of the vertex, and the integer written into the vertex is the integer written by Takahashi.</p>\n<div style=\"text-align: center;\">\n<img alt=\"6da26f89839711a520acdf5c3e1cc309.png\" src=\"https://atcoder.jp/img/arc063/6da26f89839711a520acdf5c3e1cc309.png\">\n</div>\n\n<p>Aoki can, for example, satisfy the condition by writing integers into the remaining vertices as follows:</p>\n<div style=\"text-align: center;\">\n<img alt=\"1858d5af5a2c0e51aca39a39d765debb.png\" src=\"https://atcoder.jp/img/arc063/1858d5af5a2c0e51aca39a39d765debb.png\">\n</div>\n\n<p>This corresponds to Sample Output 1. Note that other outputs that satisfy the condition will also be accepted, such as:</p>\n<pre>Yes\n7\n6\n8\n7\n7\n</pre>\n\n</section>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>5\n1 2\n3 1\n4 3\n3 5\n3\n2 6\n4 3\n5 7\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>No\n</pre>\n\n</section>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>Sample Input 3</h3><pre>4\n1 2\n2 3\n3 4\n1\n1 0\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 3</h3><pre>Yes\n0\n-1\n-2\n-3\n</pre>\n\n<p>The integers written by Aoki may be negative or exceed <var>10^6</var>.</p></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/arc063/tasks/arc063_c"}