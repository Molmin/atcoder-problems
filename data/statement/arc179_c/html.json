{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>500</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p>この問題は<strong>インタラクティブな問題</strong>（あなたの作成したプログラムとジャッジシステムが入出力を介して対話を行う形式の問題）です.</p>\n<p>正整数 <var>N</var> が与えられます.</p>\n<p>ジャッジシステムは正整数 <var>R</var> および <var>N</var> 個の整数 <var>A_1,A_2,\\dots ,A_N</var> を隠し持っています. ここで <var>|A_i|\\le R,\\ \\left|\\displaystyle\\sum_{i=1}^{N}A_i\\right| \\le R</var> を満たすことが保証されます.</p>\n<p>絶対値が <var>R</var> 以下の整数しか書き込むことができない黒板があり, はじめは何も書き込まれていません.</p>\n<p>ジャッジシステムは, 黒板に <var>A_1,A_2, \\dots ,A_N</var> の値を <strong>この順で</strong> 書き込みました. あなたは, 黒板にただ <var>1</var> つの値 <var>\\displaystyle\\sum_{i=1}^{N}A_i</var> が書き込まれている状態にする必要があります.</p>\n<p>あなたは <var>R</var> および <var>A_i</var> の値を直接知ることはできませんが, その代わりにジャッジシステムに対して次のやり取りを <var>25000</var> 回まで行うことができます.</p>\n<p>正整数 <var>i</var> について, <var>i</var> 番目に黒板に書き込まれた整数を <var>X_i</var> とします. 特に, <var>i=1,2,\\dots ,N</var> について <var>X_i=A_i</var> です.</p>\n<p><var>1</var> 回のやり取りでは, 相異なる正整数 <var>i,j</var> を指定し, 次のいずれかを選んで行います.</p>\n<ul>\n<li>足し算をしてもらう. ジャッジシステムは黒板から <var>X_i,X_j</var> を消し, 新たに <var>X_i+X_j</var> の値を黒板に書き込む.<ul>\n<li><var>|X_i+X_j|\\le R</var> を満たしていなくてはならない.</li>\n</ul>\n</li>\n<li>大小比較をしてもらう. ジャッジシステムは <var>X_i\\lt X_j</var> の真偽を答える.</li>\n</ul>\n<p>ただし, 各やり取りを始める時点で <var>i,j</var> 番目に黒板に書き込まれた整数がすでに黒板から消されていてはなりません.</p>\n<p>適切にやり取りを行って, 全てのやり取りを終えた後に黒板にただ <var>1</var> つの値 <var>\\displaystyle\\sum_{i=1}^{N}A_i</var> が書き込まれている状態にしてください.</p>\n<p><var>R</var> および <var>A_i</var> はプログラムとジャッジシステムの対話の開始前に決定されます.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>2\\leq N\\leq 1000</var></li>\n<li><var>1\\leq R\\leq 10^9</var></li>\n<li><var>|A_i|\\leq R</var></li>\n<li><var>\\left|\\displaystyle\\sum_{i=1}^{N}A_i\\right| \\le R</var></li>\n<li><var>N,R,A_i</var> は整数.</li>\n</ul>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>入出力</h3><p>この問題はインタラクティブな問題（あなたの作成したプログラムとジャッジシステムが入出力を介して対話を行う形式の問題）です.</p>\n<p>最初に, <var>N</var> を標準入力から受け取ってください.</p>\n<pre><var>N</var>\n</pre>\n<p>次に, 黒板にただ <var>1</var> つの値 <var>\\displaystyle\\sum_{i=1}^{N}A_i</var> が書かれている状態になるまで, やり取りを繰り返してください.</p>\n<p>足し算をしてもらうときは, 以下の形式で標準出力に出力してください. 末尾に改行を入れてください. ここで <var>i,j</var> は相異なる正整数です.</p>\n<pre>+ <var>i</var> <var>j</var>\n</pre>\n<p>これに対するジャッジシステムの応答は, 次の形式で標準入力から与えられます.</p>\n<pre><var>P</var>\n</pre>\n<p>ここで <var>P</var> は整数で, </p>\n<ul>\n<li><var>P\\geq N+1</var> の場合は, <var>X_i+X_j</var> の値が黒板に書き込まれ, それが <var>P</var> 番目に書き込まれたことを表します.</li>\n<li><var>P=-1</var> の場合は,  <var>i,j</var> が制約を満たしていないか, やり取りの回数が <var>25000</var> 回を超えたことを表します.</li>\n</ul>\n<p>大小比較をしてもらうときは, 以下の形式で標準出力に出力してください. 末尾に改行を入れてください. ここで <var>i,j</var> は相異なる正整数です.</p>\n<pre>? <var>i</var> <var>j</var>\n</pre>\n<p>これに対するジャッジシステムの応答は, 次の形式で標準入力から与えられます.</p>\n<pre><var>Q</var>\n</pre>\n<p>ここで <var>Q</var> は整数で, </p>\n<ul>\n<li><var>Q=1</var> の場合は, <var>X_i&lt;X_j</var> が真であることを表します.</li>\n<li><var>Q=0</var> の場合は, <var>X_i&lt;X_j</var> が偽であることを表します.</li>\n<li><var>Q=-1</var> の場合は,  <var>i,j</var> が制約を満たしていないか, やり取りの回数が <var>25000</var> 回を超えたことを表します.</li>\n</ul>\n<p>足し算をしてもらうやり取りおよび大小比較をしてもらうやり取りのいずれについても, ジャッジシステムの応答が <var>-1</var> であった場合は, プログラムはすでに不正解とみなされています. この場合, ただちにプログラムを終了してください.</p>\n<p>黒板にただ <var>1</var> つの値 <var>\\displaystyle\\sum_{i=1}^{N}A_i</var> が書かれている状態になったら, 以下の形式でそのことをジャッジシステムに報告してください. ただし, これはジャッジシステムとのやり取りの回数に計上されません. その後, ただちにプログラムを終了してください.</p>\n<pre>!\n</pre>\n<p>上記のいずれの形式にも当てはまらない出力を行った場合は, <code>-1</code> が標準入力から与えられます.</p>\n<pre>-1\n</pre>\n<p>このときも, プログラムはすでに不正解とみなされています. ただちにプログラムを終了してください.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>注意点</h3><ul>\n<li><b><span style=\"color:red\">出力を行うたびに, 末尾に改行を入れて標準出力を flush してください. そうしなかった場合, ジャッジ結果が <span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"\" data-original-title=\"実行時間制限超過\">TLE</span> となる可能性があります.</span></b></li>\n<li>解答を出力したら（または <code>-1</code> を受け取ったら）ただちにプログラムを終了してください. そうしない場合, ジャッジ結果は不定です.</li>\n<li>余計な改行は不正なフォーマットの出力とみなされることに注意してください.</li>\n</ul>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>入出力例</h3><p><var>N=3,R=10,A_1=-1,A_2=10,A_3=1</var> のときの対話の一例を示します.</p>\n<table class=\"table table-bordered\">\n<thead>\n<tr>\n<th>入力</th>\n<th>出力</th>\n<th>説明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>3</code></td>\n<td></td>\n<td>まず整数 <var>N</var> が与えられます。</td>\n</tr>\n<tr>\n<td></td>\n<td><code>? 1 2</code></td>\n<td>大小比較をしてもらいます.</td>\n</tr>\n<tr>\n<td><code>1</code></td>\n<td></td>\n<td><var>X_1\\lt X_2\\ (-1\\lt 10)</var> なのでジャッジシステムは <var>1</var> を返します. </td>\n</tr>\n<tr>\n<td></td>\n<td><code>+ 1 3</code></td>\n<td>足し算をしてもらいます.</td>\n</tr>\n<tr>\n<td><code>4</code></td>\n<td></td>\n<td>ジャッジシステムは <var>X_1=-1,X_3=1</var> を黒板から消し, <var>X_1+X_3=0</var> の値を黒板に書き込みました. <var>4</var> 番目の書き込みでした.</td>\n</tr>\n<tr>\n<td></td>\n<td><code>+ 2 4</code></td>\n<td>足し算をしてもらいます.</td>\n</tr>\n<tr>\n<td><code>5</code></td>\n<td></td>\n<td>ジャッジシステムは <var>X_2=10,X_4=0</var> を黒板から消し, <var>X_2+X_4=10</var> の値を黒板に書き込みました. <var>5</var> 番目の書き込みでした.</td>\n</tr>\n<tr>\n<td></td>\n<td><code>!</code></td>\n<td>黒板にはただ <var>1</var> つの値 <var>\\displaystyle\\sum_{i=1}^{N}A_i</var> が書き込まれている状態になったので, そのことをジャッジシステムに報告します.</td>\n</tr>\n</tbody>\n</table></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>500</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>This is an <strong>interactive problem</strong> (where your program interacts with the judge via input and output).</p>\n<p>You are given a positive integer <var>N</var>.</p>\n<p>The judge has a hidden positive integer <var>R</var> and <var>N</var> integers <var>A_1, A_2, \\dots, A_N</var>. It is guaranteed that <var>|A_i|\\le R</var> and <var>\\left|\\displaystyle\\sum_{i=1}^{N}A_i\\right| \\le R</var>.</p>\n<p>There is a blackboard on which you can write integers with absolute values not exceeding <var>R</var>. Initially, the blackboard is empty.</p>\n<p>The judge has written the values <var>A_1, A_2, \\dots, A_N</var> on the blackboard <strong>in this order</strong>. Your task is to make the blackboard contain only one value <var>\\displaystyle\\sum_{i=1}^{N}A_i</var>.</p>\n<p>You cannot learn the values of <var>R</var> and <var>A_i</var> directly, but you can interact with the judge up to <var>25000</var> times.</p>\n<p>For a positive integer <var>i</var>, let <var>X_i</var> be the <var>i</var>-th integer written on the blackboard. Specifically, <var>X_i = A_i</var> for <var>i=1,2,\\dots,N</var>.</p>\n<p>In one interaction, you can specify two distinct positive integers <var>i</var> and <var>j</var> and choose one of the following actions:</p>\n<ul>\n<li>Perform addition. The judge will erase <var>X_i</var> and <var>X_j</var> from the blackboard and write <var>X_i + X_j</var> on the blackboard.<ul>\n<li><var>|X_i + X_j| \\leq R</var> must hold.</li>\n</ul>\n</li>\n<li>Perform comparison. The judge will tell you whether <var>X_i &lt; X_j</var> is true or false.</li>\n</ul>\n<p>Here, at the beginning of each interaction, the <var>i</var>-th and <var>j</var>-th integers written on the blackboard must not have been erased.</p>\n<p>Perform the interactions appropriately so that after all interactions, the blackboard contains only one value <var>\\displaystyle\\sum_{i=1}^{N}A_i</var>.</p>\n<p>The values of <var>R</var> and <var>A_i</var> are determined before the start of the conversation between your program and the judge.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>2 \\leq N \\leq 1000</var></li>\n<li><var>1 \\leq R \\leq 10^9</var></li>\n<li><var>|A_i| \\leq R</var></li>\n<li><var>\\left|\\displaystyle\\sum_{i=1}^{N}A_i\\right| \\le R</var></li>\n<li><var>N</var>, <var>R</var>, and <var>A_i</var> are integers.</li>\n</ul>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Input and Output</h3><p>This is an <strong>interactive problem</strong> (where your program interacts with the judge via input and output).</p>\n<p>First, read <var>N</var> from Standard Input.</p>\n<pre><var>N</var>\n</pre>\n<p>Next, repeat the interactions until the blackboard contains only one value <var>\\displaystyle\\sum_{i=1}^{N}A_i</var>.</p>\n<p>When performing addition, make an output in the following format to Standard Output. Append a newline at the end. Here, <var>i</var> and <var>j</var> are distinct positive integers.</p>\n<pre>+ <var>i</var> <var>j</var>\n</pre>\n<p>The response from the judge will be given from Standard Input in the following format:</p>\n<pre><var>P</var>\n</pre>\n<p>Here, <var>P</var> is an integer:</p>\n<ul>\n<li>If <var>P \\geq N + 1</var>, it means that the value <var>X_i + X_j</var> has been written on the blackboard, and it is the <var>P</var>-th integer written.</li>\n<li>If <var>P = -1</var>, it means that <var>i</var> and <var>j</var> do not satisfy the constraints, or the number of interactions has exceeded <var>25000</var>.</li>\n</ul>\n<p>When performing comparison, make an output in the following format to Standard Output. Append a newline at the end. Here, <var>i</var> and <var>j</var> are distinct positive integers.</p>\n<pre>? <var>i</var> <var>j</var>\n</pre>\n<p>The response from the judge will be given from Standard Input in the following format:</p>\n<pre><var>Q</var>\n</pre>\n<p>Here, <var>Q</var> is an integer:</p>\n<ul>\n<li>If <var>Q = 1</var>, it means that <var>X_i &lt; X_j</var> is true.</li>\n<li>If <var>Q = 0</var>, it means that <var>X_i &lt; X_j</var> is false.</li>\n<li>If <var>Q = -1</var>, it means that <var>i</var> and <var>j</var> do not satisfy the constraints, or the number of interactions has exceeded <var>25000</var>.</li>\n</ul>\n<p>For both types of interactions, if the judge's response is <var>-1</var>, your program is already considered incorrect. In this case, terminate your program immediately.</p>\n<p>When the blackboard contains only one value <var>\\displaystyle\\sum_{i=1}^{N}A_i</var>, report this to the judge in the following format. This does not count towards the number of interactions. Then, terminate your program immediately.</p>\n<pre>!\n</pre>\n<p>If you make an output in a format that does not match any of the above, <code>-1</code> will be given from Standard Input.</p>\n<pre>-1\n</pre>\n<p>In this case, your program is already considered incorrect. Terminate your program immediately.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Notes</h3><ul>\n<li><b><span style=\"color:red\">For each output, append a newline at the end and flush Standard Output. Otherwise, the verdict may be <span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"\" data-original-title=\"Time Limit Exceeded\">TLE</span>.</span></b></li>\n<li>Terminate your program immediately after outputting the result (or receiving <code>-1</code>). Otherwise, the verdict will be indeterminate.</li>\n<li>Extra newlines will be considered as malformed output.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input and Output</h3><p>Here is a possible conversation with <var>N=3, R=10, A_1=-1, A_2=10, A_3=1</var>.</p>\n<table class=\"table table-bordered\">\n<thead>\n<tr>\n<th>Input</th>\n<th>Output</th>\n<th>Explanation</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>3</code></td>\n<td></td>\n<td>First, the integer <var>N</var> is given.</td>\n</tr>\n<tr>\n<td></td>\n<td><code>? 1 2</code></td>\n<td>Perform a comparison.</td>\n</tr>\n<tr>\n<td><code>1</code></td>\n<td></td>\n<td>The judge returns <var>1</var> because <var>X_1\\lt X_2\\ (-1\\lt 10)</var>.</td>\n</tr>\n<tr>\n<td></td>\n<td><code>+ 1 3</code></td>\n<td>Perform an addition.</td>\n</tr>\n<tr>\n<td><code>4</code></td>\n<td></td>\n<td>The judge erases <var>X_1 = -1</var> and <var>X_3 = 1</var> from the blackboard and writes <var>X_1 + X_3 = 0</var>. This is the fourth integer written.</td>\n</tr>\n<tr>\n<td></td>\n<td><code>+ 2 4</code></td>\n<td>Perform an addition.</td>\n</tr>\n<tr>\n<td><code>5</code></td>\n<td></td>\n<td>The judge erases <var>X_2 = 10</var> and <var>X_4 = 0</var> from the blackboard and writes <var>X_2 + X_4 = 10</var>. This is the fifth integer written.</td>\n</tr>\n<tr>\n<td></td>\n<td><code>!</code></td>\n<td>The blackboard contains only one value <var>\\displaystyle\\sum_{i=1}^{N}A_i</var>, so report this to the judge.</td>\n</tr>\n</tbody>\n</table></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/arc179/tasks/arc179_c"}