{"html":{"ja":"<span class=\"lang-ja\">\n            <div class=\"part\">\n                <section>\n                    <p><img src=\"https://img.atcoder.jp/ahc018/a8a5bc5edd5e6d6301e8f4bd11f3c531.gif\" width=\"400\"></p>\n                    <h3>問題文</h3>\n                    <p>\n                        <var>N</var> 行 <var>N</var> 列のグリッドで表される土地があります。<br>\n                        グリッドのうち <var>W</var> 箇所に<b>水源</b>があり、 <var>K</var> 箇所に<b>家</b>があります。<br>\n                        土地の上から <var>i</var> 行目（ <var> 0 \\leq i \\lt N </var> ）、左から <var>j</var> 列目（ <var> 0 \\leq j \\lt N </var> ）のセルを <var>(i, j)</var> と表すことにします。<br>\n                        各セル <var>(i, j)</var> の<b>岩盤</b>には、<var>10</var> 以上 <var>5000</var> 以下の整数で表される <b>頑丈さ</b> <var>S_{i,j}</var> が予め設定されていますが、これらの値は入力では与えられません。<br>\n                    </p>\n\n                    <p>\n                        <b>水源</b>が存在するセルの<b>岩盤</b>を破壊すると、そのセルに水が流れます。<br>\n                        また、水が流れているセルの上下左右に隣接する<b>岩盤</b>が破壊されたセルにも水が流れます。<br>\n                        土地の管理者であるXさんは、いくつかの<b>岩盤</b>を破壊して、<b>家</b>が存在する全てのセルに水が流れるようにしたいです。<br>\n                        <b>家</b>が存在するセルに水を流すには、そのセルの<b>岩盤</b>も破壊する必要がある点に注意してください。<br>\n                    </p>\n\n                    <p>\n                        <b>岩盤</b>を破壊するためには、Xさんは以下の<b>掘削</b>を繰り返し行います。<br>\n                        </p><ul>\n                            <li>\n                                まだ<b>岩盤</b>が破壊されていないセル <var>(i, j)</var> を一つと、<b>パワー</b>を表す <var>5000</var> 以下の正の整数 <var>P</var> を一つ選びます。\n                            </li>\n                            <li>\n                                Xさんの<b>体力</b>を <var>C+P</var> （<var>C</var> は入力で与えられる正の整数）消費して、セルの<b>岩盤</b>の<b>頑丈さ</b> <var>S_{i,j}</var> を <var>P</var> 減らします。\n                            </li>\n                            <li>\n                                この操作で <var>S_{i,j} \\leq 0</var> となった場合、セル <var>(i, j)</var> の<b>岩盤</b>が破壊されます。\n                            </li>\n                        </ul>\n                    <p></p>\n\n                    <p>\n                        なるべくXさんの<b>体力</b>を消費しないように工夫しながら、<b>家</b>が存在する全てのセルに水が流れるようにしてください。\n                    </p>\n                </section>\n            </div>\n            <hr>\n            <div class=\"part\">\n                <section>\n                    <h3>得点・順位付け</h3>\n                    <p>\n                        相対評価システムを採用します。<br>\n                        各テストケース毎に、<var>\\mathrm{round} \\lparen 10^9 \\times \\frac{全参加者中の最小消費体力}{自身の消費体力} \\rparen </var>の相対評価スコアが得られ、その和が提出の得点となります。\n                    </p>\n                    <p>\n                        最終順位はコンテスト終了後に実施されるより多くの入力に対するシステムテストにおける得点で決定されます。暫定テスト・システムテストのどちらにおいても、一部のテストケースで不正な出力や制限時間超過をした場合、そのテストケースに関する相対評価スコアは0点となり、そのテストケースにおいては「全参加者中の最小消費体力」の計算対象から除外されます。<br>\n                    </p>\n                    <p>\n                       また、システムテストは <font color=\"red\"><strong><span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"\" data-original-title=\"コンパイルエラー\">CE</span> 以外の結果を得た一番最後の提出</strong></font>に対してのみ行われるため、最終的に提出する解答を間違えないよう注意してください。\n                    </p>\n                    <h4>テストケース数</h4>\n                    <ul>\n                        <li>\n                            暫定テスト: 50個\n                        </li>\n                        <li>\n                            システムテスト: 3000個\n                            <ul>\n                                <li>システムテストでは、<var>C</var> は <var>\\{ 1,2,4,8,16,32,64,128 \\}</var> のそれぞれの値について、375個ずつのテストケースが存在します。</li>\n                                <li>コンテスト終了後に <a href=\"https://img.atcoder.jp/ahc018/seeds.txt\">seeds.txt</a> (sha256=<code>3bbc58026730d18fcb0e03ead929ab2afb6f9f0c5eb7f0c10ac44df4e6b84a3f</code>) を公開します。</li>\n                            </ul>\n                        </li>\n                    </ul>\n                    <h4>相対評価システムについて</h4>\n                    <p>\n                        暫定テスト・システムテストともに、<span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"\" data-original-title=\"コンパイルエラー\">CE</span>以外の結果を得た一番最後の提出のみが順位表に反映されます。<br>\n                        相対評価スコアの計算に用いられる各テストケース毎の「全参加者中の最小消費体力」の算出には、各参加者の順位表に反映されている提出のみが用いられます。<br>\n                        順位表に表示されるスコアは相対評価スコアであり、新規提出があるたびに相対評価スコアが再計算されます。 一方、提出一覧から確認できる各提出のスコアは、各テストケース毎の消費体力をそのまま足し合わせたものであり、相対評価スコアは表示されません。 最新以外の提出の、現在の順位表における相対評価スコアを知るためには、再提出が必要となります。<br>\n                        不正な出力や制限時間超過をした場合、提出一覧から確認できるスコアは0となりますが、順位表には正解したテストケースに対する相対評価スコアの和が表示されます。<br>\n                    </p>\n                    <h4>実行時間について</h4>\n                    <p>\n                        実行時間には多少のブレが生じます。\n                        また、システムテストでは同時に大量の実行を行うため、暫定テストに比べて数%程度実行時間が伸びる現象が確認されています。\n                        そのため、実行時間制限ギリギリの提出がシステムテストで<span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"\" data-original-title=\"実行時間制限超過\">TLE</span>となる可能性があります。\n                        プログラム内で時間を計測して処理を打ち切るか、実行時間に余裕を持たせるようお願いします。\n                    </p>\n                </section>\n            </div>\n            <hr>\n\n            <div class=\"io-style\">\n                <div class=\"part\">\n                    <section>\n                        <h3>入出力</h3>\n\n                        <p>\n                            <b>※この問題はインタラクティブ形式です。以下の内容を読み、ジャッジプログラムとのやり取りを行ってください。</b>\n                        </p>\n\n                        <p>\n                            最初に、入力が以下の形式で標準入力から与えられます。\n                        </p>\n\n<pre>\\(\nN ~ W ~ K ~ C \\\\\na_0 ~ b_0 \\\\\n\\vdots \\\\\na_{W-1} ~ b_{W-1} \\\\\nc_0 ~ d_0 \\\\\n\\vdots \\\\\nc_{K-1} ~ d_{K-1}\\)\n</pre>\n\n                        <p>\n                            </p><ul class=\"simple\">\n                                <li>\n                                    1行目には4つの整数 <var>N,W,K,C</var> がスペース区切りで与えられます。\n                                    <ul>\n                                        <li><var>N</var> は土地のサイズを表し、 <var>N = 200</var> です。</li>\n                                        <li><var>W</var> は<b>水源</b>の数を表し、 <var>1 \\leq W \\leq 4</var> を満たします。</li>\n                                        <li><var>K</var> は<b>家</b>の数を表し、 <var>1 \\leq K \\leq 10</var> を満たします。</li>\n                                        <li><var>C</var> は<b>体力</b>の消費に関係するパラメータで、 <var>C \\in \\{ 1,2,4,8,16,32,64,128 \\}</var> を満たします。</li>\n                                    </ul>\n                                </li>\n                                <li>\n                                    続く <var>W+K</var> 行には、<b>水源</b>と<b>家</b>が存在するセルの位置を表す2つの整数がスペース区切りで与えられます。\n                                    <ul>\n                                        <li>最初に、 <var>W</var> 行で与えられる2整数 <var>a_i, b_i</var> は、 セル <var>(a_i, b_i)</var> に<b>水源</b>が存在することを表します。<var>0 \\leq a_i \\lt N, 0 \\leq b_i \\lt N</var> を満たします。\n                                        </li><li>続いて、 <var>K</var> 行で与えられる2整数 <var>c_i, d_i</var> は、 セル <var>(c_i, d_i)</var> に<b>家</b>が存在することを表します。<var>0 \\leq c_i \\lt N, 0 \\leq d_i \\lt N</var> を満たします。\n                                        </li><li>全ての<b>水源</b>同士のペア・全ての<b>家</b>同士のペア・全ての<b>水源</b>と<b>家</b>のペアは、<a href=\"https://ja.wikipedia.org/wiki/%E3%83%9E%E3%83%B3%E3%83%8F%E3%83%83%E3%82%BF%E3%83%B3%E8%B7%9D%E9%9B%A2\" target=\"_blank\" rel=\"noopener noreferrer\">マンハッタン距離</a>で <var> \\mathrm{round}(400/(W+K))</var> 以上離れていることが保証されます。</li>\n                                    </ul>\n                                </li>\n                            </ul>\n                        <p></p>\n\n                        <p>\n                            ここまでの入力を受け取った後は、<b>掘削</b>をどのように実行するかを以下の形式で標準出力へ出力してください。<br>\n                        </p>\n\n<pre>\\(y ~ x ~ P\\)\n</pre>\n\n                        <p>\n                            </p><ul class=\"simple\">\n                                <li>\n                                    1行目に3つの整数 <var>y,x,P</var> をスペース区切りで出力します。\n                                    <ul>\n                                        <li>セル <var>(y,x)</var> に対して、<b>パワー</b> <var>P</var> で<b>掘削</b>を行います。</li>\n                                        <li>セル <var>(y,x)</var> の<b>岩盤</b>はまだ破壊されていない必要があり、かつ、<var>1 \\leq P \\leq 5000</var> を満たす必要があります。そうしなかった場合、<span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"\" data-original-title=\"不正解\">WA</span> となります。</li>\n                                        <li>出力の後には<font color=\"red\"><strong>改行をし、標準出力をflushする必要があります</strong></font>。そうしなかった場合、<span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"\" data-original-title=\"実行時間制限超過\">TLE</span> となる可能性があります。</li>\n                                    </ul>\n                                </li>\n                            </ul>\n                        <p></p>\n\n                        <p>\n                            出力後、<b>掘削</b>を実行した結果が入力として以下の形式で標準入力から与えられます。\n                        </p>\n\n<pre>\\(r\\)\n</pre>\n\n                        <p>\n                            </p><ul class=\"simple\">\n                                <li>\n                                    1行に1つの整数 <var>r</var> が与えられます。\n                                    <ul>\n                                        <li>指定したセルの<b>岩盤</b>が破壊できなかった場合は <code>0</code> となります。</li>\n                                        <li>指定したセルの<b>岩盤</b>が破壊できた場合、<b>家</b>が存在するセルでまだ水が流れていないものがあるならば <code>1</code> 、<b>家</b>が存在する全てのセルに水が流れているならば <code>2</code> となります。</li>\n                                        <li>不正な出力だった場合は <code>-1</code> となります。</li>\n                                    </ul>\n                                </li>\n                                <li><var>r \\in \\{-1, 2\\}</var> の場合は、直ちにプログラムを終了してください。そうしなければ、<span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"\" data-original-title=\"実行時間制限超過\">TLE</span> となる可能性があります。</li>\n                                <li><var>r \\in \\{0, 1\\}</var> の場合は、<b>家</b>が存在するセルでまだ水が流れていないものがあるため、引き続き<b>掘削</b>を行う必要があります。<var>r \\in \\{-1, 2\\}</var> となるまで、<b>掘削</b>をどのように実行するかを繰り返し出力し、繰り返し入力を受け取ってください。</li>\n                            </ul>\n                        <p></p>\n                    </section>\n                </div>\n\n                <div class=\"part\">\n                    <section>\n                        <h3>入力生成方法</h3>\n                        <details>\n                            <p><var>L</var> 以上 <var>U</var> 以下の整数値を一様ランダムに生成する関数を <var>\\mathrm{rand}(L,U)</var> で、<var>L</var> 以上 <var>U</var> 以下の実数値を一様ランダムに生成する関数を <var>\\mathrm{randf}(L,U)</var> で、<var>b</var> の <var>p</var> 乗を返す関数を <var>\\mathrm{pow}(b,p)</var> で表す。</p>\n                            <h4><var>S_{i,j}</var> の生成</h4>\n                            <ol>\n                                <li>\n                                    乱数シード <var>seed</var> を元に、 -1.0以上1.0以下の範囲にスケーリングされた二次元の <a href=\"https://ja.wikipedia.org/wiki/%E3%83%91%E3%83%BC%E3%83%AA%E3%83%B3%E3%83%8E%E3%82%A4%E3%82%BA\" target=\"_blank\" rel=\"noopener noreferrer\">Perlin noise</a> を生成する関数を <var>\\mathrm{noise}(y,x,seed)</var> で表す。<br>\n                                    以下のようにパラメタを選ぶ。\n                                    <ul>\n                                        <li><var>f0 = \\mathrm{randf}(2.0,8.0)</var></li>\n                                        <li><var>f1 = \\mathrm{randf}(10.0,20.0)</var></li>\n                                        <li><var>dy0 = \\mathrm{randf}(0.0,1.0)</var></li>\n                                        <li><var>dy1 = \\mathrm{randf}(0.0,1.0)</var></li>\n                                        <li><var>dx0 = \\mathrm{randf}(0.0,1.0)</var></li>\n                                        <li><var>dx1 = \\mathrm{randf}(0.0,1.0)</var></li>\n                                        <li><var>seed0 = \\mathrm{rand}(0,2^{32} - 1)</var></li>\n                                        <li><var>seed1 = \\mathrm{rand}(0,2^{32} - 1)</var></li>\n                                    </ul>\n                                    各 <var>i, j</var>（ <var> 0 \\leq i, j \\lt N </var> ）に対して、 <var>S_{i,j} = \\mathrm{noise}(f0 \\times i / N + dy0, f0 \\times j / N + dx0, seed0) + 0.2 \\times \\mathrm{noise}(f1 \\times i / N + dy1, f1 \\times j / N + dx1, seed1)</var> とする。\n                                </li>\n                                <li>\n                                    <var>S_{i,j} = 1.0 / (1.0 + \\mathrm{exp}(-3.0 \\times (S_{i,j} - 0.25)))</var> と更新する。（ロジスティック関数で変換をしている）\n                                </li>\n                                <li>\n                                    <var>p = \\mathrm{randf}(2.0,4.0)</var> を選ぶ。 <var>S_{i,j} = \\mathrm{pow}(S_{i,j},p)</var> と更新する。\n                                </li>\n                                <li>\n                                    <var>S_{i,j}</var> を、 <var>10</var> 以上 <var>5000</var> 以下の範囲に線形スケーリングする。<br>\n                                    すなわち、 <var>S_{i,j}</var>（ <var> 0 \\leq i, j \\lt N </var> ）の中で最小の値を <var>l</var>, 最大の値を <var>u</var> としたとき、 <var>S_{i,j} = \\mathrm{round}((S_{i,j} - l) \\times (5000 - 10) / (u - l) + 10)</var> と更新する。\n                                </li>\n                            </ol>\n                            <h4>水源と家の位置の生成</h4>\n                            <ol>\n                                <li><var>W = \\mathrm{rand}(1,4)</var>, <var>K = \\mathrm{rand}(1,10)</var> とする。</li>\n                                <li><var>W</var> 箇所の<b>水源</b>の位置<var>(a_i, b_i)</var>, <var>K</var> 箇所の<b>家</b>の位置<var>(c_i, d_i)</var> を、それぞれ独立に、<var>N ^ 2</var> 個のセルの中から <var>S_{i,j}</var>に反比例する確率で選ぶ。</li>\n                                <li><var>W+K</var> 箇所の位置の中にマンハッタン距離が <var>\\mathrm{round}(400/(W+K))</var> 未満の組がある場合、2. からやり直す。</li>\n                            </ol>\n                            <h4><var>C</var> の生成</h4>\n                            <p><var>C = \\mathrm{pow}(2,\\mathrm{rand}(0,7))</var> と生成する。</p>\n                        </details>\n                        <p>必ずしも理解する必要はありません。</p>\n                        <p>厳密な実装は入力ジェネレータのソースコードをご覧ください。</p>\n                    </section>\n                </div>\n\n                <div class=\"part\">\n                    <section>\n                        <h3>ツール（入力ジェネレータ・ビジュアライザ・ローカルテスタ・サンプルコード）</h3>\n                        <ul>\n                            <li><a href=\"https://img.atcoder.jp/ahc018/6bada50282.html?lang=ja\">Web版</a>: アニメーション表示が可能です。</li>\n                            <li><a href=\"https://img.atcoder.jp/ahc018/6bada50282.zip\">ローカル版</a>: 使用するには<a href=\"https://www.rust-lang.org/ja\">Rust言語</a>のコンパイル環境をご用意下さい。\n                                <ul><li><a href=\"https://img.atcoder.jp/ahc018/6bada50282_windows.zip\">Windows用のコンパイル済みバイナリ</a>: Rust言語の環境構築が面倒な方は代わりにこちらをご利用下さい。</li></ul>\n                            </li>\n                            <li><a href=\"https://img.atcoder.jp/ahc018/6bada50282_sample.zip\">サンプルコード（C++, Python）</a>: サンプルの解答です。次の処理を実装しています。\n                                <ul>\n                                    <li>それぞれの<b>家</b>について、一つ目の<b>水源</b>まで最短距離でまっすぐに<b>掘削</b>を行う</li>\n                                    <li><b>パワー</b>は常に <code>100</code> に設定する</li>\n                                    <li>ジャッジプログラムから <code>2</code> が返されたら、消費体力を標準エラー出力に出力して終了する</li>\n                                </ul>\n                            </li>\n                        </ul>\n                        <p>\n                            <font color=\"red\"><strong>コンテスト終了までビジュアライズ結果の共有は禁止されています。ご注意下さい。</strong></font>\n                        </p>\n                        <h4>ツールで用いられる入出力ファイルの仕様</h4>\n                        <p>ローカルテスタに与える入力ファイルは以下の形式を用いています。</p>\n<pre>\\(\nN ~ W ~ K ~ C \\\\\nS_{0,0} ~ \\cdots ~ S_{0,N-1} \\\\\n\\vdots \\\\\nS_{N-1,0} ~ \\cdots ~ S_{N-1 ,N-1} \\\\\na_0 ~ b_0 \\\\\n\\vdots \\\\\na_{W-1} ~ b_{W-1} \\\\\nc_0 ~ d_0 \\\\\n\\vdots \\\\\nc_{K-1} ~ d_{K-1} \\)\n</pre>\n                        <p><var>S_{i,j}</var> はセル <var>(i, j)</var> にある<b>岩盤</b>の<b>頑丈さ</b>の初期値です。</p>\n                        <p>ローカルテスタは解答プログラムの出力をそのまま出力ファイルに書き出します。\n                        解答プログラムは、<code>#</code> から始まるコメント行を出力に含めてもかまいません。\n                        Web版ビジュアライザを使用すると、コメント行を対応する<b>掘削</b>と合わせて表示できるため、デバッグや考察等に役立てることができます。\n                        ジャッジプログラムはコメント行を全て無視するため、コメント行を出力するプログラムをそのまま提出可能です。\n                    </p></section>\n                </div>\n            </div>\n\n            <hr>\n            <div class=\"part\">\n                <section>\n                    <h3>入出力例</h3>\n                    <table class=\"table table-bordered\">\n                        <thead>\n                            <tr>\n                                <th>Input</th>\n                                <th>Output</th>\n                                <th>説明</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr>\n                                <td>\n<pre>3 1 1 128\n0 0\n1 1\n</pre>\n                                </td>\n                                <td></td>\n                                <td>\n                                    入力の制約を満たさない、説明用の入力である点に注意してください。<br>\n                                    <var>3 \\times 3</var> のグリッドで表される土地の <var>(0,0)</var> に<b>水源</b>が存在し、 <var>(1,1)</var> に<b>家</b>が存在します。\n                                </td>\n                            </tr>\n                            <tr>\n                                <td></td>\n                                <td>\n<pre>0 0 872\n</pre>\n                                </td>\n                                <td>\n                                    セル <var>(0,0)</var> に対して、<b>パワー</b> <var>872</var> で<b>掘削</b>をします。この際、<b>体力</b>を<var>128+872 = 1000</var> 消費します。\n                                </td>\n                            </tr>\n                            <tr>\n                                <td>\n<pre>0\n</pre>\n                                </td>\n                                <td></td>\n                                <td>\n                                    この<b>掘削</b>では、セル <var>(0,0)</var> の<b>岩盤</b>は壊れませんでした。<br>\n                                    ですが、セル <var>(0,0)</var> の<b>岩盤</b>の<b>頑丈さ</b>は <var>872</var> 減りました。<br>\n                                </td>\n                            </tr>\n                            <tr>\n                                <td></td>\n                                <td>\n<pre>0 0 2\n</pre>\n                                </td>\n                                <td>\n                                    セル <var>(0,0)</var> に対して、<b>パワー</b> <var>2</var> で<b>掘削</b>をします。この際、<b>体力</b>を<var>128+2 = 130</var> 消費します。\n                                </td>\n                            </tr>\n                            <tr>\n                                <td>\n<pre>1\n</pre>\n                                </td>\n                                <td></td>\n                                <td>\n                                    この<b>掘削</b>で、セル <var>(0,0)</var> の<b>岩盤</b>が壊れました。<br>\n                                    セル <var>(0,0)</var> に水が流れるようになります。<br>\n                                </td>\n                            </tr>\n                            <tr>\n                                <td></td>\n                                <td>\n<pre>1 1 872\n</pre>\n                                </td>\n                                <td>\n                                    セル <var>(1,1)</var> に対して、<b>パワー</b> <var>872</var> で<b>掘削</b>をします。この際、<b>体力</b>を<var>128+872 = 1000</var> 消費します。\n                                </td>\n                            </tr>\n                            <tr>\n                                <td>\n<pre>1\n</pre>\n                                </td>\n                                <td></td>\n                                <td>\n                                    セル <var>(1,1)</var> の<b>岩盤</b>が壊れました。<br>\n                                </td>\n                            </tr>\n                            <tr>\n                                <td></td>\n                                <td>\n<pre>1 0 872\n</pre>\n                                </td>\n                                <td>\n                                    セル <var>(1,0)</var> に対して、<b>パワー</b> <var>872</var> で<b>掘削</b>をします。この際、<b>体力</b>を<var>128+872 = 1000</var> 消費します。\n                                </td>\n                            </tr>\n                            <tr>\n                                <td>\n<pre>2\n</pre>\n                                </td>\n                                <td></td>\n                                <td>\n                                    セル <var>(1,0)</var> の<b>岩盤</b>が壊れました。<br>\n                                    セル <var>(0,0)</var>, <var>(1,0)</var>, <var>(1,1)</var> に水が流れるようになり、<b>家</b>が存在する全てのセルに水が流れるようになりました。<br>\n                                    ジャッジプログラムから<code>2</code> が返されたら、直ちにプログラムを終了してください。<br>\n                                    消費した<b>体力</b>の合計である <var>1000+130+1000+1000 = 3130</var> が相対評価スコアの計算に用いられます。<br>\n                                </td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </section>\n            </div>\n        </span>","en":"<span class=\"lang-en\">\n            <div class=\"part\">\n                <section>\n                    <p><img src=\"https://img.atcoder.jp/ahc018/a8a5bc5edd5e6d6301e8f4bd11f3c531.gif\" width=\"400\"></p>\n                    <h3>Problem Statement</h3>\n                    <p>\n                        There is plot of land, represented by a grid of <var>N</var> rows and <var>N</var> columns.<br>\n                        On the grid, there are <b>water sources</b> in <var>W</var> spots, and <b>houses</b> in <var>K</var> spots.<br>\n                        Let us call the cell on <var>i</var>th (<var> 0 \\leq i \\lt N </var>) row from top and <var>j</var>th column (<var> 0 \\leq j \\lt N </var>) from left, <var>(i, j)</var>.<br>\n                        Each cell <var>(i, j)</var> has an associated integer <var>S_{i,j}</var> between <var>10</var> and <var>5000</var> (inclusive), representing the <b>sturdiness</b> of the <b>bedrock</b> of the cell. The <b>sturdiness</b> is pre-determined, but it's not given as a part of the input.<br>\n                    </p>\n\n                    <p>\n                        When the <b>bedrock</b> of a cell containing a <b>water source</b> is crushed, water flows into the cell.<br>\n                        Furthermore, with cells with flowing water as starting points, water will flow horizontally and vertically into neighboring cells with crushed <b>bedrock</b> and span every cell it can reach this way.<br>\n                        X-san, who is in charge of the land, wants to crush <b>bedrock</b> to build watercourses to make the water flow into every cell with <b>houses</b>.<br>\n                        Please note that for water to flow into a cell with a <b>house</b>, the <b>bedrock</b> of that cell must be crushed too.<br>\n                    </p>\n\n                    <p>\n                        To crush <b>bedrock</b>, X-san repeatedly performs <b>excavations</b> as explained below.<br>\n                        </p><ul>\n                            <li>\n                                Choose a cell <var>(i, j)</var> whose <b>bedrock</b> isn't crushed yet, and a positive integer <var>P</var> less or equal than <var>5000</var>, representing <b>power</b>.\n                            </li>\n                            <li>\n                                As <var>C+P</var> (<var>C</var> is a positive integer received as an input) of X-san's <b>stamina</b> gets consumed, the <b>sturdiness</b> <var>S_{i,j}</var> of the <b>bedrock</b> in the cell diminishes by <var>P</var>.\n                            </li>\n                            <li>\n                                If <b>sturdiness</b> then reaches zero <var>S_{i,j} \\leq 0</var>, the <b>bedrock</b> of the cell <var>(i, j)</var> gets crushed.\n                            </li>\n                        </ul>\n                    <p></p>\n\n                    <p>\n                        Make the water flow into every cell with a <b>house</b>, while trying to conserve X-san's <b>stamina</b> as much as possible.\n                    </p>\n                </section>\n            </div>\n            <hr>\n            <div class=\"part\">\n                <section>\n                    <h3>Scoring</h3>\n                    <p>For each test case, we compute the <font color=\"red\"><strong>relative score</strong></font> <var>\\mathrm{round}(10^9\\times \\frac{\\mathrm{MIN}}{\\mathrm{YOUR}})</var>, where YOUR is your stamina consumption and MIN is the lowest stamina consumption among all competitors obtained on that test case. The score of the submission is the sum of the relative scores.</p>\n                    <p>The final ranking will be determined by the system test with more inputs which will be run after the contest is over.\n                    In both the provisional/system test, if your submission produces illegal output or exceeds the time limit for some test cases, only the score for those test cases will be zero, and your submission will be excluded from the MIN calculation for those test cases.</p>\n                    <p>The system test will be performed only for <font color=\"red\"><strong>the last submission which received a result other than <span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"\" data-original-title=\"Compilation Error\">CE</span> </strong></font>.\n                    Be careful not to make a mistake in the final submission.</p>\n                    <h4>Number of test cases</h4>\n                    <ul>\n                        <li>\n                            Provisional test: 50\n                        </li>\n                        <li>\n                            System test: 3000\n                            <ul>\n                                <li>For the system test, there will be 375 data inputs for each <var>C</var> (<var>C \\in \\{ 1,2,4,8,16,32,64,128 \\}</var>)</li>\n                                <li>We will publish <a href=\"https://img.atcoder.jp/ahc018/seeds.txt\">seeds.txt</a> (sha256=<code>3bbc58026730d18fcb0e03ead929ab2afb6f9f0c5eb7f0c10ac44df4e6b84a3f</code>) after the contest is over.</li>\n                            </ul>\n                        </li>\n                    </ul>\n                    <h4>About Relative Evaluation System</h4>\n                    <p>\n                        In both the provisional/system test, the standings will be calculated using only the last submission which received a result other than <span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"\" data-original-title=\"Compilation Error\">CE</span>.\n                        Only the last submissions are used to calculate the MIN for each test case when calculating the relative scores.\n                    </p>\n                    <p>\n                        The scores shown in the standings are relative, and whenever a new submission arrives, all relative scores are recalculated.\n                        On the other hand, the score for each submission shown on the submissions page is the sum of the stamina consumption for each test case, and the relative scores are not shown.\n                        In order to know the relative score of submission other than the latest one in the current standings, you need to resubmit it.\n                        If your submission produces illegal output or exceeds the time limit for some test cases, the score shown on the submissions page will be 0, but the standings show the sum of the relative scores for the test cases that were answered correctly.\n                    </p>\n                    <h4>About execution time</h4>\n                    <p>\n                        Execution time may vary slightly from run to run.\n                        In addition, since system tests simultaneously perform a large number of executions, it has been observed that execution time increases by several percents compared to provisional tests.\n                        For these reasons, submissions that are very close to the time limit may result in <span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"\" data-original-title=\"Time Limit Exceeded\">TLE</span> in the system test.\n                        Please measure the execution time in your program to terminate the process, or make sure to have enough time margin for the execution.\n                    </p>\n                </section>\n            </div>\n            <hr>\n\n            <div class=\"io-style\">\n                <div class=\"part\">\n                    <section>\n                        <h3>Input and Output</h3>\n\n                        <p>\n                            <b>Note: This problem is interactive. Read the following explanation, and communicate with the judge program accordingly.</b>\n                        </p>\n\n                        <p>\n                            At first, input will be provided via stdin in the following format.\n                        </p>\n\n<pre style=\"font-family: Menlo,Monaco,Consolas,'Courier New',monospace; font-size: 13px;\">\\(\nN ~ W ~ K ~ C \\\\\na_0 ~ b_0 \\\\\n\\vdots \\\\\na_{W-1} ~ b_{W-1} \\\\\nc_0 ~ d_0 \\\\\n\\vdots \\\\\nc_{K-1} ~ d_{K-1}\\)\n</pre>\n\n                        <p>\n                            </p><ul class=\"simple\">\n                                <li>\n                                    On the 1st row, there are four integers <var>N,W,K,C</var> separated by spaces.\n                                    <ul>\n                                        <li><var>N</var> represents the size of the plot and is <var>N = 200</var>.</li>\n                                        <li><var>W</var> represents the number of the <b>water sources</b> and satisfies <var>1 \\leq W \\leq 4</var>.</li>\n                                        <li><var>K</var> represents the number of the <b>houses</b> and satisfies <var>1 \\leq K \\leq 10</var>.</li>\n                                        <li><var>C</var> is a parameter related to <b>stamina</b> consumption and satisfies <var>C \\in \\{ 1,2,4,8,16,32,64,128 \\}</var>.</li>\n                                    </ul>\n                                </li>\n                                <li>\n                                    The following <var>W+K</var> rows contain the coordinates of the cells containing <b>water sources</b> and <b>houses</b>, each expressed as a pair of space-separated integers.\n                                    <ul>\n                                        <li>First <var>W</var> rows contain pairs of integers <var>a_i, b_i</var>, representing cells <var>(a_i, b_i)</var> that contain <b>water sources</b>. The integers satisfy <var>0 \\leq a_i, b_i \\lt N</var>.\n                                        </li><li>Following <var>K</var> rows contain pairs of integers <var>c_i, d_i</var>, representing cells <var>(c_i, d_i)</var> that contain <b>houses</b>. The integers satisfy <var>0 \\leq c_i, d_i \\lt N</var>.\n                                        </li><li>Each pair of <b>water sources</b>, each pair of <b>houses</b> and each pair of <b>water sources</b> and <b>houses</b> are guaranteed to be separated by at least <a href=\"https://en.wikipedia.org/wiki/Taxicab_geometry\" target=\"_blank\" rel=\"noopener noreferrer\">Manhattan distance</a> of <var> \\mathrm{round}(400/(W+K))</var>.</li>\n                                    </ul>\n                                </li>\n                            </ul>\n                        <p></p>\n\n                        <p>\n                            After receiving the input this far, please output how to perform <b>excavations</b> to stdout in the following format.<br>\n                        </p>\n\n<pre>\\(y ~ x ~ P\\)\n</pre>\n\n                        <p>\n                            </p><ul class=\"simple\">\n                                <li>\n                                    On a single row, output three integers <var>y,x,P</var> separated by spaces.\n                                    <ul>\n                                        <li>An <b>excavation</b> will be performed at cell <var>(y,x)</var> with <b>power</b> <var>P</var>.</li>\n                                        <li>The <b>bedrock</b> on cell <var>(y,x)</var> must not be crushed yet, and <b>power</b> must satisfy <var>1 \\leq P \\leq 5000</var>. If these conditions are not met, the result will be <span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"\" data-original-title=\"Wrong Answer\">WA</span>.</li>\n                                        <li>You must <font color=\"red\"><strong>output a newline after the integers, and flush stdout</strong></font>. If you don't, the result might turn out to be <span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"\" data-original-title=\"Time Limit Exceeded\">TLE</span>.</li>\n                                    </ul>\n                                </li>\n                            </ul>\n                        <p></p>\n\n                        <p>\n                            After the output, the result of the performed <b>excavation</b> will be provided as an input in the following format.\n                        </p>\n\n<pre>\\(r\\)\n</pre>\n\n                        <p>\n                            </p><ul class=\"simple\">\n                                <li>\n                                    On a single row, there is a single integer <var>r</var>.\n                                    <ul>\n                                        <li>If the <b>bedrock</b> of the designated cell doesn't get crushed, <var>r</var> will be <code>0</code>.</li>\n                                        <li>If the <b>bedrock</b> of the designated cell gets crushed; in case there are still cells with <b>houses</b> without flowing water, <var>r</var> will be <code>1</code>, and in the case every cell with a <b>house</b> has flowing water, <var>r</var> will be <code>2</code>.</li>\n                                        <li>In case of invalid output, <var>r</var> will be <code>-1</code>.</li>\n                                    </ul>\n                                </li>\n                                <li>In case of <var>r \\in \\{-1, 2\\}</var>, please exit the program immediately. If you fail to do so, the result might turn out to be <span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"\" data-original-title=\"Time Limit Exceeded\">TLE</span>.</li>\n                                <li>In case of <var>r \\in \\{0, 1\\}</var>, there still exists cells with <b>houses</b> without flowing water; in that case, you need to continue performing <b>excavations</b>. Please continue receiving input and providing output how to perform <b>excavations</b> until <var>r \\in \\{-1, 2\\}</var>.</li>\n                            </ul>\n                        <p></p>\n                    </section>\n                </div>\n\n                <div class=\"part\">\n                    <section>\n                        <h3>Input Generation</h3>\n                        <details>\n                            <p>Let <var>\\mathrm{rand}(L,U)</var> be a function that generates a uniform random integer between <var>L</var> and <var>U</var>, inclusive, and <var>\\mathrm{randf}(L,U)</var> be a function that generates a uniform random real number between <var>L</var> and <var>U</var>, inclusive, and <var>\\mathrm{pow}(b,p)</var> be a function that returns <var>b</var> to the power of <var>p</var>.</p>\n                            <h4>Generating <var>S_{i,j}</var></h4>\n                            <ol>\n                                <li>\n                                    Let <var>\\mathrm{noise}(y,x,seed)</var> be a function that generates two-dimensional <a href=\"https://en.wikipedia.org/wiki/Perlin_noise\" target=\"_blank\" rel=\"noopener noreferrer\">Perlin noise</a> scaled to range <var>-1.0</var> - <var>1.0</var>, inclusive, according to a random seed <var>seed</var>.<br>\n                                    Select parameters as the following.<br>\n                                    <ul>\n                                        <li><var>f0 = \\mathrm{randf}(2.0,8.0)</var></li>\n                                        <li><var>f1 = \\mathrm{randf}(10.0,20.0)</var></li>\n                                        <li><var>dy0 = \\mathrm{randf}(0.0,1.0)</var></li>\n                                        <li><var>dy1 = \\mathrm{randf}(0.0,1.0)</var></li>\n                                        <li><var>dx0 = \\mathrm{randf}(0.0,1.0)</var></li>\n                                        <li><var>dx1 = \\mathrm{randf}(0.0,1.0)</var></li>\n                                        <li><var>seed0 = \\mathrm{rand}(0,2^{32} - 1)</var></li>\n                                        <li><var>seed1 = \\mathrm{rand}(0,2^{32} - 1)</var></li>\n                                    </ul>\n                                    For each <var>i, j</var> (<var> 0 \\leq i, j \\lt N </var>), let <var>S_{i,j} = \\mathrm{noise}(f0 \\times i / N + dy0, f0 \\times j / N + dx0, seed0) + 0.2 \\times \\mathrm{noise}(f1 \\times i / N + dy1, f1 \\times j / N + dx1, seed1)</var>.\n                                </li>\n                                <li>\n                                    Update <var>S_{i,j} = 1.0 / (1.0 + \\mathrm{exp}(-3.0 \\times (S_{i,j} - 0.25)))</var>. (Transformation by logistic function.)\n                                </li>\n                                <li>\n                                    Select <var>p = \\mathrm{randf}(2.0,4.0)</var>. Update <var>S_{i,j} = \\mathrm{pow}(S_{i,j},p)</var>.\n                                </li>\n                                <li>\n                                    Scale <var>S_{i,j}</var> linearly to range <var>10</var> - <var>5000</var>, inclusive.<br>\n                                    I.e. let <var>l</var> be minimum and <var>u</var> be maximum of <var>S_{i,j}</var> (<var> 0 \\leq i, j \\lt N </var>), and update <var>S_{i,j} = \\mathrm{round}((S_{i,j} - l) \\times (5000 - 10) / (u - l) + 10)</var>.\n                                </li>\n                            </ol>\n                            <p> </p>\n                            <h4>Generating the locations of water sources and houses</h4>\n                            <ol>\n                                <li>Let <var>W = \\mathrm{rand}(1,4)</var>, <var>K = \\mathrm{rand}(1,10)</var>.</li>\n                                <li>Choose the coordinates <var>(a_i, b_i)</var> of the <var>W</var> water sources and the coordinates <var>(c_i, d_i)</var> of the <var>K</var> houses independently from the <var>N ^ 2</var> cells with a probability inversely proportional to <var>S_{i,j}</var>.</li>\n                                <li>In case the Manhattan distance between any pairs of the <var>W+K</var> coordinates is under <var>\\mathrm{round}(400/(W+K))</var>, go back to step 2 and regenerate.</li>\n                            </ol>\n                            <h4>Generating <var>C</var></h4>\n                            <p>Given by <var>C = \\mathrm{pow}(2,\\mathrm{rand}(0,7))</var>.</p>\n                        </details>\n                        <p>You are not required to understand this.</p>\n                        <p>Please refer to the source code of the input generator for implementation details.</p>\n                    </section>\n                </div>\n\n                <div class=\"part\">\n                    <section>\n                        <h3>Tools (Input generator, visualizer, local tester, and sample code)</h3>\n                        <ul>\n                            <li><a href=\"https://img.atcoder.jp/ahc018/6bada50282.html?lang=en\">Web Version</a>: For displaying animated visualizations.</li>\n                            <li><a href=\"https://img.atcoder.jp/ahc018/6bada50282.zip\">Local Version</a>: Please set up a <a href=\"https://www.rust-lang.org\">Rust language</a> build environment to use this.\n                                <ul><li><a href=\"https://img.atcoder.jp/ahc018/6bada50282_windows.zip\">Pre-compiled binary for Windows</a>: If you have troubles setting up Rust environment, use this.</li></ul>\n                            </li>\n                            <li><a href=\"https://img.atcoder.jp/ahc018/6bada50282_sample.zip\">Sample code (C++, Python)</a>: Sample answers. Implemented as follows:\n                                <ul>\n                                    <li>Performs <b>excavations</b> to build watercourses from the first <b>water source</b> to each <b>house</b> by the shortest, direct route.</li>\n                                    <li>Uses constantly <code>100</code> as the <b>power</b> setting.</li>\n                                    <li>Once the judge program returns <code>2</code>, prints the consumed <b>stamina</b> to stderr and exits.</li>\n                                </ul>\n                            </li>\n                        </ul>\n                        <p>\n                            <font color=\"red\"><strong>Note that sharing visualization results is forbidden until the contest ends.</strong></font>\n                        </p>\n                        <h4>Input format used in the tools</h4>\n                        <p>The input file for the local tester uses the following format.</p>\n<pre>\\(\nN ~ W ~ K ~ C \\\\\nS_{0,0} ~ \\cdots ~ S_{0,N-1} \\\\\n\\vdots \\\\\nS_{N-1,0} ~ \\cdots ~ S_{N-1 ,N-1} \\\\\na_0 ~ b_0 \\\\\n\\vdots \\\\\na_{W-1} ~ b_{W-1} \\\\\nc_0 ~ d_0 \\\\\n\\vdots \\\\\nc_{K-1} ~ d_{K-1} \\)\n</pre>\n                        <p><var>S_{i,j}</var> is the <b>sturdiness</b> value of the <b>bedrock</b> on cell <var>(i, j)</var>.</p>\n                        <p>\n                            The local tester writes outputs from your program directly to the output file.\n                            Your program may output comment lines starting with <code>#</code>. The web version of the visualizer displays the comment lines with the corresponding <b>excavations</b>, which may be useful for debugging and analysis.\n                            Since the judge program ignores all comment lines, you can submit a program that outputs comment lines as is.\n                        </p>\n                    </section>\n                </div>\n            </div>\n\n            <hr>\n            <div class=\"part\">\n                <section>\n                    <h3>I/O Examples</h3>\n                    <table class=\"table table-bordered\">\n                        <thead>\n                            <tr>\n                                <th>Input</th>\n                                <th>Output</th>\n                                <th>Explanation</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr>\n                                <td>\n<pre>3 1 1 128\n0 0\n1 1\n</pre>\n                                </td>\n                                <td></td>\n                                <td>\n                                    Please note that this input is for explanation purposes, and thus doesn't meet all of the guarantees for input.<br>\n                                    On a <var>3 \\times 3</var> grid, there exists a <b>water source</b> on cell <var>(0,0)</var>, and a <b>house</b> on cell <var>(1,1)</var>.\n                                </td>\n                            </tr>\n                            <tr>\n                                <td></td>\n                                <td>\n<pre>0 0 872\n</pre>\n                                </td>\n                                <td>\n                                    An <b>excavation</b> is performed at cell <var>(0,0)</var> with <b>power</b> <var>872</var>. Accordingly, <b>stamina</b> is consumed by <var>128+872 = 1000</var>.\n                                </td>\n                            </tr>\n                            <tr>\n                                <td>\n<pre>0\n</pre>\n                                </td>\n                                <td></td>\n                                <td>\n                                    This <b>excavation</b> doesn't manage to crush the <b>bedrock</b> on cell <var>(0,0)</var>.<br>\n                                    However, the <b>sturdiness</b> of the <b>bedrock</b> on cell <var>(0,0)</var> diminishes by <var>872</var>.<br>\n                                </td>\n                            </tr>\n                            <tr>\n                                <td></td>\n                                <td>\n<pre>0 0 2\n</pre>\n                                </td>\n                                <td>\n                                    An <b>excavation</b> with <b>power</b> <var>2</var> is performed at cell <var>(0,0)</var>. Accordingly, <b>stamina</b> is consumed by <var>128+2 = 130</var>.\n                                </td>\n                            </tr>\n                            <tr>\n                                <td>\n<pre>1\n</pre>\n                                </td>\n                                <td></td>\n                                <td>\n                                    This <b>excavation</b> manages to crush the <b>bedrock</b> at cell <var>(0,0)</var>.<br>\n                                    Water flows into cell <var>(0,0)</var>.<br>\n                                </td>\n                            </tr>\n                            <tr>\n                                <td></td>\n                                <td>\n<pre>1 1 872\n</pre>\n                                </td>\n                                <td>\n                                    An <b>excavation</b> with <b>power</b> <var>872</var> is performed at cell <var>(1,1)</var>. Accordingly, <b>stamina</b> is consumed by <var>128+872 = 1000</var>.\n                                </td>\n                            </tr>\n                            <tr>\n                                <td>\n<pre>1\n</pre>\n                                </td>\n                                <td></td>\n                                <td>\n                                    The <b>bedrock</b> on cell <var>(1,1)</var> gets crushed.<br>\n                                </td>\n                            </tr>\n                            <tr>\n                                <td></td>\n                                <td>\n<pre>1 0 872\n</pre>\n                                </td>\n                                <td>\n                                    An <b>excavation</b> with <b>power</b> <var>872</var> is performed at cell <var>(1,0)</var>. Accordingly, <b>stamina</b> is consumed by <var>128+872 = 1000</var>.\n                                </td>\n                            </tr>\n                            <tr>\n                                <td>\n<pre>2\n</pre>\n                                </td>\n                                <td></td>\n                                <td>\n                                    The <b>bedrock</b> on cell <var>(1,0)</var> gets crushed.<br>\n                                    Water is now flowing into cells <var>(0,0)</var>, <var>(1,0)</var> and <var>(1,1)</var>, and every cell with a <b>house</b> now has flowing water.<br>\n                                    As the judge program now returns <code>2</code>, please exit the program immediately.<br>\n                                    The sum of the consumed <b>stamina</b>, which turns out to be <var>1000+130+1000+1000 = 3130</var>, is used to calculate the relative score.<br>\n                                </td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </section>\n            </div>\n        </span>"},"endpoint":"https://atcoder.jp/contests/ahc018/tasks/ahc018_a"}