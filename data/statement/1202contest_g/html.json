{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>100</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p>三次元凸多面体 <var>P</var> に対し，その<strong>展開図</strong>とは，以下を満たす平面上の（重なっても構わない）多角形の集合のことを指します．</p>\n<ul>\n<li>各多角形は <var>P</var> の面と一対一に対応する</li>\n<li>辺のいずれかにに沿って折る操作を繰返すことで <var>P</var> を構成することができる．</li>\n</ul>\n<p>ただし，辺に沿って折るとは以下の操作です．</p>\n<ul>\n<li>辺であって，その辺を取り除くと現在の図形が非連結になるものを取る．その辺で定義される直線を中心軸として，現在の図形上でその辺の片側に位置する部分全体を，任意の角度だけ（三次元的に）回転させる．必要なら，座標の完全に一致した頂点や辺を同一視する．</li>\n</ul>\n<p>同様に，三次元凸多面体 <var>P</var> の<strong>展開図の展開図</strong>とは，以下を満たす線分の集合のことを指します．</p>\n<ul>\n<li>各辺は <var>P</var> の展開図の辺と一対一に対応する</li>\n<li>頂点に沿って折ることを繰返すことで，<var>P</var> の展開図を構成することができる．</li>\n</ul>\n<p>ただし，頂点に沿って折るとは以下の操作です．</p>\n<ul>\n<li>頂点であって，その頂点を取り除くと現在の図形が非連結になるものを取る．その頂点を中心に，現在の図形上でその頂点の特定の側に位置する部分全体を，任意の角度だけ（二次元的に）回転させる．必要なら，座標の完全に一致した頂点を同一視する．</li>\n</ul>\n<p>どの四頂点も同一平面上にない，単位球面上の <var>N</var> 点が与えられます．\n<var>i</var> 番目の点の座標は <var>(x_i,y_i,(-1)^{c_i}\\sqrt{1-x_i^2-y_i^2})</var> です．</p>\n<p>与えられた点たちの凸包の展開図の展開図であって，パスであるものが存在するか判定してください．\n存在する場合は，そのパスの長さの最大値を求めてください．</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>4 \\leq N \\leq 14</var></li>\n<li><var>-1\\leq x_i,y_i\\leq 1</var></li>\n<li><var>c_i</var> は <var>0</var> または <var>1</var></li>\n<li><var>x_i^2+y_i^2\\leq 1</var></li>\n<li>与えられるどの <var>2</var> 点も相異なる</li>\n<li>与えられるすべての異なる四点 <var>p,q,r,s</var> に対して，<var>p,q,r</var> が乗っている平面と <var>s</var> の間の距離は <var>10^{-5}</var> 以上</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる．実数は小数点以下 <var>6</var> 桁まで与えられる．</p>\n<pre><var>N</var>\n<var>x_1</var> <var>y_1</var> <var>c_1</var>\n<var>\\vdots</var>\n<var>x_N</var> <var>y_N</var> <var>c_N</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>与えられた点たちの凸包の展開図の展開図であってパスであるものが存在するなら，答えを出力せよ．\nそうでない場合，<var>-1</var> を出力せよ．</p>\n<p>真の値との絶対誤差あるいは相対誤差が <var>10^{-7}</var> 以下の場合に正答とみなされる．</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>4\n0.000000 0.000000 1\n0.000000 0.000000 0\n1.000000 0.000000 1\n0.000000 1.000000 0\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>13.899494936612\n</pre>\n<p>たとえば，図のような展開が最適です．</p>\n<div style=\"text-align: center;\">\n<img src=\"https://img.atcoder.jp/DEGwer2023/G_zu.png\">\n<p>図: 展開の例</p>\n</div>\n\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>6\n-0.322191 -0.852465 0\n-0.463288 -0.553583 1\n0.378710 -0.346882 1\n-0.489727 0.488028 0\n-0.731142 0.227066 1\n0.254757 -0.899035 0\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>22.950966056549\n</pre>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 3</h3><pre>8\n0.837078 0.492956 1\n0.360579 -0.565500 0\n-0.367448 -0.492394 1\n0.491637 -0.658814 1\n-0.505114 -0.538563 1\n0.544637 0.592884 1\n-0.622207 -0.379934 1\n0.402129 0.684158 1\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 3</h3><pre>28.879053537910\n</pre>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 4</h3><pre>4\n0.800000 0.600000 0\n1.000000 0.000000 1\n-0.280000 -0.960000 1\n0.000000 0.000000 0\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 4</h3><pre>13.284042973728\n</pre></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>100</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>For a three-dimensional convex polytope <var>P</var>, the <strong>net</strong> of it is the set of (possibly overlapping) polygons satisfying the following.</p>\n<ul>\n<li>Each polygon corresponds one-to-one with a face of <var>P</var>.</li>\n<li><var>P</var> can be constructed by repeating the operation of folding along its edges.</li>\n</ul>\n<p>Here, folding along an edge is the following operation:</p>\n<ul>\n<li>Choose an edge, the removal of which would make the current figure disconnected. Use the line defined by this edge as the axis of rotation and rotate the entire part of the current figure that lies on one side of this edge by any angle (in three dimensions). If necessary, vertices or edges that coincide exactly in coordinates are identified.</li>\n</ul>\n<p>Similarly, the <strong>net of the net</strong> of <var>P</var> is the set of line segments satisfying the following.</p>\n<ul>\n<li>Each edge corresponds one-to one with an edge of the net of <var>P</var>.</li>\n<li>The net of <var>P</var> can be constructed by repeating the operation of folding along its vertices.</li>\n</ul>\n<p>Here, folding along a vertex is the following operation:</p>\n<ul>\n<li>Choose a vertex, the removal of which would make the current figure disconnected. Use this vertex as the center of rotation and rotate the entire part of the current figure that lies on some side of this vertex by any angle (in two dimentions). If necessary, vertices that coincide exactly in coordinates are identified.</li>\n</ul>\n<p>You are given <var>N</var> points on the unit sphere such that no four of these are on the same plain.\nThe coordinate of <var>i</var>-th point is given by <var>(x_i,y_i,(-1)^{c_i}\\sqrt{1-x_i^2-y_i^2})</var>.</p>\n<p>Determine whether there exists a net of a net of the convex hull of given points, which is a path.\nIf exists, compute the largest length of such path.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>4 \\leq N \\leq 14</var></li>\n<li><var>-1\\leq x_i,y_i\\leq 1</var></li>\n<li><var>c_i</var> is <var>0</var> or <var>1</var></li>\n<li><var>x_i^2+y_i^2\\leq 1</var></li>\n<li>No two given points coincide.</li>\n<li>For all four different given points <var>p,q,r,s</var>, the distance between <var>s</var> and the plain on which <var>p,q,r</var> exist is at least <var>10^{-5}</var>.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>The input is given from Standard Input in the following format:</p>\n<pre><var>N</var>\n<var>x_1</var> <var>y_1</var> <var>c_1</var>\n<var>\\vdots</var>\n<var>x_N</var> <var>y_N</var> <var>c_N</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>If there exists a net of a net of the convex hull of given points, which is a path, print the largest possible length.\nIf not print <code>-1</code>.</p>\n<p>An output is considered correct if the absolute or the relative error from the true value is at most <var>10^{-7}</var>.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>4\n0.000000 0.000000 1\n0.000000 0.000000 0\n1.000000 0.000000 1\n0.000000 1.000000 0\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>13.899494936612\n</pre>\n<p>The following net of net is optimal.</p>\n<div style=\"text-align: center;\">\n<img src=\"https://img.atcoder.jp/DEGwer2023/G_zu.png\">\n<p>Figure: the optimal net of the net.</p>\n</div>\n\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>6\n-0.322191 -0.852465 0\n-0.463288 -0.553583 1\n0.378710 -0.346882 1\n-0.489727 0.488028 0\n-0.731142 0.227066 1\n0.254757 -0.899035 0\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>22.950966056549\n</pre>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 3</h3><pre>8\n0.837078 0.492956 1\n0.360579 -0.565500 0\n-0.367448 -0.492394 1\n0.491637 -0.658814 1\n-0.505114 -0.538563 1\n0.544637 0.592884 1\n-0.622207 -0.379934 1\n0.402129 0.684158 1\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 3</h3><pre>28.879053537910\n</pre>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 4</h3><pre>4\n0.800000 0.600000 0\n1.000000 0.000000 1\n-0.280000 -0.960000 1\n0.000000 0.000000 0\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 4</h3><pre>13.284042973728\n</pre></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/degwer2023/tasks/1202contest_g"}