{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>600</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p><var>1</var> から <var>N</var> までの整数からなる長さ <var>N</var> の順列 <var>P=(P_1,P_2,\\dots,P_N)</var> が与えられます。</p>\n<p>各 <var>i=1,2,\\dots,N</var> に対し、以下の条件をすべて満たす <var>2</var> つの整数の組 <var>(l,r)</var> に対する <var>r-l+1</var> の最小値を出力してください。ただし、そのような <var>(l,r)</var> が存在しない場合は <code>-1</code> を出力してください。</p>\n<ul>\n<li><var>1 \\leq l \\leq i \\leq r \\leq N</var></li>\n<li><var>r-l+1</var> は奇数</li>\n<li><var>P</var> の連続部分列 <var>(P_l,P_{l+1},\\dots,P_r)</var> の中央値は <var>P_i</var> <b>ではない</b></li>\n</ul>\n<p>ここで、長さが <var>L</var> （奇数）の整数列 <var>A</var> に対して <var>A</var> の中央値とは、 <var>A</var> を昇順にソートして得られる数列を <var>A'</var> として <var>A'</var> の <var>\\frac{L+1}{2}</var> 番目の値のことを指します。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>3 \\leq N \\leq 3 \\times 10^5</var></li>\n<li><var>(P_1,P_2,\\dots,P_N)</var> は <var>1</var> から <var>N</var> までの整数からなる順列</li>\n<li>入力される値はすべて整数</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>\n<pre><var>N</var>\n<var>P_1</var> <var>P_2</var> <var>\\dots</var> <var>P_N</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p><var>i=1,2,\\dots,N</var> に対する答えをこの順に空白区切りで出力せよ。</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>5\n1 3 5 4 2\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>3 3 3 5 3\n</pre>\n\n<p>例えば <var>i=2</var> のとき、 <var>(l,r)=(2,4)</var> とすると <var>r-l+1=3</var> は奇数であり、 <var>(P_2,P_3,P_4)=(3,5,4)</var> の中央値は <var>4</var> となり、 <var>P_2</var> ではないため条件を満たします。よって答えは <var>3</var> です。</p>\n<p>一方、<var>i=4</var> のとき、 <var>(l,r)=(4,4),(2,4),(3,5)</var> に対して、 <var>(P_l,\\dots,P_r)</var> の中央値は常に <var>P_4=4</var> です。<var>(l,r)=(1,5)</var> とすると <var>(P_1,P_2,P_3,P_4,P_5)=(1,3,5,4,2)</var> の中央値は <var>3</var> となり、 <var>P_4</var> ではないため条件を満たします。よって答えは <var>5</var> です。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>3\n2 1 3\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>-1 3 3\n</pre>\n\n<p><var>i=1</var> のとき、条件を満たす整数の組 <var>(l,r)</var> は存在しません。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 3</h3><pre>14\n7 14 6 8 10 2 9 5 4 12 11 3 13 1\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 3</h3><pre>5 3 3 7 3 3 3 5 3 3 5 3 3 3\n</pre></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score: <var>600</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>You are given a permutation <var>P=(P_1,P_2,\\dots,P_N)</var> of integers from <var>1</var> to <var>N</var>.</p>\n<p>For each <var>i=1,2,\\dots,N</var>, print the minimum value of <var>r-l+1</var> for a pair of integers <var>(l,r)</var> that satisfies all of the following conditions. If no such <var>(l,r)</var> exists, print <code>-1</code>.</p>\n<ul>\n<li><var>1 \\leq l \\leq i \\leq r \\leq N</var></li>\n<li><var>r-l+1</var> is odd.</li>\n<li>The median of the contiguous subsequence <var>(P_l,P_{l+1},\\dots,P_r)</var> of <var>P</var> is <b>not</b> <var>P_i</var>.</li>\n</ul>\n<p>Here, the median of <var>A</var> for an integer sequence <var>A</var> of length <var>L</var> (odd) is defined as the <var>\\frac{L+1}{2}</var>-th value of the sequence <var>A'</var> obtained by sorting <var>A</var> in ascending order.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>3 \\leq N \\leq 3 \\times 10^5</var></li>\n<li><var>(P_1,P_2,\\dots,P_N)</var> is a permutation of integers from <var>1</var> to <var>N</var>.</li>\n<li>All input values are integers.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>The input is given from Standard Input in the following format:</p>\n<pre><var>N</var>\n<var>P_1</var> <var>P_2</var> <var>\\dots</var> <var>P_N</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>Print the answers for <var>i=1,2,\\dots,N</var> in this order, separated by spaces.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>5\n1 3 5 4 2\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>3 3 3 5 3\n</pre>\n\n<p>For example, when <var>i=2</var>, if we set <var>(l,r)=(2,4)</var>, then <var>r-l+1=3</var> is odd, and the median of <var>(P_2,P_3,P_4)=(3,5,4)</var> is <var>4</var>, which is not <var>P_2</var>, so the conditions are satisfied. Thus, the answer is <var>3</var>.</p>\n<p>On the other hand, when <var>i=4</var>, the median of <var>(P_l,\\dots,P_r)</var> for any of <var>(l,r)=(4,4),(2,4),(3,5)</var> is <var>P_4=4</var>. If we set <var>(l,r)=(1,5)</var>, the median of <var>(P_1,P_2,P_3,P_4,P_5)=(1,3,5,4,2)</var> is <var>3</var>, which is not <var>P_4</var>, so the conditions are satisfied. Thus, the answer is <var>5</var>.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>3\n2 1 3\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>-1 3 3\n</pre>\n\n<p>When <var>i=1</var>, no pair of integers <var>(l,r)</var> satisfies the conditions.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 3</h3><pre>14\n7 14 6 8 10 2 9 5 4 12 11 3 13 1\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 3</h3><pre>5 3 3 7 3 3 3 5 3 3 5 3 3 3\n</pre></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/arc173/tasks/arc173_c"}