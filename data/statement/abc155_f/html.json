{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点: <var>600</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3>\n<p>AlDebaran 王国の侵攻によって、AtCoder 王国の各地に爆弾が仕掛けられてしまいました。</p>\n<p>幸いにも AtCoder 王国 ABC 隊の健闘により制御装置の一部が手に入ったので、あなたはこれを使って解除を試みることにしました。</p>\n<p>仕掛けられた爆弾は <var>N</var> 個あり、<var>1</var> から <var>N</var> の番号がついています。爆弾 <var>i</var> は座標 <var>A_i</var> にあり、電源は <var>B_i=1</var> のときオンに、<var>B_i=0</var> のときオフになっています。</p>\n<p>制御装置には <var>M</var> 本のコードがあり、<var>1</var> から <var>M</var> の番号がついています。コード <var>j</var> を切ると、座標が <var>L_j</var> 以上 <var>R_j</var> 以下の全ての爆弾の電源のオン・オフが切り替わります。</p>\n<p>切るコードをうまく選ぶことで全ての爆弾の電源をオフにできるか判定し、できるならばそのようなコードの組合せを <var>1</var> つ出力してください。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3>\n<ul>\n<li>入力はすべて整数</li>\n<li><var>1 \\leq N \\leq 10^5</var></li>\n<li><var>1 \\leq A_i \\leq 10^9\\ (1 \\leq i \\leq N)</var></li>\n<li><var>A_i</var> は互いに相異なる</li>\n<li><var>B_i</var> は <var>0</var> か <var>1</var> のいずれか <var>(1 \\leq i \\leq N)</var></li>\n<li><var>1 \\leq M \\leq 2 \\times 10^5</var></li>\n<li><var>1 \\leq L_j \\leq R_j \\leq 10^9\\ (1 \\leq j \\leq M)</var></li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3>\n<p>入力は以下の形式で標準入力から与えられる。</p>\n<pre><var>N</var> <var>M</var>\n<var>A_1</var> <var>B_1</var>\n:\n<var>A_N</var> <var>B_N</var>\n<var>L_1</var> <var>R_1</var>\n:\n<var>L_M</var> <var>R_M</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3>\n<p>全ての爆弾の電源をオフにすることが不可能であれば <code>-1</code> と出力せよ。可能であれば、それを達成するコードの組合せを次のように出力せよ。</p>\n<pre><var>k</var>\n<var>c_1</var> <var>c_2</var> <var>\\dots</var> <var>c_k</var>\n</pre>\n\n<p>ここで、<var>k</var> は切るコードの本数 (<var>0</var> でもよい) である。</p>\n<p>また、<var>c_1, c_2, \\dots, c_k</var> は切るコードの番号であり、<var>1 \\leq c_1 &lt; c_2 &lt; \\dots &lt; c_k \\leq M</var> を満たす必要がある。</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>3 4\n5 1\n10 1\n8 0\n1 10\n4 5\n6 7\n8 9\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>2\n1 4\n</pre>\n\n<p>座標 <var>5, 10</var> に電源がオンの爆弾が、座標 <var>8</var> に電源がオフの爆弾があります。</p>\n<p>コード <var>1</var> を切ると座標 <var>1</var> 以上 <var>10</var> 以下にある爆弾、つまり全ての爆弾の電源が切り替わります。</p>\n<p>コード <var>4</var> を切ると座標 <var>8</var> 以上 <var>9</var> 以下にある爆弾、つまり爆弾 <var>3</var> のみの電源が切り替わります。</p>\n<p>したがって、コード <var>1, 4</var> の <var>2</var> 本を切ることで全ての爆弾の電源がオフになります。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>4 2\n2 0\n3 1\n5 1\n7 0\n1 4\n4 7\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>-1\n</pre>\n\n<p>切るコードをどう選んでも、全ての爆弾の電源をオフにすることは不可能です。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 3</h3><pre>3 2\n5 0\n10 0\n8 0\n6 9\n66 99\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 3</h3><pre>0\n\n</pre>\n\n<p>はじめから全ての爆弾の電源がオフなので、コードを切る必要はありません。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 4</h3><pre>12 20\n536130100 1\n150049660 1\n79245447 1\n132551741 0\n89484841 1\n328129089 0\n623467741 0\n248785745 0\n421631475 0\n498966877 0\n43768791 1\n112237273 0\n21499042 142460201\n58176487 384985131\n88563042 144788076\n120198276 497115965\n134867387 563350571\n211946499 458996604\n233934566 297258009\n335674184 555985828\n414601661 520203502\n101135608 501051309\n90972258 300372385\n255474956 630621190\n436210625 517850028\n145652401 192476406\n377607297 520655694\n244404406 304034433\n112237273 359737255\n392593015 463983307\n150586788 504362212\n54772353 83124235\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 4</h3><pre>5\n1 7 8 9 11\n</pre>\n\n<p>条件を満たすコードの組合せが複数あり得る場合、どれを出力しても構いません。</p></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score: <var>600</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3>\n<p>After being invaded by the Kingdom of AlDebaran, bombs are planted throughout our country, AtCoder Kingdom.</p>\n<p>Fortunately, our military team called ABC has managed to obtain a device that is a part of the system controlling the bombs.</p>\n<p>There are <var>N</var> bombs, numbered <var>1</var> to <var>N</var>, planted in our country. Bomb <var>i</var> is planted at the coordinate <var>A_i</var>. It is currently activated if <var>B_i=1</var>, and deactivated if <var>B_i=0</var>.</p>\n<p>The device has <var>M</var> cords numbered <var>1</var> to <var>M</var>. If we cut Cord <var>j</var>, the states of all the bombs planted between the coordinates <var>L_j</var> and <var>R_j</var> (inclusive) will be switched - from activated to deactivated, and vice versa.</p>\n<p>Determine whether it is possible to deactivate all the bombs at the same time. If the answer is yes, output a set of cords that should be cut.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3>\n<ul>\n<li>All values in input are integers.</li>\n<li><var>1 \\leq N \\leq 10^5</var></li>\n<li><var>1 \\leq A_i \\leq 10^9\\ (1 \\leq i \\leq N)</var></li>\n<li><var>A_i</var> are pairwise distinct.</li>\n<li><var>B_i</var> is <var>0</var> or <var>1</var>. <var>(1 \\leq i \\leq N)</var></li>\n<li><var>1 \\leq M \\leq 2 \\times 10^5</var></li>\n<li><var>1 \\leq L_j \\leq R_j \\leq 10^9\\ (1 \\leq j \\leq M)</var></li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3>\n<p>Input is given from Standard Input in the following format:</p>\n<pre><var>N</var> <var>M</var>\n<var>A_1</var> <var>B_1</var>\n<var>:</var>\n<var>A_N</var> <var>B_N</var>\n<var>L_1</var> <var>R_1</var>\n<var>:</var>\n<var>L_M</var> <var>R_M</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3>\n<p>If it is impossible to deactivate all the bombs at the same time, print <code>-1</code>. If it is possible to do so, print a set of cords that should be cut, as follows:</p>\n<pre><var>k</var>\n<var>c_1</var> <var>c_2</var> <var>\\dots</var> <var>c_k</var>\n</pre>\n\n<p>Here, <var>k</var> is the number of cords (possibly <var>0</var>), and <var>c_1, c_2, \\dots, c_k</var> represent the cords that should be cut. <var>1 \\leq c_1 &lt; c_2 &lt; \\dots &lt; c_k \\leq M</var> must hold.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>3 4\n5 1\n10 1\n8 0\n1 10\n4 5\n6 7\n8 9\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>2\n1 4\n</pre>\n\n<p>There are two activated bombs at the coordinates <var>5, 10</var>, and one deactivated bomb at the coordinate <var>8</var>.</p>\n<p>Cutting Cord <var>1</var> switches the states of all the bombs planted between the coordinates <var>1</var> and <var>10</var>, that is, all of the three bombs.</p>\n<p>Cutting Cord <var>4</var> switches the states of all the bombs planted between the coordinates <var>8</var> and <var>9</var>, that is, Bomb <var>3</var>.</p>\n<p>Thus, we can deactivate all the bombs by cutting Cord <var>1</var> and Cord <var>4</var>.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>4 2\n2 0\n3 1\n5 1\n7 0\n1 4\n4 7\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>-1\n</pre>\n\n<p>Cutting any set of cords will not deactivate all the bombs at the same time.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 3</h3><pre>3 2\n5 0\n10 0\n8 0\n6 9\n66 99\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 3</h3><pre>0\n\n</pre>\n\n<p>All the bombs are already deactivated, so we do not need to cut any cord.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 4</h3><pre>12 20\n536130100 1\n150049660 1\n79245447 1\n132551741 0\n89484841 1\n328129089 0\n623467741 0\n248785745 0\n421631475 0\n498966877 0\n43768791 1\n112237273 0\n21499042 142460201\n58176487 384985131\n88563042 144788076\n120198276 497115965\n134867387 563350571\n211946499 458996604\n233934566 297258009\n335674184 555985828\n414601661 520203502\n101135608 501051309\n90972258 300372385\n255474956 630621190\n436210625 517850028\n145652401 192476406\n377607297 520655694\n244404406 304034433\n112237273 359737255\n392593015 463983307\n150586788 504362212\n54772353 83124235\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 4</h3><pre>5\n1 7 8 9 11\n</pre>\n\n<p>If there are multiple sets of cords that deactivate all the bombs when cut, any of them can be printed.</p></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/abc155/tasks/abc155_f"}