{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>100</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p><var>N</var> 個のコップと <var>1</var> 個の玉があります。</p>\n<p><var>N</var> 個のコップは左右に <var>1</var> 列に並べられています。</p>\n<p>コップを全てひっくり返して、 左から <var>1</var> 番目のコップの中に玉を入れました。</p>\n<p>以下のような操作を <var>Q</var> 回行います。</p>\n<ul>\n<li><var>i</var> 回目の操作：左から <var>A_i</var> 番目のコップと左から <var>B_i</var> 番目のコップの場所を入れ替える。このときコップの中に玉が入っていれば、玉もコップとともに場所が移る。</li>\n</ul>\n<p>あなたはマジシャンなので、以下の超能力を使うことが出来ます。</p>\n<ul>\n<li>超能力：左から <var>i</var> 番目のコップに玉が入っているとき、その玉を隣のコップ(左から<var>i-1</var> 番目もしくは <var>i+1</var> 番目のコップ)の中に瞬間移動させる。ただし、左から<var>0</var> 番目や <var>N+1</var> 番目のコップは存在しないので、そこに瞬間移動させることはできない。</li>\n</ul>\n<p>超能力は、すべての操作を始める前か、操作と操作の間か、すべての操作を終えた後に使うことが出来ます。</p>\n<p>ただし、超能力を使って良いのは全体を通してたかだか <var>1</var> 回までです。</p>\n<p>全ての操作とたかだか <var>1</var> 回の超能力の使用が終了したときに玉が入っている可能性があるコップの個数を求めてください。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>2 \\leq N \\leq 10^5</var></li>\n<li><var>1 \\leq Q \\leq 10^5</var></li>\n<li><var>1 \\leq A_i &lt; B_i \\leq N</var></li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>\n<pre><var>N</var> <var>Q</var>\n<var>A_1</var> <var>B_1</var>\n<var>A_2</var> <var>B_2</var>\n<var>:</var>          \n<var>A_Q</var> <var>B_Q</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>最終的に玉が入っている可能性があるコップの個数を出力せよ。</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>10 3\n1 3\n2 4\n4 5\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>4\n</pre>\n\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>20 3\n1 7\n8 20\n1 19\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>5\n</pre></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>100</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>You have <var>N</var> cups and <var>1</var> ball.</p>\n<p>The cups are arranged in a row, from left to right.</p>\n<p>You turned down all the cups, then inserted the ball into the leftmost cup.</p>\n<p>Then, you will perform the following <var>Q</var> operations:</p>\n<ul>\n<li>The <var>i</var>-th operation: swap the positions of the <var>A_i</var>-th and <var>B_i</var>-th cups from the left. If one of these cups contains the ball, the ball will also move.</li>\n</ul>\n<p>Since you are a magician, you can cast a magic described below:</p>\n<ul>\n<li>Magic: When the ball is contained in the <var>i</var>-th cup from the left, teleport the ball into the adjacent cup (that is, the <var>(i-1)</var>-th or <var>(i+1)</var>-th cup, if they exist).</li>\n</ul>\n<p>The magic can be cast before the first operation, between two operations, or after the last operation, but you are allowed to cast it at most once during the whole process.</p>\n<p>Find the number of cups with a possibility of containing the ball after all the operations and possibly casting the magic.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>2 \\leq N \\leq 10^5</var></li>\n<li><var>1 \\leq Q \\leq 10^5</var></li>\n<li><var>1 \\leq A_i &lt; B_i \\leq N</var></li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>The input is given from Standard Input in the following format:</p>\n<pre><var>N</var> <var>Q</var>\n<var>A_1</var> <var>B_1</var>\n<var>A_2</var> <var>B_2</var>\n:          \n<var>A_Q</var> <var>B_Q</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>Print the number of cups with a possibility of eventually containing the ball.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>10 3\n1 3\n2 4\n4 5\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>4\n</pre>\n\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>20 3\n1 7\n8 20\n1 19\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>5\n</pre></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/cf16-relay-open/tasks/relay_g"}