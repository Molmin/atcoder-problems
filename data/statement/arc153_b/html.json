{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>500</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p>縦 <var>H</var> 行，横 <var>W</var> 列のグリッドがあります．はじめ，上から <var>i</var> 行目，左から <var>j</var> 列目のマスには英小文字 <var>A_{i,j}</var> が書かれています．</p>\n<p>このグリッドに対して <var>Q</var> 回の操作を行います．<var>i</var> 回目の操作では，<var>1\\leq a_i \\leq H-1</var>, <var>1\\leq b_i\\leq W-1</var> を満たす整数 <var>a_i, b_i</var> が与えられ，次を行います．</p>\n<ul>\n<li>グリッド内の長方形領域 <var>R_1, R_2, R_3, R_4</var> を次で定める：<ul>\n<li>上から <var>a_i</var> 行，左から <var>b_i</var> 列の部分を <var>R_1</var> とする．</li>\n<li>上から <var>a_i</var> 行，右から <var>W-b_i</var> 列の部分を <var>R_2</var> とする．</li>\n<li>下から <var>H-a_i</var> 行，左から <var>b_i</var> 列の部分を <var>R_3</var> とする．</li>\n<li>下から <var>H-a_i</var> 行，右から <var>W-b_i</var> 列の部分を <var>R_4</var> とする．</li>\n</ul>\n</li>\n<li><var>R_1, R_2, R_3, R_4</var> のそれぞれを <var>180</var> 度回転する．</li>\n</ul>\n<p>ただし，グリッド内の長方形領域 <var>R</var> の <var>180</var> 度回転とは，<var>R</var> において上から <var>i</var> 番目，左から <var>j</var> 番目のマスに書かれた文字を，<var>R</var> において 下から <var>i</var> 番目，右から <var>j</var> 番目のマスに移すことをいいます．入出力例の図も参考にしてください．</p>\n<p><var>Q</var> 回すべての操作を行ったとき，操作後のグリッドの状態を出力してください．</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>2\\leq H, W</var> かつ <var>HW \\leq 5\\times 10^5</var></li>\n<li><var>A_{i,j}</var> は英小文字</li>\n<li><var>1\\leq Q\\leq 2\\times 10^5</var></li>\n<li><var>1\\leq a_i\\leq H - 1</var></li>\n<li><var>1\\leq b_i\\leq W - 1</var></li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられます．</p>\n<pre><var>H</var> <var>W</var>\n<var>A_{1,1}\\cdots A_{1, W}</var>\n<var>\\vdots</var>\n<var>A_{H,1}\\cdots A_{H, W}</var>\n<var>Q</var>\n<var>a_1</var> <var>b_1</var>\n<var>\\vdots</var>\n<var>a_Q</var> <var>b_Q</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>操作後のマス <var>(i,j)</var> に書かれている文字を <var>B_{i,j}</var> とするとき，操作後のグリッドの状態を，次の形式で出力してください．</p>\n<pre><var>B_{1,1}\\cdots B_{1, W}</var>\n<var>\\vdots</var>\n<var>B_{H,1}\\cdots B_{H, W}</var>\n</pre>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>4 5\nabcde\nfghij\nklmno\npqrst\n1\n3 3\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>mlkon\nhgfji\ncbaed\nrqpts\n</pre>\n<p>グリッドの状態は次の図のように変化します．</p>\n<p><img width=\"500\" src=\"https://img.atcoder.jp/arc153/5503f0a5f92e488238556b943aa1d6b7.png\"></p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>3 7\natcoder\nregular\ncontest\n2\n1 1\n2 5\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>testcon\noderatc\nularreg\n</pre>\n<p>グリッドの状態は次の図のように変化します．</p>\n<p><img width=\"500\" src=\"https://img.atcoder.jp/arc153/353f0b30a9561e38967fb3aedf5767c5.png\"></p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 3</h3><pre>2 2\nac\nwa\n3\n1 1\n1 1\n1 1\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 3</h3><pre>ac\nwa\n</pre>\n<p>グリッドの状態は次の図のように変化します．</p>\n<p><img width=\"500\" src=\"https://img.atcoder.jp/arc153/655a0ac98f0625e806f6abc97853a437.png\"></p></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>500</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>We have a grid with <var>H</var> rows from top to bottom and <var>W</var> columns from left and right. Initially, the square at the <var>i</var>-th row from the top and <var>j</var>-th column from the left has a lowercase English letter <var>A_{i,j}</var>.</p>\n<p>Let us perform <var>Q</var> operations on this grid. In the <var>i</var>-th operation, we are given integers <var>a_i</var> and <var>b_i</var> such that <var>1\\leq a_i \\leq H-1</var> and <var>1\\leq b_i\\leq W-1</var>, and do the following.</p>\n<ul>\n<li>Let <var>R_1</var>, <var>R_2</var>, <var>R_3</var>, and <var>R_4</var> be rectangular regions within the grid defined as follows:<ul>\n<li><var>R_1</var> is the intersection of the top <var>a_i</var> rows and leftmost <var>b_i</var> columns;</li>\n<li><var>R_2</var> is the intersection of the top <var>a_i</var> rows and rightmost <var>W-b_i</var> columns;</li>\n<li><var>R_3</var> is the intersection of the bottom <var>H-a_i</var> rows and leftmost <var>b_i</var> columns;</li>\n<li><var>R_4</var> is the intersection of the bottom <var>H-a_i</var> rows and rightmost <var>W-b_i</var> columns.</li>\n</ul>\n</li>\n<li>Rotate <var>180</var> degrees each of <var>R_1</var>, <var>R_2</var>, <var>R_3</var>, and <var>R_4</var>.</li>\n</ul>\n<p>Here, a <var>180</var>-degree rotation of a rectangular region <var>R</var> within the grid moves the character on the square at the <var>i</var>-th from the top and <var>j</var>-th column from the left in <var>R</var> to the square at the <var>i</var>-th from the bottom and <var>j</var>-th column from the right in <var>R</var>. See also the figures for the samples.</p>\n<p>Print the grid after all <var>Q</var> operations.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>2\\leq H, W</var>, and <var>HW \\leq 5\\times 10^5</var>.</li>\n<li><var>A_{i,j}</var> is a lowercase English letter.</li>\n<li><var>1\\leq Q\\leq 2\\times 10^5</var></li>\n<li><var>1\\leq a_i\\leq H - 1</var></li>\n<li><var>1\\leq b_i\\leq W - 1</var></li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>The input is given from Standard Input in the following format:</p>\n<pre><var>H</var> <var>W</var>\n<var>A_{1,1}\\cdots A_{1, W}</var>\n<var>\\vdots</var>\n<var>A_{H,1}\\cdots A_{H, W}</var>\n<var>Q</var>\n<var>a_1</var> <var>b_1</var>\n<var>\\vdots</var>\n<var>a_Q</var> <var>b_Q</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>Print the grid after the operations in the following format, where <var>B_{i,j}</var> is the character on the square <var>(i,j)</var> on the final grid.</p>\n<pre><var>B_{1,1}\\cdots B_{1, W}</var>\n<var>\\vdots</var>\n<var>B_{H,1}\\cdots B_{H, W}</var>\n</pre>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>4 5\nabcde\nfghij\nklmno\npqrst\n1\n3 3\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>mlkon\nhgfji\ncbaed\nrqpts\n</pre>\n<p>The grid will change as follows.</p>\n<p><img width=\"500\" src=\"https://img.atcoder.jp/arc153/5503f0a5f92e488238556b943aa1d6b7.png\"></p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>3 7\natcoder\nregular\ncontest\n2\n1 1\n2 5\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>testcon\noderatc\nularreg\n</pre>\n<p>The grid will change as follows.</p>\n<p><img width=\"500\" src=\"https://img.atcoder.jp/arc153/353f0b30a9561e38967fb3aedf5767c5.png\"></p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 3</h3><pre>2 2\nac\nwa\n3\n1 1\n1 1\n1 1\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 3</h3><pre>ac\nwa\n</pre>\n<p>The grid will change as follows.</p>\n<p><img width=\"500\" src=\"https://img.atcoder.jp/arc153/655a0ac98f0625e806f6abc97853a437.png\"></p></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/arc153/tasks/arc153_b"}