{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>500</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p>AtCoder に参加している幼児が <var>N</var> 人おり、<var>1</var> から <var>N</var> の番号が付けられています。また、幼稚園が <var>2\\times 10^5</var> 校あり、<var>1</var> から <var>2\\times 10^5</var> の番号が付けられています。\n幼児 <var>i</var> のレートは <var>A_i</var> であり、はじめ幼稚園 <var>B_i</var> に所属しています。</p>\n<p>これから <var>Q</var> 回にわたって、転園が行われます。\n<var>j</var> 回目の転園では、幼児 <var>C_j</var> の所属を幼稚園 <var>D_j</var> に変更します。</p>\n<p>ここで、「平等さ」を、AtCoderに参加している幼児が一人以上いるような幼稚園それぞれについて園内で最もレートの高い幼児のレートを求め、その最小値として得られる値とします。</p>\n<p><var>Q</var> 回それぞれの転園後の平等さを求めてください。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>1 \\leq N,Q \\leq 2 \\times 10^5</var></li>\n<li><var>1 \\leq A_i \\leq 10^9</var></li>\n<li><var>1 \\leq C_j \\leq N</var></li>\n<li><var>1 \\leq B_i,D_j \\leq 2 \\times 10^5</var></li>\n<li>入力はすべて整数である。</li>\n<li><var>j</var> 回目の転園の前後で幼児 <var>C_j</var> の所属は異なる。</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>\n<pre><var>N</var> <var>Q</var>\n<var>A_1</var> <var>B_1</var>\n<var>A_2</var> <var>B_2</var>\n<var>:</var>\n<var>A_N</var> <var>B_N</var>\n<var>C_1</var> <var>D_1</var>\n<var>C_2</var> <var>D_2</var>\n<var>:</var>\n<var>C_Q</var> <var>D_Q</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p><var>Q</var> 行出力せよ。\n<var>j</var> 行目には、<var>j</var> 回目の転園の後の平等さを出力せよ。</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>6 3\n8 1\n6 2\n9 3\n1 1\n2 2\n1 3\n4 3\n2 1\n1 2\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>6\n2\n6\n</pre>\n\n<p>はじめ、幼稚園 <var>1</var> には幼児 <var>1, 4</var>、幼稚園 <var>2</var> には幼児 <var>2, 5</var>、幼稚園 <var>3</var> には幼児 <var>3, 6</var> が所属しています。</p>\n<p><var>1</var> 回目の転園で幼児 <var>4</var> の所属を幼稚園 <var>3</var> に変更すると、幼稚園 <var>1</var> には幼児 <var>1</var>、幼稚園 <var>2</var> には幼児 <var>2, 5</var>、幼稚園 <var>3</var> には幼児 <var>3, 4, 6</var> が所属している状態になります。幼稚園 <var>1</var> で最もレートの高い幼児のレートは <var>8</var>、幼稚園 <var>2</var> では <var>6</var>、幼稚園 <var>3</var> では <var>9</var> です。これらの最小値は <var>6</var> であるので、<var>1</var> 行目には <var>6</var> を出力します。</p>\n<p><var>2</var> 回目の転園で <var>2</var> 番目の幼児の所属を幼稚園 <var>1</var> に変更すると、幼稚園 <var>1</var> には幼児 <var>1, 2</var>、幼稚園 <var>2</var> には幼児 <var>5</var>、幼稚園 <var>3</var> には幼児 <var>3, 4, 6</var> が所属している状態になります。幼稚園 <var>1</var> で最もレートの高い幼児のレートは <var>8</var>、幼稚園 <var>2</var> では <var>2</var>、幼稚園 <var>3</var> では <var>9</var> です。これらの最小値は <var>2</var> であるので、<var>2</var> 行目には <var>2</var> を出力します。</p>\n<p><var>3</var> 回目の転園で <var>1</var> 番目の幼児の所属を幼稚園 <var>2</var> に変更すると、幼稚園 <var>1</var> には幼児 <var>2</var>、幼稚園 <var>2</var> には幼児 <var>1, 5</var>、幼稚園 <var>3</var> には幼児 <var>3, 4, 6</var> が所属している状態になります。幼稚園 <var>1</var> で最もレートの高い幼児のレートは <var>6</var>、幼稚園 <var>2</var> では <var>8</var>、幼稚園 <var>3</var> では <var>9</var> です。これらの最小値は <var>6</var> であるので、<var>3</var> 行目には <var>6</var> を出力します。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>2 2\n4208 1234\n3056 5678\n1 2020\n2 2020\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>3056\n4208\n</pre></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>500</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>There are <var>N</var> infants registered in AtCoder, numbered <var>1</var> to <var>N</var>, and <var>2\\times 10^5</var> kindergartens, numbered <var>1</var> to <var>2\\times 10^5</var>.\nInfant <var>i</var> has a rating of <var>A_i</var> and initially belongs to Kindergarten <var>B_i</var>.</p>\n<p>From now on, <var>Q</var> transfers will happen.\nAfter the <var>j</var>-th transfer, Infant <var>C_j</var> will belong to Kindergarten <var>D_j</var>.</p>\n<p>Here, we define the <em>evenness</em> as follows. For each kindergarten with one or more infants registered in AtCoder, let us find the highest rating of an infant in the kindergarten. The evenness is then defined as the lowest among those ratings.</p>\n<p>For each of the <var>Q</var> transfers, find the evenness just after the transfer.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>1 \\leq N,Q \\leq 2 \\times 10^5</var></li>\n<li><var>1 \\leq A_i \\leq 10^9</var></li>\n<li><var>1 \\leq C_j \\leq N</var></li>\n<li><var>1 \\leq B_i,D_j \\leq 2 \\times 10^5</var></li>\n<li>All values in input are integers.</li>\n<li>In the <var>j</var>-th transfer, Infant <var>C_j</var> changes the kindergarten it belongs to.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>Input is given from Standard Input in the following format:</p>\n<pre><var>N</var> <var>Q</var>\n<var>A_1</var> <var>B_1</var>\n<var>A_2</var> <var>B_2</var>\n<var>:</var>\n<var>A_N</var> <var>B_N</var>\n<var>C_1</var> <var>D_1</var>\n<var>C_2</var> <var>D_2</var>\n<var>:</var>\n<var>C_Q</var> <var>D_Q</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>Print <var>Q</var> lines.\nThe <var>j</var>-th line should contain the evenness just after the <var>j</var>-th transfer.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>6 3\n8 1\n6 2\n9 3\n1 1\n2 2\n1 3\n4 3\n2 1\n1 2\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>6\n2\n6\n</pre>\n\n<p>Initially, Infant <var>1, 4</var> belongs to Kindergarten <var>1</var>, Infant <var>2, 5</var> belongs to Kindergarten <var>2</var>, and Infant <var>3, 6</var> belongs to Kindergarten <var>3</var>.</p>\n<p>After the <var>1</var>-st transfer that makes Infant <var>4</var> belong to Kindergarten <var>3</var>, Infant <var>1</var> belongs to Kindergarten <var>1</var>, Infant <var>2, 5</var> belong to Kindergarten <var>2</var>, and Infant <var>3, 4, 6</var> belong to Kindergarten <var>3</var>. The highest ratings of an infant in Kindergarten <var>1, 2, 3</var> are <var>8, 6, 9</var>, respectively. The lowest among them is <var>6</var>, so the <var>1</var>-st line in the output should contain <var>6</var>.</p>\n<p>After the <var>2</var>-nd transfer that makes Infant <var>2</var> belong to Kindergarten <var>1</var>, Infant <var>1, 2</var> belong to Kindergarten <var>1</var>, Infant <var>5</var> belongs to Kindergarten <var>2</var>, and Infant <var>3, 4, 6</var> belong to Kindergarten <var>3</var>. The highest ratings of an infant in Kindergarten <var>1, 2, 3</var> are <var>8, 2, 9</var>, respectively. The lowest among them is <var>2</var>, so the <var>2</var>-nd line in the output should contain <var>2</var>.</p>\n<p>After the <var>3</var>-rd transfer that makes Infant <var>1</var> belong to Kindergarten <var>2</var>, Infant <var>2</var> belongs to Kindergarten <var>1</var>, Infant <var>1, 5</var> belong to Kindergarten <var>2</var>, and Infant <var>3, 4, 6</var> belong to Kindergarten <var>3</var>. The highest ratings of an infant in Kindergarten <var>1, 2, 3</var> are <var>6, 8, 9</var>, respectively. The lowest among them is <var>6</var>, so the <var>3</var>-rd line in the output should contain <var>6</var>.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>2 2\n4208 1234\n3056 5678\n1 2020\n2 2020\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>3056\n4208\n</pre></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/abc170/tasks/abc170_e"}