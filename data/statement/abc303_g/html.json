{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>550</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p><var>N</var> 個の袋が左右一列に並んでいて、左から <var>i</var> 番目の袋には <var>x_i</var> 円が入っています。  </p>\n<p>十分多くのお金を持っている高橋君と青木君が、高橋君を先手として交互に次の操作をします。</p>\n<ul>\n<li>以下の <var>3</var> 種類の操作のうち <var>1</var> つを選んで行う。<ul>\n<li>右端または左端の袋を <var>1</var> 個選んで取る。</li>\n<li><var>A</var> 円をすぬけ君に支払う。そして、「右端または左端の袋を <var>1</var> 個選んで取る」という操作を <var>\\min(B,n)</var> (<var>n</var> は残っている袋の個数) 回繰り返す。</li>\n<li><var>C</var> 円をすぬけ君に支払う。そして、「右端または左端の袋を <var>1</var> 個選んで取る」という操作を <var>\\min(D,n)</var> (<var>n</var> は残っている袋の個数) 回繰り返す。</li>\n</ul>\n</li>\n</ul>\n<p>残っている袋が無くなった時点での高橋君の利得を「(高橋君が取った袋に入っている金額の総和) <var>-</var> (高橋君がすぬけ君に支払った金額の総和)」とし、これを <var>X</var> 円とします。また、青木君の利得についても同様に定め、<var>Y</var> 円とします。</p>\n<p>高橋君が <var>X-Y</var> を最大化、青木君が <var>X-Y</var> を最小化することを目的に最適な操作をしたときの <var>X-Y</var> を求めてください。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>1 \\leq N \\leq 3000</var></li>\n<li><var>1 \\leq x_i \\leq 10^9</var></li>\n<li><var>1 \\leq A,C \\leq 10^9</var></li>\n<li><var>1 \\leq B,D \\leq N</var></li>\n<li>入力はすべて整数</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>\n<pre><var>N</var> <var>A</var> <var>B</var> <var>C</var> <var>D</var>\n<var>x_1</var> <var>x_2</var> <var>\\ldots</var> <var>x_N</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>答えを出力せよ。</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>5 10 2 1000000000 1\n1 100 1 1 1\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>90\n</pre>\n<p>高橋君と青木君が最適な操作をしたとき、<var>X=92, Y=2</var> となります。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>10 45 3 55 4\n5 10 15 20 25 30 35 40 45 50\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>85\n</pre>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 3</h3><pre>15 796265 10 165794055 1\n18804175 185937909 1934689 18341 68370722 1653 1 2514380 31381214 905 754483 11 5877098 232 31600\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 3</h3><pre>302361955\n</pre></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>550</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p><var>N</var> bags are arranged in a row.  The <var>i</var>-th bag contains <var>x_i</var> yen (the currency in Japan).  </p>\n<p>Takahashi and Aoki, who have sufficient money, take alternating turns to perform the following action:</p>\n<ul>\n<li>choose one of the following three actions and perform it.<ul>\n<li>choose the leftmost or rightmost bag and take it.</li>\n<li>pay <var>A</var> yen to Snuke.  Then, repeat the following action <var>\\min(B,n)</var> times (where <var>n</var> is the number of the remaining bags): choose the leftmost or rightmost bag and take it.</li>\n<li>pay <var>C</var> yen to Snuke.  Then, repeat the following action <var>\\min(D,n)</var> times (where <var>n</var> is the number of the remaining bags): choose the leftmost or rightmost bag and take it.</li>\n</ul>\n</li>\n</ul>\n<p>When all the bags are taken, Takahashi's benefit is defined by \"(total amount of money in the bags that Takahashi took) - (total amount of money that Takahashi paid to snuke)\"; let this amount be <var>X</var> yen.  We similarly define Aoki's benefit, denoting the amount by <var>Y</var> yen.</p>\n<p>Find <var>X-Y</var> if Takahashi and Aoki make optimal moves to respectively maximize and minimize <var>X-Y</var>.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>1 \\leq N \\leq 3000</var></li>\n<li><var>1 \\leq x_i \\leq 10^9</var></li>\n<li><var>1 \\leq A,C \\leq 10^9</var></li>\n<li><var>1 \\leq B,D \\leq N</var></li>\n<li>All values in the input are integers.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>The input is given from Standard Input in the following format:</p>\n<pre><var>N</var> <var>A</var> <var>B</var> <var>C</var> <var>D</var>\n<var>x_1</var> <var>x_2</var> <var>\\ldots</var> <var>x_N</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>Print the answer.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>5 10 2 1000000000 1\n1 100 1 1 1\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>90\n</pre>\n<p>If Takahashi and Aoki make optimal moves, it ends up being <var>X=92</var> and <var>Y=2</var>.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>10 45 3 55 4\n5 10 15 20 25 30 35 40 45 50\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>85\n</pre>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 3</h3><pre>15 796265 10 165794055 1\n18804175 185937909 1934689 18341 68370722 1653 1 2514380 31381214 905 754483 11 5877098 232 31600\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 3</h3><pre>302361955\n</pre></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/abc303/tasks/abc303_g"}