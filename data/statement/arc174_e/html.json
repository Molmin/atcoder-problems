{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>700</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p>整数 <var>N,K</var> が与えられます。このとき、以下の条件を全て満たす長さ <var>K</var> の数列 <var>a=(a_1,a_2,\\dots,a_K)</var> を考えます。</p>\n<ul>\n<li><var>a_i</var> は <var>1 \\le a_i \\le N</var> を満たす整数である</li>\n<li><var>a</var> の全ての要素は相異なる</li>\n</ul>\n<p><var>a</var> として考えられる数列を辞書順に全て並べた 「数列の列」 を辞書 <var>s</var> とします。</p>\n<p>辞書 <var>s</var> 中に存在する数列 <var>P</var> が与えられるので、整数 <var>t=1,2,\\dots,N</var> に対して以下の質問に答えてください。</p>\n<ul>\n<li>以下の条件を全て満たす数列 <var>b</var> の個数を <var>998244353</var> で割った余りを求めよ。<ul>\n<li>数列 <var>b</var> は辞書 <var>s</var> 中に存在する。</li>\n<li>数列 <var>b</var> 中に整数 <var>t</var> が含まれる。</li>\n<li>数列 <var>b</var> は辞書順で数列 <var>P</var> 以下である。</li>\n</ul>\n</li>\n</ul>\n<details> <summary>数列の辞書順とは？</summary>\n数列 <var>A = (A_1, \\ldots, A_{|A|})</var> が <var>B = (B_1, \\ldots, B_{|B|})</var> より<strong>辞書順で真に小さい</strong>とは、下記の 1. と 2. のどちらかが成り立つことを言います。\n<ol>\n<li><var>|A|&lt;|B|</var> かつ <var>(A_{1},\\ldots,A_{|A|}) = (B_1,\\ldots,B_{|A|})</var> である。</li>\n<li>ある整数 <var>1\\leq i\\leq \\min\\{|A|,|B|\\}</var> が存在して、下記の <var>2</var> つがともに成り立つ。\n<ul>\n<li><var>(A_{1},\\ldots,A_{i-1}) = (B_1,\\ldots,B_{i-1})</var></li>\n<li><var>A_i &lt; B_i</var></li>\n</ul>\n</li></ol>\n</details>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li>入力は全て整数</li>\n<li><var>1 \\le K \\le N \\le 3 \\times 10^5</var></li>\n<li><var>P</var> は問題文中の条件を満たす。</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>\n<pre><var>N</var> <var>K</var>\n<var>P_1</var> <var>P_2</var> <var>\\dots</var> <var>P_K</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>全体で <var>N</var> 行出力せよ。<br>\nこのうち <var>i</var> 行目には、 <var>t=i</var> であるときの質問の答えを整数として出力せよ。</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>4 2\n3 2\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>5\n5\n4\n2\n</pre>\n\n<p>この入力では、 <var>N=4,K=2</var> です。<br>\nこのとき、辞書 <var>s=((1,2),(1,3),(1,4),(2,1),(2,3),(2,4),(3,1),(3,2),(3,4),(4,1),(4,2),(4,3))</var> となります。</p>\n<p>辞書 <var>s</var> に含まれ、かつ辞書順で <var>(3,2)</var> 以下である数列のうち、</p>\n<ul>\n<li><var>1</var> が含まれるものは <var>(1,2),(1,3),(1,4),(2,1),(3,1)</var> の <var>5</var> 個</li>\n<li><var>2</var> が含まれるものは <var>(1,2),(2,1),(2,3),(2,4),(3,2)</var> の <var>5</var> 個</li>\n<li><var>3</var> が含まれるものは <var>(1,3),(2,3),(3,1),(3,2)</var> の <var>4</var> 個</li>\n<li><var>4</var> が含まれるものは <var>(1,4),(2,4)</var> の <var>2</var> 個</li>\n</ul>\n<p>です。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>18 13\n5 13 11 2 18 1 10 15 17 4 12 7 3\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>925879409\n905921009\n665544804\n665544719\n783035803\n349952762\n349952758\n349952757\n349952757\n349921178\n212092637\n710350150\n378895603\n129113201\n129111892\n129098081\n129096772\n110181652\n</pre></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score: <var>700</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>You are given integers <var>N</var> and <var>K</var>. Consider a sequence <var>a=(a_1,a_2,\\dots,a_K)</var> of length <var>K</var> that satisfies all of the following conditions:</p>\n<ul>\n<li><var>a_i</var> is an integer such that <var>1 \\le a_i \\le N</var>.</li>\n<li>All elements in <var>a</var> are different.</li>\n</ul>\n<p>Let us arrange all possible sequences <var>a</var> in lexicographical order to form a \"sequence of sequences\" called the dictionary <var>s</var>.</p>\n<p>Given a sequence <var>P</var> that exists in the dictionary <var>s</var>, answer the following question for each integer <var>t=1,2,\\dots,N</var>:</p>\n<ul>\n<li>Find the number, modulo <var>998244353</var>, of sequences <var>b</var> that satisfy all of the following conditions:<ul>\n<li>The sequence <var>b</var> exists in the dictionary <var>s</var>.</li>\n<li>The integer <var>t</var> is contained in the sequence <var>b</var>.</li>\n<li>The sequence <var>b</var> is lexicographically less than or equal to the sequence <var>P</var>.</li>\n</ul>\n</li>\n</ul>\n<details> <summary>What is lexicographical order for sequences?</summary>\nA sequence <var>A = (A_1, \\ldots, A_{|A|})</var> is <strong>lexicographically strictly less</strong> than <var>B = (B_1, \\ldots, B_{|B|})</var> if and only if 1. or 2. below is satisfied:\n<ol>\n<li><var>|A|&lt;|B|</var> and <var>(A_{1},\\ldots,A_{|A|}) = (B_1,\\ldots,B_{|A|})</var>.</li>\n<li>There is an integer <var>1\\leq i\\leq \\min\\{|A|,|B|\\}</var> that satisfies both of the following:\n<ul>\n<li><var>(A_{1},\\ldots,A_{i-1}) = (B_1,\\ldots,B_{i-1})</var></li>\n<li><var>A_i &lt; B_i</var></li>\n</ul>\n</li></ol>\n</details>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li>All input values are integers.</li>\n<li><var>1 \\le K \\le N \\le 3 \\times 10^5</var></li>\n<li><var>P</var> satisfies the condition in the problem statement.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>The input is given from Standard Input in the following format:</p>\n<pre><var>N</var> <var>K</var>\n<var>P_1</var> <var>P_2</var> <var>\\dots</var> <var>P_K</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>Print <var>N</var> lines in total.<br>\nThe <var>i</var>-th line should contain the answer to the problem for <var>t=i</var> as an integer.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>4 2\n3 2\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>5\n5\n4\n2\n</pre>\n\n<p>In this input, <var>N=4,K=2</var>.<br>\nHere, the dictionary <var>s</var> is <var>((1,2),(1,3),(1,4),(2,1),(2,3),(2,4),(3,1),(3,2),(3,4),(4,1),(4,2),(4,3))</var>.</p>\n<p>Among the sequences in the dictionary <var>s</var> that are lexicographically less than or equal to <var>(3,2)</var>,</p>\n<ul>\n<li>five sequences contain <var>1</var>: <var>(1,2),(1,3),(1,4),(2,1),(3,1)</var>,</li>\n<li>five sequences contain <var>2</var>: <var>(1,2),(2,1),(2,3),(2,4),(3,2)</var>,</li>\n<li>four sequences contain <var>3</var>: <var>(1,3),(2,3),(3,1),(3,2)</var>,</li>\n<li>two sequences contain <var>4</var>: <var>(1,4),(2,4)</var>.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>18 13\n5 13 11 2 18 1 10 15 17 4 12 7 3\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>925879409\n905921009\n665544804\n665544719\n783035803\n349952762\n349952758\n349952757\n349952757\n349921178\n212092637\n710350150\n378895603\n129113201\n129111892\n129098081\n129096772\n110181652\n</pre></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/arc174/tasks/arc174_e"}