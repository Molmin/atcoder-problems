{"html":{"ja":"<span class=\"lang-ja\">\n\n<div class=\"part\">\n<section>\n<h3>ストーリー</h3><p>巨大企業のAtCoder社は多数のオフィスを所有している。\n超機密情報である出題予定の問題文を安全に共有するため、いくつかのオフィス間に量子暗号を用いた専用回線を敷くことにした。\n専用回線で結ぶオフィスペアの候補はいくつかあり、全てのオフィスが専用回線によって連結となるようにしたい。\n専用回線を敷く費用は回線の長さに比例するが、物理的な制約により直線で引けるとは限らないため、各候補について正確な費用の見積もりを業者に依頼している。\n高橋社長はせっかちなため、一つの候補についての見積もりを受け取ったら、即座にその回線を敷くかどうかを決定する。\n高橋社長のサポートをして、出来るだけ安い費用で目的を達成してほしい。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p>頂点数が <var>N</var>、辺の数が <var>M</var> の無向グラフが与えられる。\n各頂点は二次元平面上にあり、<var>i</var> 番目の頂点の座標は <var>(x_i, y_i)</var> である。\n<var>i</var> 番目の辺は頂点 <var>u_i</var> と <var>v_i</var> を結び、その長さ <var>l_i</var> は、端点の間のユークリッド距離を整数に四捨五入したものを <var>d_i=\\mathrm{round}(\\sqrt{(x_{u_i}-x_{v_i})^2+(y_{u_i}-y_{v_i})^2})</var> とすると、\n<var>d_i \\leq l_i \\leq 3 d_i</var> を満たすことが事前に分かっている。</p>\n<p>辺の長さ <var>l_i</var> の正確な情報が <var>i=0</var> 番目の辺から <var>i=M-1</var> 番目の辺まで順番に一つずつ与えられる。\n辺の長さの情報を一つ受け取ったら、次の辺の情報を受け取る前に、その辺を採用するかしないかを決定せよ。</p>\n<p>最終的に採用した辺の集合を <var>S</var> としたとき、全ての頂点対について、<var>S</var> に含まれる辺のみを通って行き来出来なければならない。\n採用した辺の総長が出来るだけ短くなるように意思決定して欲しい。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>入出力</h3><p>全てのテストケースにおいて、<var>N=400</var>、<var>M=1995</var> で固定である。\nまずはじめに、<var>N</var> 個の頂点の座標 <var>(x_0,y_0), \\cdots, (x_{N-1},y_{N-1})</var> と、<var>M</var> 個の辺の端点 <var>(u_0,v_0), \\cdots, (u_{M-1},v_{M-1})</var> が以下の形式で標準入力から与えられる。</p>\n<pre><var>x_0</var> <var>y_0</var>\n<var>\\vdots</var>\n<var>x_{N-1}</var> <var>y_{N-1}</var>\n<var>u_0</var> <var>v_0</var>\n<var>\\vdots</var>\n<var>u_{M-1}</var> <var>v_{M-1}</var>\n</pre>\n\n<p>以下を満たすことが保証されている。</p>\n<ul>\n<li><var>0\\leq x_i,y_i\\leq 800</var></li>\n<li><var>0\\leq u_i&lt;v_i\\leq N-1</var></li>\n<li>同じ <var>(u_i,v_i)</var> のペアは複数回現れることはない。</li>\n<li>グラフは連結である。</li>\n</ul>\n<p>次に、以下の処理を <var>M</var> 回繰り返す。</p>\n<p><var>i</var> 回目 (<var>0\\leq i\\leq M-1</var>) の処理では、まず <var>i</var> 番目の辺の長さ <var>l_i</var> が <var>d_i</var> 以上 <var>3d_i</var> 以下の整数値から一様ランダムに生成され、標準入力に一行で与えられる。\n<var>l_i</var> の値を読み込んだら、<var>i</var> 番目の辺を採用する場合には <code>1</code> を、採用しない場合は <code>0</code> を一行で標準出力に出力せよ。\n<font color=\"red\"><strong>出力を行うまで、次の入力は与えられないので注意せよ。出力のあとは標準出力を flush しなければならない。</strong></font>そうしない場合、<span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"実行時間制限超過\">TLE</span>となる可能性がある。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>例</h3><p></p><table class=\"table table-bordered\">\n<thead>\n<tr>\n<th align=\"left\"><var>i</var></th>\n<th align=\"left\">Input</th>\n<th align=\"left\">Output</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">事前情報</td>\n<td align=\"left\"><pre>406 19\n347 786\n<var>\\vdots</var>\n21 191\n</pre></td>\n<td align=\"left\"></td>\n</tr><tr>\n<td align=\"left\"><var>0</var></td>\n<td align=\"left\"><pre>69</pre></td>\n<td align=\"left\"><pre>1</pre></td>\n</tr>\n<tr>\n<td align=\"left\"><var>1</var></td>\n<td align=\"left\"><pre>89</pre></td>\n<td align=\"left\"><pre>0</pre></td>\n</tr>\n<tr>\n<td align=\"center\" colspan=\"3\"><var>\\vdots</var></td>\n</tr>\n<tr>\n<td align=\"left\"><var>M-1</var></td>\n<td align=\"left\"><pre>175</pre></td>\n<td align=\"left\"><pre>0</pre></td>\n</tr>\n</tbody>\n</table><p></p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>得点</h3><p>採用した辺集合の総長を <var>A</var>、\n各辺の真の長さ <var>l_i</var> を事前に全て知っている状態での最適な辺の選び方 (<a href=\"https://ja.wikipedia.org/wiki/%E5%85%A8%E5%9F%9F%E6%9C%A8#%E6%9C%80%E5%B0%8F%E5%85%A8%E5%9F%9F%E6%9C%A8\">最小全域木</a>) の総長を <var>B</var> とすると、<var>\\mathrm{round}(10^8\\times B/A)</var> の得点が得られる。\n採用した辺集合がグラフを連結にしない場合は、<span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"不正解\">WA</span> と判定される。\n提出プログラムが異常終了した場合、 <span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"実行時エラー\">RE</span> ではなく <span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"不正解\">WA</span> と判定される場合があるので注意せよ。</p>\n<p>テストケースは全部で 150 個あり、各テストケースの得点の合計が提出の得点となる。\n1つ以上のテストケースで <span class=\"label label-success\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"正解\">AC</span> 以外の判定がされた場合、提出の得点は0点となる。\nコンテスト時間中に得た最高得点で最終順位が決定され、コンテスト終了後のシステムテストは行われない。\n同じ得点を複数の参加者が得た場合、その得点を獲得した提出の早い方が上位となる。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>入力生成方法</h3><p><var>L</var> 以上 <var>U</var> 以下の整数値を一様ランダムに生成する関数を <var>\\mathrm{rand}(L,U)</var> で表す。</p>\n<h4><var>(x_i,y_i)</var> の生成</h4>\n<p>各 <var>i=0,\\cdots,N-1</var> に対して順番に、<var>x_i=\\mathrm{rand}(0,800)</var>、<var>y_i=\\mathrm{rand}(0,800)</var> を生成する。\n既に生成した頂点の座標<var>(x_j,y_j)</var> (<var>j&lt;i</var>)とのユークリッド距離が <var>5</var> 以下の間、生成をやり直す。</p>\n<h4><var>(u_i,v_i)</var> の生成</h4>\n<p>頂点 <var>i</var> と頂点 <var>j</var> の間に長さ <var>\\mathrm{round}(\\sqrt{(x_i-x_j)^2+(y_i-y_j)^2})</var> の辺を張った完全グラフを <var>G</var> とする。\n以下の処理を <var>5</var> 回繰り返すことで、<var>M=5(N-1)</var> 本の辺集合 <var>E</var> を生成する。</p>\n<blockquote>\n<p><var>G</var> の最小全域木 <var>T</var> を一つ求め、<var>T</var> に含まれる辺を全て <var>G</var> から削除し、<var>E</var> に追加する。</p>\n</blockquote>\n<p>最後に、<var>E</var> に含まれる辺をランダムな順番に並び替えることで、<var>(u_0,v_0),\\cdots,(u_{M-1},v_{M-1})</var> を生成する。</p>\n<h4><var>l_i</var> の生成</h4>\n<p>端点の間のユークリッド距離を整数に四捨五入したものを <var>d_i=\\mathrm{round}(\\sqrt{(x_{u_i}-x_{v_i})^2+(y_{u_i}-y_{v_i})^2})</var> とすると、\n<var>l_i=\\mathrm{rand}(d_i,3 d_i)</var> により生成する。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>ツール(入力ジェネレータ・ビジュアライザ)</h3><ul>\n<li><a href=\"https://img.atcoder.jp/ahc007/a855b6a456c9892b747e147001b0f89.zip\">ローカル版</a>: 使用するには<a href=\"https://www.rust-lang.org/ja\">Rust言語</a>のコンパイル環境をご用意下さい。</li>\n<li><a href=\"https://img.atcoder.jp/ahc007/a855b6a456c9892b747e147001b0f89.html?lang=ja\">Web版</a>: ローカル版より高性能でアニメーション表示が可能です。</li>\n</ul>\n<p><font color=\"red\">コンテスト期間中に、seed=0 に対するビジュアライザの出力画像(pngもしくはgif)のみ twitter で共有が可能です。</font>必ず指定されたハッシュタグを用い、公開アカウントを使用して下さい。<a href=\"https://twitter.com/search?q=%23AHC007%20%23visualizer&amp;src=typed_query&amp;f=live\">共有された画像の一覧</a></p></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n\n<div class=\"part\">\n<section>\n<h3>Story</h3><p>AtCoder, a big tech company, has many offices.\nIn order to securely share super-secret information of problem statements for future contests, we decided to set up private lines using quantum cryptography between the offices.\nThere are several candidates for office pairs that can be connected by private lines, and we want to make sure that all offices are connected by private lines.\nThe cost of setting up a private line is proportional to the length of the line, but due to physical limitations, it is not always possible to set up a straight line, so we have asked vendors to estimate the exact cost for each candidate.\nSince CEO Takahashi is impatient, once he receives the estimate for one candidate, he immediately decides whether to set up that line or not.\nPlease support Takahashi and help him achieve his goal at a lower cost as possible.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>You are given an undirected graph with <var>N</var> vertices and <var>M</var> edges.\nEach vertex is on a two-dimensional plane, and the coordinates of the <var>i</var>-th vertex is <var>(x_i, y_i)</var>.\nThe <var>i</var>-th edge connects vertices <var>u_i</var> and <var>v_i</var>, and we know in advance that its length <var>l_i</var> satisfies <var>d_i \\leq l_i \\leq 3 d_i</var>, where <var>d_i=\\mathrm{round}(\\sqrt{(x_{u_i}-x_{v_i})^2+(y_{u_i}-y_{v_i})^2})</var> is the Euclidean distance between the endpoints rounded to the nearest integer.</p>\n<p>The true edge length <var>l_i</var> will be given one by one in order from <var>i=0</var> to <var>i=M-1</var>.\nAfter receiving the length <var>l_i</var> of the <var>i</var>-th edge, you have to decide whether to adopt that edge or not before receiving the length <var>l_{i+1}</var> of the next edge.</p>\n<p>Let <var>S</var> be the set edges you eventually adopt, then for every vertex pair <var>(u,v)</var>, <var>S</var> must contain a path between <var>u</var> and <var>v</var>.\nPlease make decisions so that the total length of the adopted edges is as short as possible.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Input and Output</h3><p>For all test cases, we fix <var>N=400</var> and <var>M=1995</var>.</p>\n<p>At the start of the execution, the coordinates of <var>N</var> vertices <var>(x_0,y_0), \\cdots, (x_{N-1},y_{N-1})</var> and the endpoints of <var>M</var> edges <var>(u_0,v_0), \\cdots, (u_{M-1},v_{M-1})</var> are given from Standard Input in the following format.</p>\n<pre><var>x_0</var> <var>y_0</var>\n<var>\\vdots</var>\n<var>x_{N-1}</var> <var>y_{N-1}</var>\n<var>u_0</var> <var>v_0</var>\n<var>\\vdots</var>\n<var>u_{M-1}</var> <var>v_{M-1}</var>\n</pre>\n\n<p>It is guaranteed to satisfy the following.</p>\n<ul>\n<li><var>0\\leq x_i,y_i\\leq 800</var></li>\n<li><var>0\\leq u_i&lt;v_i\\leq N-1</var></li>\n<li>The same <var>(u_i,v_i)</var> pair never appears more than once.</li>\n<li>The graph is connected.</li>\n</ul>\n<p>Then, repeat the following process <var>M</var> times.</p>\n<p>In the <var>i</var>-th (<var>0\\leq i\\leq M-1</var>) process, the length <var>l_i</var> of the <var>i</var>-th edge is generated uniformly at random from integers between <var>d_i</var> and <var>3 d_i</var>, and given to Standard Input in a single line.\nAfter reading <var>l_i</var>, output <code>1</code> if you adopt the <var>i</var>-th edge, or <code>0</code> if you don't, in one line to Standard Output.\n<font color=\"red\"><strong>Note that the next input is not given until your program outputs 0 or 1. After the output, you have to flush Standard Output.</strong></font> Otherwise, the submission might be judged as <span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Time Limit Exceeded\">TLE</span> .</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Example</h3><p></p><table class=\"table table-bordered\">\n<thead>\n<tr>\n<th align=\"left\"><var>i</var></th>\n<th align=\"left\">Input</th>\n<th align=\"left\">Output</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">Prior information</td>\n<td align=\"left\"><pre>406 19\n347 786\n<var>\\vdots</var>\n21 191\n</pre></td>\n<td align=\"left\"></td>\n</tr><tr>\n<td align=\"left\"><var>0</var></td>\n<td align=\"left\"><pre>69</pre></td>\n<td align=\"left\"><pre>1</pre></td>\n</tr>\n<tr>\n<td align=\"left\"><var>1</var></td>\n<td align=\"left\"><pre>89</pre></td>\n<td align=\"left\"><pre>0</pre></td>\n</tr>\n<tr>\n<td align=\"center\" colspan=\"3\"><var>\\vdots</var></td>\n</tr>\n<tr>\n<td align=\"left\"><var>M-1</var></td>\n<td align=\"left\"><pre>175</pre></td>\n<td align=\"left\"><pre>0</pre></td>\n</tr>\n</tbody>\n</table><p></p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Scoring</h3><p>Let <var>A</var> be the total length of the set of adopted edges,\n<var>B</var> be the total length of the optimal set of edges under the condition that the true length <var>l_i</var> of every edge is known in advance (<a href=\"https://en.wikipedia.org/wiki/Minimum_spanning_tree\">minimum spanning tree</a>).\nThen, you will get a score of <var>\\mathrm{round}(10^8\\times B/A)</var>.\nWhen the set of adopted edges does not make the graph connected, your submission will be judged as <span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"不正解\">WA</span>.\nNote that if your program terminates abnormally, it may be judged as <span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Wrong Answer\">WA</span> instead of <span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Runtime Error\">RE</span>.</p>\n<p>There are 150 test cases, and the score of a submission is the total score for each test case. If you get a result other than <span class=\"label label-success\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Accepted\">AC</span> for one or more test cases, the score of the submission will be zero. The highest score obtained during the contest time will determine the final ranking, and there will be no system test after the contest. If more than one participant gets the same score, the ranking will be determined by the submission time of the submission that received that score.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Input Generation</h3><p>Let <var>\\mathrm{rand}(L,U)</var> be a function that generates a uniform random integer between <var>L</var> and <var>U</var>, inclusive.</p>\n<h4>Generation of <var>(x_i,y_i)</var></h4>\n<p>For each <var>i=0,\\cdots,N-1</var>, we generate <var>x_i=\\mathrm{rand}(0,800)</var> and <var>y_i=\\mathrm{rand}(0,800)</var>.\nIf the Euclidean distance to the coordinates <var>(x_j,y_j)</var> of an already generated vertex <var>(j&lt;i)</var> is less than or equal to <var>5</var>, we regenerate <var>(x_i,y_i)</var>.</p>\n<h4>Generation of <var>(u_i,v_i)</var></h4>\n<p>Let <var>G</var> be a complete graph with edge length <var>\\mathrm{round}(\\sqrt{(x_i-x_j)^2+(y_i-y_j)^2})</var> between vertex <var>i</var> and <var>j</var>.\nBy repeating the following process <var>5</var> times, we generate a set <var>E</var> of <var>M=5(N-1)</var> edges.</p>\n<blockquote>\n<p>We compute a minimum spanning tree <var>T</var> of <var>G</var>, and remove all edges in <var>T</var> from <var>G</var> and insert them to <var>E</var>.</p>\n</blockquote>\n<p>Finally, by randomly shuffling the order of edges in <var>E</var>, we generate the list of edges <var>(u_0,v_0),\\cdots,(u_{M-1},v_{M-1})</var>.</p>\n<h4>Generation of <var>l_i</var></h4>\n<p>Let <var>d_i=\\mathrm{round}(\\sqrt{(x_{u_i}-x_{v_i})^2+(y_{u_i}-y_{v_i})^2})</var> be the Euclidean distance between the endpoints rounded to the nearest integer.\nThen we generate <var>l_i=\\mathrm{rand}(d_i,3 d_i)</var>.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Tools (Input generator and visualizer)</h3><ul>\n<li><a href=\"https://img.atcoder.jp/ahc007/a855b6a456c9892b747e147001b0f89.zip\">Local version</a>: You need a compilation environment of <a href=\"https://www.rust-lang.org/\">Rust language</a>.</li>\n<li><a href=\"https://img.atcoder.jp/ahc007/a855b6a456c9892b747e147001b0f89.html?lang=en\">Web version</a>: This is more powerful than the local version and can display animations.</li>\n</ul>\n<p><font color=\"red\">You are allowed to share output images (png or gif) of the provided visualizer for seed=0 on twitter during the contest.</font> You have to use the specified hashtag and public account. <a href=\"https://twitter.com/search?q=%23AHC007%20%23visualizer&amp;src=typed_query&amp;f=live\">List of shared images.</a></p></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/ahc007/tasks/ahc007_a"}