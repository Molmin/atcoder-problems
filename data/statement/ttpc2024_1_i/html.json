{"html":{"en":"<span class=\"lang-en\">\n<p>Score: <var>100</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>This is an <strong>interactive problem</strong>, where your program interacts with the judge system via Standard Input and Output.</p>\n<p>You are given integers <var>N</var>, <var>K</var>, and <var>Q</var>.<br>\nThe judge holds a hidden permutation <var>(a_1, a_2, \\dots, a_N)</var> of <var>(1, 2, \\dots, N)</var>.<br>\nYou may ask up to <var>Q</var> queries to the judge, where each query is as follows:</p>\n<ul>\n<li>Choose a subset <var>S</var> from <var>\\lbrace 1, 2, \\dots, N \\rbrace</var>. The judge will return the number of distinct pairs <var>(i, j)</var> such that <var>i &lt; j</var> and <var>|a_i - a_j| \\leq K</var> where <var>i, j \\in S</var>.</li>\n</ul>\n<p>Let <var>x</var> be the index <var>t</var> where <var>a_t = 1</var>, and <var>y</var> be the index <var>t</var> where <var>a_t = N</var>. \nYour task is to identify the set <var>\\lbrace x, y \\rbrace</var>. (You do not need to distinguish which is <var>x</var> and which is <var>y</var>.)</p>\n<p>The judge is non-adaptive, that means the permutation <var>(a_1, a_2, \\dots, a_N)</var> is fixed before any interaction begins.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li>All input values are integers.</li>\n<li><var>N = 20000</var></li>\n<li><var>1 \\leq K \\leq 10</var></li>\n<li><var>Q = 30(K + 1)</var></li>\n</ul>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Partial Score</h3><p><var>30</var> points will be awarded for passing the test set satisfying the additional constraint <var>K = 10</var>.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input and Output</h3><p>This is an interactive problem.</p>\n<p>First, read integers <var>N</var>, <var>K</var>, and <var>Q</var> from the Standard Input:</p>\n<pre><var>N</var> <var>K</var> <var>Q</var>\n</pre>\n<p>Then, repeat the following process until you identify the set <var>\\lbrace x, y \\rbrace</var>:</p>\n<p>For a query, output the following format to the Standard Output:</p>\n<pre>? <var>s_1s_2 \\dots s_N</var>\n</pre>\n<p>Here, <var>s_1 s_2 \\dots s_N</var> is a binary string of length <var>N</var> representing the subset <var>S</var>, where <var>s_i = {}</var><code>1</code> if <var>i \\in S</var>, and <var>s_i = {}</var><code>0</code> otherwise.</p>\n<p>The response to your query will be provided in the Standard Input in the following format:</p>\n<pre><var>T</var>\n</pre>\n<p>Here, <var>T</var> is the answer to the query, representing the number of distinct pairs <var>(i, j)</var> such that <var>i &lt; j</var> and <var>|a_i - a_j| \\leq K</var> where <var>i, j \\in S</var>.</p>\n<p>Once you identify the set <var>\\lbrace x, y \\rbrace</var>, output the two elements in the following format (order does not matter) and terminate your program immediately:</p>\n<pre>! <var>x</var> <var>y</var>\n</pre>\n<div class=\"part\">\n<section>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Notes</h3>\n<p>\n</p><ul>\n<li><b><span style=\"color:red\">Print a newline and flush Standard Output at the end of each message. Otherwise, you may get a <span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"\" data-original-title=\"Time Limit Exceeded\">TLE</span> verdict.</span></b></li>\n<li>If your query format is invalid or you exceed the number of queries, the judge will respond with <var>T = -1</var>. If you receive this response, you should immediately terminate your program. Otherwise, you may get a <span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"\" data-original-title=\"Time Limit Exceeded\">TLE</span> verdict.</li>\n<li>Beware that unnecessary newlines are considered as malformed.</li>\n</ul>\n<p></p>\n</section>\n</div>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Interaction</h3><p>The following is a sample interaction for <var>N = 5</var>, <var>K = 2</var>, <var>Q = 90</var>. Note that this example does not meet the constraints and will not appear in the test cases.</p>\n<table class=\"table table-bordered\">\n<thead>\n<tr>\n<th>Input</th>\n<th>Output</th>\n<th>Explanation</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td></td>\n<td></td>\n<td>The judge holds the permutation <var>(3, 5, 2, 1, 4)</var>.</td>\n</tr>\n<tr>\n<td><code>5 2 90</code></td>\n<td></td>\n<td>First, integers <var>N</var>, <var>K</var>, and <var>Q</var> are provided.</td>\n</tr>\n<tr>\n<td></td>\n<td><code>? 11000</code></td>\n<td>You query with <var>S = \\lbrace 1, 2 \\rbrace</var>.</td>\n</tr>\n<tr>\n<td><code>1</code></td>\n<td></td>\n<td>Only the pair <var>(1, 2)</var> satisfies the condition, so the judge responds with <code>1</code>.</td>\n</tr>\n<tr>\n<td></td>\n<td><code>? 10011</code></td>\n<td>You query with <var>S = \\lbrace 1, 4, 5 \\rbrace</var>.</td>\n</tr>\n<tr>\n<td><code>2</code></td>\n<td></td>\n<td>The pairs <var>(1, 4)</var> and <var>(1, 5)</var> satisfy the condition, so the judge responds with <code>2</code>.</td>\n</tr>\n<tr>\n<td></td>\n<td><code>! 2 4</code></td>\n<td>You output <var>\\lbrace 2, 4 \\rbrace</var> as the answer. Since <var>a_4 = 1</var> and <var>a_2 = N</var>, this output is correct.</td>\n</tr>\n</tbody>\n</table></section>\n</div>\n</div>\n</span>","ja":"<span class=\"lang-ja\">\n<p>配点 : <var>100</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p>この問題は <strong>インタラクティブな問題</strong>（あなたの作成したプログラムとジャッジシステムが入出力を介して対話を行う形式の問題）です。</p>\n<p>整数 <var>N, K, Q</var> が与えられます。\nジャッジシステムは <var>(1, 2, \\dots, N)</var> の順列 <var>(a_1, a_2, \\dots, a_N)</var> を隠し持っています。\nあなたはジャッジに <var>Q</var> 回まで次のような質問をすることが出来ます。</p>\n<ul>\n<li><var>\\lbrace 1, 2, \\dots, N \\rbrace</var> の部分集合 <var>S</var> を選ぶ。<var>S</var> の異なる <var>2</var> 元の組 <var>(i,j)</var> であって、 <var>i&lt;j</var> かつ <var>|a_i-a_j|\\leq K</var> であるような組の個数を聞く。</li>\n</ul>\n<p><var>a_t=1</var> となるような <var>t</var> を <var>x</var> とし、 <var>a_t=N</var> となるような <var>t</var> を <var>y</var> とします。\n集合 <var>\\lbrace x,y \\rbrace</var> を特定してください。（どちらが <var>x</var> でどちらが <var>y</var> かを特定する必要はありません。）</p>\n<p>なお、ジャッジは適応的 (adaptive) ではなく、順列 <var>(a_1, a_2, \\dots, a_N)</var> はやりとりの前から固定されています。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li>入力はすべて整数</li>\n<li><var>N = 20000</var></li>\n<li><var>1 \\leq K \\leq 10</var></li>\n<li><var>Q = 30(K + 1)</var></li>\n</ul>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>部分点</h3><p>追加の制約 <var>K = 10</var> を満たすデータセットに正解した場合は <var>30</var> 点が与えられる。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入出力</h3><p>この問題はインタラクティブな問題です。</p>\n<p>最初に、整数 <var>N,K,Q</var> を標準入力から受け取ってください。</p>\n<pre><var>N</var> <var>K</var> <var>Q</var>\n</pre>\n<p>次に、集合 <var>\\lbrace x, y \\rbrace</var> を特定できるまで質問を繰り返してください。</p>\n<p>質問は、以下の形式で標準出力に出力してください。</p>\n<pre>? <var>s_1s_2 \\dots s_N</var>\n</pre>\n<p>ここで、<var>s_1 s_2 \\dots s_N</var> は部分集合 <var>S</var> を表す長さ <var>N</var> の文字列で、<var>i \\in S</var> ならば <var>s_i = {}</var><code>1</code>、<var>i \\notin S</var> ならば <var>s_i = {}</var><code>0</code> としてください。</p>\n<p>これに対する応答は、以下の形式で標準入力から与えられます。</p>\n<pre><var>T</var>\n</pre>\n<p>ここで、<var>T</var> は質問に対する答えで、<var>S</var> の異なる <var>2</var> 元の組 <var>(i,j)</var> であって、 <var>i&lt;j</var> かつ <var>|a_i-a_j|\\leq K</var> であるような組の個数を表します。</p>\n<p>答えとなる集合 <var>\\lbrace x, y \\rbrace</var> を特定出来たら、特定した <var>2</var> つの要素を以下の形式で出力してください。（順番はどちらが先でも構いません。）<strong>その後、ただちにプログラムを終了してください。</strong></p>\n<pre>! <var>x</var> <var>y</var>\n</pre>\n<div class=\"part\">\n<section>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>注意点</h3>\n<p>\n</p><ul>\n<li><b><span style=\"color:red\">出力を行うたびに、末尾に改行を入れて標準出力を flush してください。そうしなかった場合、ジャッジ結果が <span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"\" data-original-title=\"実行時間制限超過\">TLE</span> となる可能性があります。</span></b></li>\n<li>質問の形式が間違っている場合、および、質問回数を超過した場合、ジャッジの応答は <var>T = -1</var> となります。これを受け取った場合、ただちにプログラムを終了してください。そうしなかった場合、ジャッジ結果が <span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"\" data-original-title=\"実行時間制限超過\">TLE</span> となる可能性があります。</li>\n<li>余計な改行は不正なフォーマットの出力とみなされることに注意してください。</li>\n</ul>\n<p></p>\n</section>\n</div>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>入出力例</h3><p>以下は <var>N = 5, K = 2, Q = 90</var> の場合の入出力例です。この例は入力の制約を満たさないので、テストケースには含まれないことに注意してください。</p>\n<table class=\"table table-bordered\">\n<thead>\n<tr>\n<th>入力</th>\n<th>出力</th>\n<th>説明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td></td>\n<td></td>\n<td>ジャッジは順列 <var>(3, 5, 2, 1, 4)</var> を隠し持っています。</td>\n</tr>\n<tr>\n<td><code>5 2 90</code></td>\n<td></td>\n<td>まず整数 <var>N,K,Q</var> が与えられます。</td>\n</tr>\n<tr>\n<td></td>\n<td><code>? 11000</code></td>\n<td><var>S = \\lbrace 1, 2 \\rbrace</var> として質問を行います。</td>\n</tr>\n<tr>\n<td><code>1</code></td>\n<td></td>\n<td>組 <var>(1, 2)</var> のみが条件を満たすので、標準入力に <code>1</code> が与えられます。</td>\n</tr>\n<tr>\n<td></td>\n<td><code>? 10011</code></td>\n<td><var>S = \\lbrace 1, 4, 5 \\rbrace</var> として質問を行います。</td>\n</tr>\n<tr>\n<td><code>2</code></td>\n<td></td>\n<td><var>(1, 4)</var> と <var>(1, 5)</var> の <var>2</var> 組が条件を満たすので、標準入力に <code>2</code> が与えられます。</td>\n</tr>\n<tr>\n<td></td>\n<td><code>! 2 4</code></td>\n<td>答えとして <var>\\lbrace 2, 4 \\rbrace</var> を出力します。<var>a_4 = 1</var> かつ <var>a_2 = N</var> であるので、この出力は正解です。</td>\n</tr>\n</tbody>\n</table></section>\n</div>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/ttpc2024_1/tasks/ttpc2024_1_i"}