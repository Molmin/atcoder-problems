{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>500</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p><var>N</var> 人の選手がテニスの大会に参加します。彼らを選手 <var>1</var>、選手 <var>2</var>、<var>\\ldots</var>、選手 <var>N</var> と呼びます。</p>\n<p>大会は総当たり戦で、合計 <var>N(N-1)/2</var> 試合が行われます。\nこれらの試合の日程を、以下の条件をすべて満たすように決めることは可能でしょうか。可能である場合、必要な最小の日数も求めてください。</p>\n<ul>\n<li>各選手は一日に最大で一試合を行う。</li>\n<li>各選手 <var>i</var> <var>(1 \\leq i \\leq N)</var> は、選手 <var>A_{i, 1}, A_{i, 2}, \\ldots, A_{i, N-1}</var> とこの順に一度ずつ試合を行う。</li>\n</ul>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>3 \\leq N \\leq 1000</var></li>\n<li><var>1 \\leq A_{i, j} \\leq N</var></li>\n<li><var>A_{i, j} \\neq i</var></li>\n<li><var>A_{i, 1}, A_{i, 2}, \\ldots, A_{i, N-1}</var> はすべて異なる。</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>\n<pre><var>N</var>\n<var>A_{1, 1}</var> <var>A_{1, 2}</var> <var>\\ldots</var> <var>A_{1, N-1}</var>\n<var>A_{2, 1}</var> <var>A_{2, 2}</var> <var>\\ldots</var> <var>A_{2, N-1}</var>\n<var>:</var>\n<var>A_{N, 1}</var> <var>A_{N, 2}</var> <var>\\ldots</var> <var>A_{N, N-1}</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>条件をすべて満たすように全試合の日程を決めることが可能なら必要な最小の日数を、不可能なら <code>-1</code> を出力せよ。</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>3\n2 3\n1 3\n1 2\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>3\n</pre>\n\n<p><var>3</var> 日間で次のように試合を行えばすべての条件を満たせます。</p>\n<ul>\n<li><var>1</var> 日目: 選手 <var>1</var> 対 選手 <var>2</var></li>\n<li><var>2</var> 日目: 選手 <var>1</var> 対 選手 <var>3</var></li>\n<li><var>3</var> 日目: 選手 <var>2</var> 対 選手 <var>3</var></li>\n</ul>\n<p>これが必要な最小日数です。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>4\n2 3 4\n1 3 4\n4 1 2\n3 1 2\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>4\n</pre>\n\n<p><var>4</var> 日間で次のように試合を行えばすべての条件を満たせます。</p>\n<ul>\n<li><var>1</var> 日目: 選手 <var>1</var> 対 選手 <var>2</var>、選手 <var>3</var> 対 選手 <var>4</var></li>\n<li><var>2</var> 日目: 選手 <var>1</var> 対 選手 <var>3</var></li>\n<li><var>3</var> 日目: 選手 <var>1</var> 対 選手 <var>4</var>、選手 <var>2</var> 対 選手 <var>3</var></li>\n<li><var>4</var> 日目: 選手 <var>2</var> 対 選手 <var>4</var></li>\n</ul>\n<p>これが必要な最小日数です。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 3</h3><pre>3\n2 3\n3 1\n1 2\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 3</h3><pre>-1\n</pre>\n\n<p>どのような日程で試合を行っても何らかの条件に違反します。</p></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>500</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p><var>N</var> players will participate in a tennis tournament. We will call them Player <var>1</var>, Player <var>2</var>, <var>\\ldots</var>, Player <var>N</var>.</p>\n<p>The tournament is round-robin format, and there will be <var>N(N-1)/2</var> matches in total.\nIs it possible to schedule these matches so that all of the following conditions are satisfied? If the answer is yes, also find the minimum number of days required.</p>\n<ul>\n<li>Each player plays at most one matches in a day.</li>\n<li>Each player <var>i</var> <var>(1 \\leq i \\leq N)</var> plays one match against Player <var>A_{i, 1}, A_{i, 2}, \\ldots, A_{i, N-1}</var> in this order.</li>\n</ul>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>3 \\leq N \\leq 1000</var></li>\n<li><var>1 \\leq A_{i, j} \\leq N</var></li>\n<li><var>A_{i, j} \\neq i</var></li>\n<li><var>A_{i, 1}, A_{i, 2}, \\ldots, A_{i, N-1}</var> are all different.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>Input is given from Standard Input in the following format:</p>\n<pre><var>N</var>\n<var>A_{1, 1}</var> <var>A_{1, 2}</var> <var>\\ldots</var> <var>A_{1, N-1}</var>\n<var>A_{2, 1}</var> <var>A_{2, 2}</var> <var>\\ldots</var> <var>A_{2, N-1}</var>\n<var>:</var>\n<var>A_{N, 1}</var> <var>A_{N, 2}</var> <var>\\ldots</var> <var>A_{N, N-1}</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>If it is possible to schedule all the matches so that all of the conditions are satisfied, print the minimum number of days required; if it is impossible, print <code>-1</code>.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>3\n2 3\n1 3\n1 2\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>3\n</pre>\n\n<p>All the conditions can be satisfied if the matches are scheduled for three days as follows:</p>\n<ul>\n<li>Day <var>1</var>: Player <var>1</var> vs Player <var>2</var></li>\n<li>Day <var>2</var>: Player <var>1</var> vs Player <var>3</var></li>\n<li>Day <var>3</var>: Player <var>2</var> vs Player <var>3</var></li>\n</ul>\n<p>This is the minimum number of days required.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>4\n2 3 4\n1 3 4\n4 1 2\n3 1 2\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>4\n</pre>\n\n<p>All the conditions can be satisfied if the matches are scheduled for four days as follows:</p>\n<ul>\n<li>Day <var>1</var>: Player <var>1</var> vs Player <var>2</var>, Player <var>3</var> vs Player <var>4</var></li>\n<li>Day <var>2</var>: Player <var>1</var> vs Player <var>3</var></li>\n<li>Day <var>3</var>: Player <var>1</var> vs Player <var>4</var>, Player <var>2</var> vs Player <var>3</var></li>\n<li>Day <var>4</var>: Player <var>2</var> vs Player <var>4</var></li>\n</ul>\n<p>This is the minimum number of days required.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 3</h3><pre>3\n2 3\n3 1\n1 2\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 3</h3><pre>-1\n</pre>\n\n<p>Any scheduling of the matches violates some condition.</p></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/abc139/tasks/abc139_e"}