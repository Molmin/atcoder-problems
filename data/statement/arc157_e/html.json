{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>700</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p><var>N</var> 頂点の根付き木が与えられます．\n頂点には <var>1</var> から <var>N</var> の相異なる整数の番号が付いており，根は頂点 <var>1</var> です．\n根以外の各頂点 <var>i</var> の親は頂点 <var>P_i</var> であり，根を含む各頂点は，<b>子を持たないか，ちょうど <var>2</var> 個の子を持つか</b>のいずれかです．</p>\n<p>与えられた木の各頂点に <code>X</code>, <code>Y</code> のいずれかの文字を書き込んで，以下の条件を満たすことが可能かどうかを判定してください．</p>\n<p><b>条件:</b> 木の各辺に関して，両端点に書き込まれた文字を親 <var>P_i</var> から子 <var>i</var> に向かう順に並べて得られる長さ <var>2</var> の文字列を考える．\nそのような文字列はのべ <var>(N - 1)</var> 個あるが，そのうち</p>\n<ul>\n<li>ちょうど <var>A</var> 個が <code>XX</code>，</li>\n<li>ちょうど <var>B</var> 個が <code>XY</code>，</li>\n<li>ちょうど <var>C</var> 個が <code>YX</code> であり，</li>\n<li><code>YY</code> は存在しない．</li>\n</ul>\n<p><var>T</var> 個のテストケースが与えられるので，それぞれについて答えてください．</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>T \\geq 1</var></li>\n<li><var>N \\geq 1</var></li>\n<li><var>1</var> つの入力に含まれるテストケースについて，<var>N</var> の総和は <var>10^4</var> 以下である．</li>\n<li><var>A \\geq 0</var></li>\n<li><var>B \\geq 0</var></li>\n<li><var>C \\geq 0</var></li>\n<li><var>A + B + C = N - 1</var></li>\n<li><var>1 \\leq P_i &lt; i \\ \\ (2 \\leq i \\leq N)</var></li>\n<li>各頂点 <var>k \\ (1 \\leq k \\leq N)</var> は親 <var>P_i \\ (2 \\leq i \\leq N)</var> として<b>合計 <var>0</var> 回または <var>2</var> 回</b>現れる．</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる．</p>\n<pre><var>T</var>\n<var>\\mathrm{case}_1</var>\n<var>\\mathrm{case}_2</var>\n<var>\\vdots</var>\n<var>\\mathrm{case}_T</var>\n</pre>\n<p>各テストケース <var>\\mathrm{case}_i \\ (1 \\leq i \\leq T)</var> は以下の形式である．</p>\n<pre><var>N</var> <var>A</var> <var>B</var> <var>C</var>\n<var>P_2</var> <var>P_3</var> <var>\\cdots</var> <var>P_N</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p><var>T</var> 行出力せよ．\n<var>i</var> 行目には，<var>i</var> 番目のテストケースについて，条件を満たす文字の書き込み方が存在するなら <code>Yes</code> を，存在しないなら <code>No</code> を出力せよ．</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>3\n7 2 2 2\n1 1 2 2 3 3\n7 0 2 4\n1 1 2 2 3 3\n7 2 0 4\n1 1 2 2 4 4\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>Yes\nYes\nNo\n</pre>\n<p><var>1</var> 番目のテストケースについて，たとえば頂点 <var>1</var> から <var>7</var> の順に <code>XXYXYXX</code> と書き込めば，</p>\n<ul>\n<li>辺 <var>(1, 2)</var> で得られる文字列は <code>XX</code>，</li>\n<li>辺 <var>(1, 3)</var> で得られる文字列は <code>XY</code>，</li>\n<li>辺 <var>(2, 4)</var> で得られる文字列は <code>XX</code>，</li>\n<li>辺 <var>(2, 5)</var> で得られる文字列は <code>XY</code>，</li>\n<li>辺 <var>(3, 6)</var> で得られる文字列は <code>YX</code>，</li>\n<li>辺 <var>(3, 7)</var> で得られる文字列は <code>YX</code>，</li>\n</ul>\n<p>であり，<code>XX</code>, <code>XY</code>, <code>YX</code> がそれぞれ <var>2</var> 個ずつとなって条件を満たします．</p>\n<p><var>2</var> 番目のテストケースについて，たとえば <code>XYYXXXX</code> と書き込めば条件を満たします．</p>\n<p><var>3</var> 番目のテストケースについては，どのように書き込んでも条件を満たしません．</p></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>700</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>You are given a rooted tree with <var>N</var> vertices.\nThe vertices are numbered <var>1</var> to <var>N</var>, and the root is vertex <var>1</var>.\nThe parent of each vertex <var>i</var> except the root is vertex <var>P_i</var>. Each vertex, including the root, has <b> no child or exactly two children</b>.</p>\n<p>Determine whether it is possible to write one of the characters <code>X</code> and <code>Y</code> on each vertex of the given tree to satisfy the following condition.</p>\n<p><b>Condition:</b> For each edge of the tree, consider the string of length <var>2</var> obtained by concatenating the characters written on the endpoints in the order from the parent <var>P_i</var> to the child <var>i</var>. Among the <var>(N - 1)</var> strings obtained in this way,</p>\n<ul>\n<li>exactly <var>A</var> are <code>XX</code>,</li>\n<li>exactly <var>B</var> are <code>XY</code>,</li>\n<li>exactly <var>C</var> are <code>YX</code>, and</li>\n<li>none is <code>YY</code>.</li>\n</ul>\n<p>You have <var>T</var> test cases to solve.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>T \\geq 1</var></li>\n<li><var>N \\geq 1</var></li>\n<li>For each input, the sum of <var>N</var> over the test cases is at most <var>10^4</var>.</li>\n<li><var>A \\geq 0</var></li>\n<li><var>B \\geq 0</var></li>\n<li><var>C \\geq 0</var></li>\n<li><var>A + B + C = N - 1</var></li>\n<li><var>1 \\leq P_i &lt; i \\ \\ (2 \\leq i \\leq N)</var></li>\n<li>Each vertex <var>k \\ (1 \\leq k \\leq N)</var> occurs as a parent <var>P_i \\ (2 \\leq i \\leq N)</var> <b>zero times or twice in total</b>.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>The input is given from Standard Input in the following format:</p>\n<pre><var>T</var>\n<var>\\mathrm{case}_1</var>\n<var>\\mathrm{case}_2</var>\n<var>\\vdots</var>\n<var>\\mathrm{case}_T</var>\n</pre>\n<p>Each test case <var>\\mathrm{case}_i \\ (1 \\leq i \\leq T)</var> is in the following format:</p>\n<pre><var>N</var> <var>A</var> <var>B</var> <var>C</var>\n<var>P_2</var> <var>P_3</var> <var>\\cdots</var> <var>P_N</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>Print <var>T</var> lines.\nThe <var>i</var>-th line should contain <code>Yes</code> if there is a way to write characters to satisfy the condition, and <code>No</code> otherwise.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>3\n7 2 2 2\n1 1 2 2 3 3\n7 0 2 4\n1 1 2 2 3 3\n7 2 0 4\n1 1 2 2 4 4\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>Yes\nYes\nNo\n</pre>\n<p>For the first test case, if you, for instance, write <code>XXYXYXX</code> in this order on vertices <var>1</var> to <var>7</var>,</p>\n<ul>\n<li>from the edge <var>(1, 2)</var>, we obtain <code>XX</code>,</li>\n<li>from the edge <var>(1, 3)</var>, we obtain <code>XY</code>,</li>\n<li>from the edge <var>(2, 4)</var>, we obtain <code>XX</code>,</li>\n<li>from the edge <var>(2, 5)</var>, we obtain <code>XY</code>,</li>\n<li>from the edge <var>(3, 6)</var>, we obtain <code>YX</code>, and</li>\n<li>from the edge <var>(3, 7)</var>, we obtain <code>YX</code>.</li>\n</ul>\n<p>Each of <code>XX</code>, <code>XY</code>, and <code>YX</code> occurs twice, so the condition is satisfied.</p>\n<p>For the second case, one way to satisfy the condition is to write <code>XYYXXXX</code>.</p>\n<p>For the third case, there is no way to satisfy the condition.</p></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/arc157/tasks/arc157_e"}