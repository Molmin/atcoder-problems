{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>450</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p>縦横 <var>10^9</var> マスのグリッドがあります。上から <var>i + 1</var> 行目、左から <var>j + 1</var> 列目 <var>(0 \\leq i, j \\lt 10^9)</var> にあるマスを <var>(i, j)</var> と呼びます。(通常と異なる index の割り当て方に注意してください。)<br>\n各マスは黒マスか白マスのいずれかです。マス <var>(i, j)</var> の色は文字 <var>P[i \\bmod N][j \\bmod N]</var> によって表されて、<code>B</code> ならばマス <var>(i, j)</var> は黒マス、<code>W</code> ならば白マスです。ここで <var>a \\bmod b</var> は <var>a</var> を <var>b</var> で割った余りを意味します。</p>\n<p><var>Q</var> 個のクエリが与えられるので順に処理してください。<br>\n各クエリでは <var>4</var> つの整数 <var>A, B, C, D</var> が与えられるので、<var>(A, B)</var> を左上隅、<var>(C, D)</var> を右下隅とする長方形領域に含まれる黒マスの個数を求めてください。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>1 \\leq N \\leq 1000</var></li>\n<li><var>P[i][j]</var> は <code>W</code> または <code>B</code></li>\n<li><var>1 \\leq Q \\leq 2 \\times 10^5</var></li>\n<li><var>0 \\leq A \\leq C \\lt 10^9</var></li>\n<li><var>0 \\leq B \\leq D \\lt 10^9</var></li>\n<li><var>N, Q, A, B, C, D</var> は全て整数</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。ここで <var>\\text{query}_i</var> は <var>i</var> 番目に処理するクエリである。</p>\n<pre><var>N</var> <var>Q</var>\n<var>P[0][0]P[0][1]\\dots P[0][N-1]</var>\n<var>P[1][0]P[1][1]\\dots P[1][N-1]</var>\n<var>\\vdots</var>\n<var>P[N-1][0]P[N-1][1]\\dots P[N-1][N-1]</var>\n<var>\\text{query}_1</var>\n<var>\\text{query}_2</var>\n<var>\\vdots</var>\n<var>\\text{query}_Q</var>\n</pre>\n<p>各クエリは以下の形式で与えられる。</p>\n<pre><var>A</var> <var>B</var> <var>C</var> <var>D</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>問題文の指示に従ってクエリへの答えを改行区切りで出力せよ。</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>3 2\nWWB\nBBW\nWBW\n1 2 3 4\n0 3 4 5\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>4\n7\n</pre>\n<p>グリッドの左上部分を図示すると次の図のようになります。</p>\n<p><img alt=\"image\" src=\"https://img.atcoder.jp/abc331/2c3ff3c4018817a0839f1fbe0e7c431d.jpg\"></p>\n<p><var>1</var> 番目のクエリについて、<var>(1, 2)</var> を左上隅、<var>(3, 4)</var> を右下隅とする長方形領域は図の赤い枠線に囲まれた部分で、領域に含まれる黒マスの個数は <var>4</var> 個です。<br>\n<var>2</var> 番目のクエリについて、<var>(0, 3)</var> を左上隅、<var>(4, 5)</var> を右下隅とする長方形領域は図の青い枠線に囲まれた部分で、領域に含まれる黒マスの個数は <var>7</var> 個です。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>10 5\nBBBWWWBBBW\nWWWWWBBBWB\nBBBWBBWBBB\nBBBWWBWWWW\nWWWWBWBWBW\nWBBWBWBBBB\nWWBBBWWBWB\nWBWBWWBBBB\nWBWBWBBWWW\nWWWBWWBWWB\n5 21 21 93\n35 35 70 43\n55 72 61 84\n36 33 46 95\n0 0 999999999 999999999\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>621\n167\n44\n344\n500000000000000000\n</pre></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>450</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>There is a grid with <var>10^9</var> by <var>10^9</var> squares. Let <var>(i, j)</var> denote the square at the <var>(i + 1)</var>-th row from the top and the <var>(j + 1)</var>-th column from the left <var>(0 \\leq i, j \\lt 10^9)</var>. (Note the unusual index assignment.)<br>\nEach square is black or white. The color of the square <var>(i, j)</var> is represented by a character <var>P[i \\bmod N][j \\bmod N]</var>, where <code>B</code> means black, and <code>W</code> means white. Here, <var>a \\bmod b</var> denotes the remainder when <var>a</var> is divided by <var>b</var>.</p>\n<p>Answer <var>Q</var> queries.<br>\nEach query gives you four integers <var>A, B, C, D</var> and asks you to find the number of black squares contained in the rectangular area with <var>(A, B)</var> as the top-left corner and <var>(C, D)</var> as the bottom-right corner.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>1 \\leq N \\leq 1000</var></li>\n<li><var>P[i][j]</var> is <code>W</code> or <code>B</code>.</li>\n<li><var>1 \\leq Q \\leq 2 \\times 10^5</var></li>\n<li><var>0 \\leq A \\leq C \\lt 10^9</var></li>\n<li><var>0 \\leq B \\leq D \\lt 10^9</var></li>\n<li><var>N, Q, A, B, C, D</var> are all integers.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>The input is given from Standard Input in the following format. Here, <var>\\text{query}_i</var> is the <var>i</var>-th query to be processed.</p>\n<pre><var>N</var> <var>Q</var>\n<var>P[0][0]P[0][1]\\dots P[0][N-1]</var>\n<var>P[1][0]P[1][1]\\dots P[1][N-1]</var>\n<var>\\vdots</var>\n<var>P[N-1][0]P[N-1][1]\\dots P[N-1][N-1]</var>\n<var>\\text{query}_1</var>\n<var>\\text{query}_2</var>\n<var>\\vdots</var>\n<var>\\text{query}_Q</var>\n</pre>\n<p>Each query is given in the following format:</p>\n<pre><var>A</var> <var>B</var> <var>C</var> <var>D</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>Follow the instructions in the problem statement and print the answers to the queries, separated by newlines.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>3 2\nWWB\nBBW\nWBW\n1 2 3 4\n0 3 4 5\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>4\n7\n</pre>\n<p>The figure below illustrates the upper left part of the grid.</p>\n<p><img alt=\"image\" src=\"https://img.atcoder.jp/abc331/2c3ff3c4018817a0839f1fbe0e7c431d.jpg\"></p>\n<p>For the first query, the rectangular area with <var>(1, 2)</var> as the top-left corner and <var>(3, 4)</var> as the bottom-right corner, surrounded by the red frame in the figure, contains four black squares.<br>\nFor the second query, the rectangular area with <var>(0, 3)</var> as the top-left corner and <var>(4, 5)</var> as the bottom-right corner, surrounded by the blue frame in the figure, contains seven black squares.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>10 5\nBBBWWWBBBW\nWWWWWBBBWB\nBBBWBBWBBB\nBBBWWBWWWW\nWWWWBWBWBW\nWBBWBWBBBB\nWWBBBWWBWB\nWBWBWWBBBB\nWBWBWBBWWW\nWWWBWWBWWB\n5 21 21 93\n35 35 70 43\n55 72 61 84\n36 33 46 95\n0 0 999999999 999999999\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>621\n167\n44\n344\n500000000000000000\n</pre></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/abc331/tasks/abc331_d"}