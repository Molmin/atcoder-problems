{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>475</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p>Atcoder 国には <var>1</var> から <var>N</var> の番号がついた <var>N</var> 個の街と、<var>1</var> から <var>M</var> の番号がついた <var>M</var> 本の電車が走っています。<br>\n電車 <var>i</var> は街 <var>A_i</var> を時刻 <var>S_i</var> に発車し、街 <var>B_i</var> に時刻 <var>T_i</var> に到着します。</p>\n<p>正の整数 <var>X_1</var> が与えられるので、<var>0</var> 以上の整数 <var>X_2,\\ldots,X_M</var> を以下の条件を満たすように定める方法のうち、<var>X_2+\\ldots+X_M</var> が最小になるものを求めてください。</p>\n<ul>\n<li>条件：<var>1 \\leq i,j \\leq M</var> を満たす全ての組 <var>(i,j)</var> について、「<var>B_i=A_j</var> かつ <var>T_i \\leq S_j</var>」ならば「<var>T_i+X_i \\leq S_j+X_j</var>」<ul>\n<li>すなわち、もともと乗り換え可能だった電車の組は、各電車 <var>i</var> の発車時刻・到着時刻を <var>X_i</var> 遅らせても乗り換え可能である</li>\n</ul>\n</li>\n</ul>\n<p>なお、<var>X_2+\\ldots+X_M</var> が最小になるような <var>X_2,\\ldots,X_M</var> の定め方は一意であることが証明できます。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>2 \\leq N \\leq 2\\times 10^5</var></li>\n<li><var>2 \\leq M \\leq 2\\times 10^5</var></li>\n<li><var>1 \\leq A_i,B_i \\leq N</var></li>\n<li><var>A_i \\neq B_i</var></li>\n<li><var>0 \\leq S_i &lt; T_i \\leq 10^9</var></li>\n<li><var>1 \\leq X_1 \\leq 10^9</var></li>\n<li>入力は全て整数</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>\n<pre><var>N</var> <var>M</var> <var>X_1</var>\n<var>A_1</var> <var>B_1</var> <var>S_1</var> <var>T_1</var>\n<var>\\vdots</var>\n<var>A_M</var> <var>B_M</var> <var>S_M</var> <var>T_M</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>条件を満たし、和を最小化するような <var>X_2,\\ldots,X_M</var> を、この順に空白区切りで出力せよ。</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>3 6 15\n1 2 10 20\n1 2 20 30\n2 3 25 40\n2 3 35 50\n3 1 15 30\n3 1 45 60\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>0 10 0 0 5\n</pre>\n<p>街 <var>1</var> から <var>2</var> へ行く電車 <var>1</var> の到着が <var>15</var> 遅れ、時刻 <var>35</var> になりました。<br>\n街 <var>2</var> での電車 <var>1</var> から <var>3</var> への乗り換えのため、電車 <var>3</var> の発車時刻を <var>10</var> 遅らせて、時刻 <var>35</var> 発 時刻 <var>50</var> 着とします。<br>\nさらに街 <var>3</var> での電車 <var>3</var> から <var>6</var> への乗り換えのため、電車 <var>6</var> の発車時刻を <var>5</var> 遅らせて、時刻 <var>50</var> 発とします。<br>\n他の電車は発車を遅らせることなく、元々乗り換え可能だった電車の間を乗り換えることができるため、<var>(X_2,X_3,X_4,X_5,X_6)=(0,10,0,0,5)</var> は条件を満たします。<br>\nまた、条件を満たすもののうち和がこれより小さいものは存在しないため、これが答えとなります。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>10 9 100\n1 10 0 1\n10 2 1 100\n10 3 1 100\n10 4 1 100\n10 5 1 100\n10 6 1 100\n10 7 1 100\n10 8 1 100\n10 9 1 100\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>100 100 100 100 100 100 100 100\n</pre>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 3</h3><pre>4 4 10\n1 2 0 1\n1 2 0 10\n2 3 100 200\n2 4 100 200\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 3</h3><pre>0 0 0\n</pre></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>475</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>In the nation of Atcoder, there are <var>N</var> cities numbered <var>1</var> to <var>N</var>, and <var>M</var> trains numbered <var>1</var> to <var>M</var>.\nTrain <var>i</var> departs from city <var>A_i</var> at time <var>S_i</var> and arrives at city <var>B_i</var> at time <var>T_i</var>.</p>\n<p>Given a positive integer <var>X_1</var>, find a way to set non-negative integers <var>X_2,\\ldots,X_M</var> that satisfies the following condition with the minimum possible value of <var>X_2+\\ldots+X_M</var>.</p>\n<ul>\n<li>Condition: For all pairs <var>(i,j)</var> satisfying <var>1 \\leq i,j \\leq M</var>, if <var>B_i=A_j</var> and <var>T_i \\leq S_j</var>, then <var>T_i+X_i \\leq S_j+X_j</var>.<ul>\n<li>In other words, for any pair of trains that are originally possible to transfer between, it is still possible to transfer even after delaying the departure and arrival times of each train <var>i</var> by <var>X_i</var>.</li>\n</ul>\n</li>\n</ul>\n<p>It can be proved that such a way to set <var>X_2,\\ldots,X_M</var> with the minimum possible value of <var>X_2+\\ldots+X_M</var> is unique.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>2 \\leq N \\leq 2\\times 10^5</var></li>\n<li><var>2 \\leq M \\leq 2\\times 10^5</var></li>\n<li><var>1 \\leq A_i,B_i \\leq N</var></li>\n<li><var>A_i \\neq B_i</var></li>\n<li><var>0 \\leq S_i &lt; T_i \\leq 10^9</var></li>\n<li><var>1 \\leq X_1 \\leq 10^9</var></li>\n<li>All input values are integers.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>The input is given from Standard Input in the following format:</p>\n<pre><var>N</var> <var>M</var> <var>X_1</var>\n<var>A_1</var> <var>B_1</var> <var>S_1</var> <var>T_1</var>\n<var>\\vdots</var>\n<var>A_M</var> <var>B_M</var> <var>S_M</var> <var>T_M</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>Print <var>X_2,\\ldots,X_M</var> that satisfy the condition with the minimum possible sum, in that order, separated by spaces.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>3 6 15\n1 2 10 20\n1 2 20 30\n2 3 25 40\n2 3 35 50\n3 1 15 30\n3 1 45 60\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>0 10 0 0 5\n</pre>\n<p>The arrival of train <var>1</var> from city <var>1</var> to <var>2</var> is delayed by <var>15</var> and becomes time <var>35</var>.<br>\nTo allow transfer from train <var>1</var> to <var>3</var> in city <var>2</var>, the departure of train <var>3</var> is delayed by <var>10</var>, making it depart at time <var>35</var> and arrive at time <var>50</var>.<br>\nFurther, to allow transfer from train <var>3</var> to <var>6</var> in city <var>3</var>, the departure of train <var>6</var> is delayed by <var>5</var>, making it depart at time <var>50</var>.<br>\nOther trains can operate without delay while still allowing transfers between originally transferable trains, so <var>(X_2,X_3,X_4,X_5,X_6)=(0,10,0,0,5)</var> satisfies the condition.<br>\nMoreover, there is no solution with a smaller sum that satisfies the condition, so this is the answer.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>10 9 100\n1 10 0 1\n10 2 1 100\n10 3 1 100\n10 4 1 100\n10 5 1 100\n10 6 1 100\n10 7 1 100\n10 8 1 100\n10 9 1 100\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>100 100 100 100 100 100 100 100\n</pre>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 3</h3><pre>4 4 10\n1 2 0 1\n1 2 0 10\n2 3 100 200\n2 4 100 200\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 3</h3><pre>0 0 0\n</pre></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/abc368/tasks/abc368_e"}