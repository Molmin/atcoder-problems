{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>2200</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p><var>N</var> 頂点 <var>M</var> 辺の無向グラフがあります。\nただし、<var>N-1≤M≤N</var> であり、グラフは連結です。\nまた、グラフには自己ループや多重辺はありません。</p>\n<p>頂点は <var>1</var> から <var>N</var> まで番号が振られており、辺は <var>1</var> から <var>M</var> まで番号が振られています。\n辺 <var>i</var> は頂点 <var>a_i</var> と <var>b_i</var> を結んでいます。</p>\n<p>各頂点は白または黒になることができます。\n最初、すべての頂点は白です。\n高橋君は次の操作を何回か行い、すべての頂点を黒にしようとしています。</p>\n<ul>\n<li>隣り合う同色の頂点のペアを選び、それらの色をともに反転する。 すなわち、ともに白ならばともに黒へ変え、ともに黒ならばともに白へ変える。</li>\n</ul>\n<p>すべての頂点を黒にすることができるか判定し、できるならば必要な操作回数の最小値を求めてください。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>2≤N≤10^5</var></li>\n<li><var>N-1≤M≤N</var></li>\n<li><var>1≤a_i，b_i≤N</var></li>\n<li>グラフには自己ループや多重辺はない。</li>\n<li>グラフは連結である。</li>\n</ul>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>部分点</h3><ul>\n<li><var>1500</var> 点分のデータセットでは、<var>M=N-1</var> が成り立つ。</li>\n</ul>\n</section>\n</div>\n\n<hr>\n\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>\n<pre><var>N</var> <var>M</var>\n<var>a_1</var> <var>b_1</var>\n<var>a_2</var> <var>b_2</var>\n<var>:</var>\n<var>a_M</var> <var>b_M</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>すべての頂点を黒にすることができるならば、必要な操作回数の最小値を出力せよ。\nできないならば、代わりに <code>-1</code> を出力せよ。</p>\n</section>\n</div>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>6 5\n1 2\n1 3\n1 4\n2 5\n2 6\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>5\n</pre>\n\n<p>例えば、図のように操作を行えばよいです。</p>\n<p><img src=\"/img/agc/004/gatbantar/F_1.png\"></p>\n</section>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>3 2\n1 2\n2 3\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>-1\n</pre>\n\n<p>すべての頂点を黒にすることはできません。</p>\n<p><img src=\"/img/agc/004/gatbantar/F_2.png\"></p>\n</section>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>入力例 3</h3><pre>4 4\n1 2\n2 3\n3 4\n4 1\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 3</h3><pre>2\n</pre>\n\n<p>このケースは部分点のデータセットには含まれません。</p>\n<p><img src=\"/img/agc/004/gatbantar/F_3.png\"></p>\n</section>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>入力例 4</h3><pre>6 6\n1 2\n2 3\n3 1\n1 4\n1 5\n1 6\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 4</h3><pre>7\n</pre>\n\n<p>このケースは部分点のデータセットには含まれません。</p>\n<p><img src=\"/img/agc/004/gatbantar/F_4.png\"></p></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>2200</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>You are given an undirected graph with <var>N</var> vertices and <var>M</var> edges.\nHere, <var>N-1≤M≤N</var> holds and the graph is connected.\nThere are no self-loops or multiple edges in this graph.</p>\n<p>The vertices are numbered <var>1</var> through <var>N</var>, and the edges are numbered <var>1</var> through <var>M</var>.\nEdge <var>i</var> connects vertices <var>a_i</var> and <var>b_i</var>.</p>\n<p>The color of each vertex can be either white or black.\nInitially, all the vertices are white.\nSnuke is trying to turn all the vertices black by performing the following operation some number of times:</p>\n<ul>\n<li>Select a pair of adjacent vertices with the same color, and invert the colors of those vertices. That is, if the vertices are both white, then turn them black, and vice versa.</li>\n</ul>\n<p>Determine if it is possible to turn all the vertices black. If the answer is positive, find the minimum number of times the operation needs to be performed in order to achieve the objective.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>2≤N≤10^5</var></li>\n<li><var>N-1≤M≤N</var></li>\n<li><var>1≤a_i,b_i≤N</var></li>\n<li>There are no self-loops or multiple edges in the given graph.</li>\n<li>The given graph is connected.</li>\n</ul>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Partial Score</h3><ul>\n<li>In the test set worth <var>1500</var> points, <var>M=N-1</var>.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>The input is given from Standard Input in the following format:</p>\n<pre><var>N</var> <var>M</var>\n<var>a_1</var> <var>b_1</var>\n<var>a_2</var> <var>b_2</var>\n<var>:</var>\n<var>a_M</var> <var>b_M</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>If it is possible to turn all the vertices black, print the minimum number of times the operation needs to be performed in order to achieve the objective.\nOtherwise, print <code>-1</code> instead.</p>\n</section>\n</div>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>6 5\n1 2\n1 3\n1 4\n2 5\n2 6\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>5\n</pre>\n\n<p>For example, it is possible to perform the operations as shown in the following diagram:</p>\n<p><img src=\"/img/agc/004/gatbantar/F_1.png\"></p>\n</section>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>3 2\n1 2\n2 3\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>-1\n</pre>\n\n<p>It is not possible to turn all the vertices black.</p>\n<p><img src=\"/img/agc/004/gatbantar/F_2.png\"></p>\n</section>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>Sample Input 3</h3><pre>4 4\n1 2\n2 3\n3 4\n4 1\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 3</h3><pre>2\n</pre>\n\n<p>This case is not included in the test set for the partial score.</p>\n<p><img src=\"/img/agc/004/gatbantar/F_3.png\"></p>\n</section>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>Sample Input 4</h3><pre>6 6\n1 2\n2 3\n3 1\n1 4\n1 5\n1 6\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 4</h3><pre>7\n</pre>\n\n<p>This case is not included in the test set for the partial score.</p>\n<p><img src=\"/img/agc/004/gatbantar/F_4.png\"></p></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/agc004/tasks/agc004_f"}