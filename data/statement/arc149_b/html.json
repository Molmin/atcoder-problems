{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>500</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p>数列 <var>P = (P_1, \\ldots, P_N)</var> に対し，その最長増加部分列の長さを <var>\\mathrm{LIS}(P)</var> と書くことにします．</p>\n<p><var>1</var> 以上 <var>N</var> 以下の整数からなる順列 <var>A = (A_1, \\ldots, A_N)</var> および <var>B = (B_1, \\ldots, B_N)</var> が与えられます．これらの数列に対して，以下の操作を何度でも行うことができます（<var>0</var> 回でもよいです）．</p>\n<ul>\n<li><var>1\\leq i\\leq N-1</var> となる整数 <var>i</var> をひとつ選ぶ．<var>A_i</var> と <var>A_{i+1}</var> をスワップし，<var>B_i</var> と <var>B_{i+1}</var> をスワップする．</li>\n</ul>\n<p>操作結果の <var>\\mathrm{LIS}(A) + \\mathrm{LIS}(B)</var> としてありうる最大値を答えてください．</p>\n<details>\n<summary>最長増加部分列とは</summary>\n\n<p>\n数列の部分列とは，数列から <var>0</var> 個以上の要素を取り除いた後，残りの要素を元の順序で連結して得られる数列のことをいいます．\n例えば，<var>(10,30)</var> は <var>(10,20,30)</var> の部分列ですが，<var>(20,10)</var> は <var>(10,20,30)</var> の部分列ではありません．\n</p>\n<p>\n数列の最長増加部分列とは，数列の狭義単調増加な部分列のうち，長さが最大のもののことをいいます．\n</p>\n</details>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>2\\leq N\\leq 3\\times 10^5</var></li>\n<li><var>1\\leq A_i\\leq N</var></li>\n<li><var>1\\leq B_i\\leq N</var></li>\n<li><var>i\\neq j</var> ならば <var>A_i\\neq A_j</var> かつ <var>B_i\\neq B_j</var></li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられます．</p>\n<pre><var>N</var>\n<var>A_1</var> <var>\\ldots</var> <var>A_N</var>\n<var>B_1</var> <var>\\ldots</var> <var>B_N</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>操作結果の <var>\\mathrm{LIS}(A) + \\mathrm{LIS}(B)</var> としてありうる最大値を出力してください．</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>5\n5 2 1 4 3\n3 1 2 5 4\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>8\n</pre>\n<p>例えば次のように操作を行うことで，<var>\\mathrm{LIS}(A) + \\mathrm{LIS}(B) = 8</var> を達成できます．</p>\n<ul>\n<li><var>i = 2</var> として操作を行う．<var>A = (5,1,2,4,3)</var>, <var>B = (3,2,1,5,4)</var> となる．</li>\n<li><var>i = 1</var> として操作を行う．<var>A = (1,5,2,4,3)</var>, <var>B = (2,3,1,5,4)</var> となる．</li>\n<li><var>i = 4</var> として操作を行う．<var>A = (1,5,2,3,4)</var>, <var>B = (2,3,1,4,5)</var> となる．</li>\n</ul>\n<p>このとき <var>A</var> は最長増加部分列 <var>(1,2,3,4)</var> を持ち，<var>\\mathrm{LIS}(A)=4</var> が成り立ちます．<var>B</var> は最長増加部分列 <var>(2,3,4,5)</var> を持ち，<var>\\mathrm{LIS}(B)=4</var> が成り立ちます．</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>5\n1 2 3 4 5\n1 2 3 4 5\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>10\n</pre>\n<p>操作を <var>1</var> 度も行わないことにより，<var>\\mathrm{LIS}(A) + \\mathrm{LIS}(B) = 10</var> を達成できます．</p></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>500</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>For a sequence <var>P = (P_1, \\ldots, P_N)</var>, let <var>\\mathrm{LIS}(P)</var> denote the length of a longest increasing subsequence.</p>\n<p>You are given permutations <var>A = (A_1, \\ldots, A_N)</var> and <var>B = (B_1, \\ldots, B_N)</var> of integers from <var>1</var> through <var>N</var>. You may perform the following operation on these sequences any number of times (possibly zero).</p>\n<ul>\n<li>Choose an integer <var>i</var> such that <var>1\\leq i\\leq N-1</var>. Swap <var>A_i</var> and <var>A_{i+1}</var>, and swap <var>B_i</var> and <var>B_{i+1}</var>.</li>\n</ul>\n<p>Find the maximum possible final value of <var>\\mathrm{LIS}(A) + \\mathrm{LIS}(B)</var>.</p>\n<details>\n<summary>What is a longest increasing subsequence?</summary>\n\n<p>\nA subsequence of a sequence is a sequence obtained by removing zero or more elements from the original sequence and then concatenating the remaining elements without changing the order.\nFor instance, <var>(10,30)</var> is a subsequence of <var>(10,20,30)</var>, but <var>(20,10)</var> is not a subsequence of <var>(10,20,30)</var>.\n</p>\n<p>\nA longest increasing subsequence of a sequence is a subsequence of that sequence with the greatest length among its subsequences that are strictly increasing.\n</p>\n</details>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>2\\leq N\\leq 3\\times 10^5</var></li>\n<li><var>1\\leq A_i\\leq N</var></li>\n<li><var>1\\leq B_i\\leq N</var></li>\n<li><var>A_i\\neq A_j</var> and <var>B_i\\neq B_j</var>, if <var>i\\neq j</var>.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>The input is given from Standard Input in the following format:</p>\n<pre><var>N</var>\n<var>A_1</var> <var>\\ldots</var> <var>A_N</var>\n<var>B_1</var> <var>\\ldots</var> <var>B_N</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>Print the maximum possible final value of <var>\\mathrm{LIS}(A) + \\mathrm{LIS}(B)</var>.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>5\n5 2 1 4 3\n3 1 2 5 4\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>8\n</pre>\n<p>Here is one way to achieve <var>\\mathrm{LIS}(A) + \\mathrm{LIS}(B) = 8</var>.</p>\n<ul>\n<li>Do the operation with <var>i = 2</var>. Now, <var>A = (5,1,2,4,3)</var>, <var>B = (3,2,1,5,4)</var>.</li>\n<li>Do the operation with <var>i = 1</var>. Now, <var>A = (1,5,2,4,3)</var>, <var>B = (2,3,1,5,4)</var>.</li>\n<li>Do the operation with <var>i = 4</var>. Now, <var>A = (1,5,2,3,4)</var>, <var>B = (2,3,1,4,5)</var>.</li>\n</ul>\n<p>Here, <var>A</var> has a longest increasing subsequence <var>(1,2,3,4)</var>, so <var>\\mathrm{LIS}(A)=4</var>, and <var>B</var> has a longest increasing subsequence <var>(2,3,4,5)</var>, so <var>\\mathrm{LIS}(B)=4</var>. </p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>5\n1 2 3 4 5\n1 2 3 4 5\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>10\n</pre>\n<p>You can decide not to perform the operation at all to achieve <var>\\mathrm{LIS}(A) + \\mathrm{LIS}(B) = 10</var>.</p></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/arc149/tasks/arc149_b"}