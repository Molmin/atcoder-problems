{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>400</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p>一方の端が赤に塗られており、もう一方の端が青に塗られているロープが <var>N</var> 本あります。ロープには <var>1</var> から <var>N</var> までの番号がつけられています。</p>\n<p>これからロープの端を結ぶ操作を <var>M</var> 回行います。<var>i</var> 回目の操作ではロープ <var>A_i</var> の色 <var>B_i</var> の端とロープ <var>C_i</var> の色 <var>D_i</var> の端を結びます。ただし、色 <code>R</code> は赤を意味し、色 <code>B</code> は青を意味します。各ロープについて、同じ色の端が複数回結ばれることはありません。  </p>\n<p>すべての操作を終えた後に、ひとつながりになっているロープの組について環状になっているものとそうでないものの個数を出力してください。  </p>\n<p>ただし、ひとつながりになっているロープの組 <var>\\lbrace v_0, v_1, \\ldots, v_{x-1} \\rbrace</var> が環状になっているとは、<var>v</var> の要素の順序を適切に入れ替えることで各 <var>0 \\leq i &lt; x</var> についてロープ <var>v_i</var> とロープ <var>v_{(i+1) \\bmod x}</var> が結ばれているようにできることをいいます。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>1 \\leq N \\leq 2 \\times 10^5</var></li>\n<li><var>0 \\leq M \\leq 2 \\times 10^5</var></li>\n<li><var>1 \\leq A_i, C_i \\leq N</var></li>\n<li><var>(A_i, B_i) \\neq (A_j, B_j), (C_i, D_i) \\neq (C_j, D_j)</var> <var>(i \\neq j)</var></li>\n<li><var>(A_i, B_i) \\neq (C_j, D_j)</var></li>\n<li><var>N, M, A_i, C_i</var> は整数</li>\n<li><var>B_i, D_i</var> は <code>R</code> か <code>B</code> のいずれか</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>\n<pre><var>N</var> <var>M</var>\n<var>A_1</var> <var>B_1</var> <var>C_1</var> <var>D_1</var>\n<var>A_2</var> <var>B_2</var> <var>C_2</var> <var>D_2</var>\n<var>\\vdots</var>\n<var>A_M</var> <var>B_M</var> <var>C_M</var> <var>D_M</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>ひとつながりになっているロープの組について、環状になっているものの個数を <var>X</var>、そうでないものの個数を <var>Y</var> として <var>X</var> と <var>Y</var> をこの順に空白区切りで出力せよ。</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>5 3\n3 R 5 B\n5 R 3 B\n4 R 2 B\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>1 2\n</pre>\n<p>ひとつながりになっているロープの組は <var>\\lbrace 1 \\rbrace</var>、<var>\\lbrace 2,4 \\rbrace</var>、<var>\\lbrace 3,5 \\rbrace</var> の <var>3</var> つです。  </p>\n<p>ロープ <var>\\lbrace 3,5 \\rbrace</var> の組は環状になっており、ロープ <var>\\lbrace 1 \\rbrace</var> と <var>\\lbrace 2,4 \\rbrace</var> の組は環状になっていません。したがって、<var>X = 1, Y = 2</var> です。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>7 0\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>0 7\n</pre>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 3</h3><pre>7 6\n5 R 3 R\n7 R 4 R\n4 B 1 R\n2 R 3 B\n2 B 5 B\n1 B 7 B\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 3</h3><pre>2 1\n</pre></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>400</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>There are <var>N</var> ropes numbered <var>1</var> through <var>N</var>.  One end of each rope is painted red, and the other is painted blue.</p>\n<p>You are going to perform <var>M</var> operations of tying ropes.  In the <var>i</var>-th operation, you tie the end of rope <var>A_i</var> painted <var>B_i</var> with the end of rope <var>C_i</var> painted <var>D_i</var>, where <code>R</code> means red and <code>B</code> means blue.  For each rope, an end with the same color is not tied multiple times.  </p>\n<p>Find the number of groups of connected ropes that form cycles, and the number of those that do not, after all the operations.  </p>\n<p>Here, a group of connected ropes <var>\\lbrace v_0, v_1, \\ldots, v_{x-1} \\rbrace</var> is said to form a cycle if one can rearrange the elements of <var>v</var> so that, for each <var>0 \\leq i &lt; x</var>, rope <var>v_i</var> is tied to rope <var>v_{(i+1) \\bmod x}</var>.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>1 \\leq N \\leq 2 \\times 10^5</var></li>\n<li><var>0 \\leq M \\leq 2 \\times 10^5</var></li>\n<li><var>1 \\leq A_i, C_i \\leq N</var></li>\n<li><var>(A_i, B_i) \\neq (A_j, B_j), (C_i, D_i) \\neq (C_j, D_j)</var> <var>(i \\neq j)</var></li>\n<li><var>(A_i, B_i) \\neq (C_j, D_j)</var></li>\n<li><var>N, M, A_i</var>, and <var>C_i</var> are integers.</li>\n<li><var>B_i</var> is <code>R</code> or <code>B</code>, and so is <var>D_i</var>.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>The input is given from Standard Input in the following format:</p>\n<pre><var>N</var> <var>M</var>\n<var>A_1</var> <var>B_1</var> <var>C_1</var> <var>D_1</var>\n<var>A_2</var> <var>B_2</var> <var>C_2</var> <var>D_2</var>\n<var>\\vdots</var>\n<var>A_M</var> <var>B_M</var> <var>C_M</var> <var>D_M</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>Print <var>X</var> and <var>Y</var> in this order, separated by a space, where <var>X</var> is the number of groups of connected ropes that form cycles, and <var>Y</var> is the number of those that do not.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>5 3\n3 R 5 B\n5 R 3 B\n4 R 2 B\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>1 2\n</pre>\n<p>There are three groups of connected ropes: <var>\\lbrace 1 \\rbrace</var>, <var>\\lbrace 2,4 \\rbrace</var>, and <var>\\lbrace 3,5 \\rbrace</var>.</p>\n<p>The group of ropes <var>\\lbrace 3,5 \\rbrace</var> forms a cycle, while the groups of rope <var>\\lbrace 1 \\rbrace</var> and ropes <var>\\lbrace 2,4 \\rbrace</var> do not.  Thus, <var>X = 1</var> and <var>Y = 2</var>.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>7 0\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>0 7\n</pre>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 3</h3><pre>7 6\n5 R 3 R\n7 R 4 R\n4 B 1 R\n2 R 3 B\n2 B 5 B\n1 B 7 B\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 3</h3><pre>2 1\n</pre></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/abc293/tasks/abc293_d"}