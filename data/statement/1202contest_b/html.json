{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>100</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p><font color=\"red\"><b>これはインタラクティブな問題です．ジャッジプログラム（インタラクタ）の実行に最大 1 秒程度を要するため，実行時間制限を長めに設定しています．</b></font></p>\n<p><var>10</var> 年にわたる長旅の末，あなたはついに大魔王 DEGwer 城に辿り着きました．\n城の入口はダンジョンになっており，これを通り抜けなければ大魔王 DEGwer の下には辿り着けません．</p>\n<p>ダンジョンは <var>H</var> 行 <var>W</var> 列のマス目状になっています．\n各マスは部屋であり，上下左右に隣接する部屋同士の間には<b>扉</b>が <var>1</var> つずつ設置されています．\nまた，最も左の列にある各部屋の左側には<b>入口</b>となる<b>扉</b>が，最も右の列にある各部屋の右側には<b>出口</b>となる<b>扉</b>が，それぞれ <var>1</var> つずつ設置されています．</p>\n<p>今，すべての扉は<b>未固定</b>の状態です．\n以下の魔法を交互に使うことで，あなたは「開いた扉を通行して移動を繰り返すことで，開いた入口から開いた出口に到達可能である」ように，大魔王 DEGwer はそうならないようにしたいです．</p>\n<ul>\n<li>あなた：「未固定の扉を任意に <var>1</var> つ選び，その扉を開いて（通行可能な状態で）固定する」魔法</li>\n<li>DEGwer：「未固定の扉を任意に <var>1</var> つ選び，その扉を閉じて（通行不可能な状態で）固定する」魔法</li>\n</ul>\n<p>ダンジョンの大きさ <var>(H, W)</var> と，どちらが先に魔法を使うかが与えられるので，互いに最善を尽くした場合にあなたの目的が達成可能かどうかを判定してください．\nさらに，あなたの目的が達成可能である場合には，その手順（あなたが使う魔法）を<font color=\"red\"><b>インタラクティブに</b></font>示してください．</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>1 \\leq H \\leq 20</var></li>\n<li><var>1 \\leq W \\leq 20</var></li>\n<li><var>\\textrm{move}</var> は <code>First</code> または <code>Second</code> のいずれかであり，<code>First</code> はあなたが先に魔法を使うことを，<code>Second</code> は大魔王 DEGwer が先に魔法を使うことを表す．</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる．</p>\n<pre><var>H</var> <var>W</var> <var>\\textrm{move}</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>互いに最善を尽くした場合にあなたの目的が達成可能である場合には <code>Yes</code> を，達成不可能である場合には <code>No</code> を出力せよ．</p>\n<p>さらに，<code>Yes</code> の場合には，あなたの目的を達成する手順（あなたが使う魔法）を以下の形式で<font color=\"red\"><b>インタラクティブに</b></font>出力せよ．（入出力例 2 も参考にせよ．）</p>\n<pre><var>t</var> <var>i</var> <var>j</var>\n</pre>\n<ul>\n<li><var>t</var> は <code>|</code> または <code>-</code> である．</li>\n<li><var>i</var>, <var>j</var> は整数である．</li>\n<li><var>t = {}</var><code>|</code> の場合，<var>1 \\leq i \\leq H</var> かつ <var>1 \\leq j \\leq W + 1</var> であり，魔法の対象として，横通行（左右に隣接する部屋同士の間，あるいは，入口または出口）の扉のうち，上から <var>i</var> 番目，左から <var>j</var> 番目のものを選ぶことを意味する．</li>\n<li><var>t = {}</var><code>-</code> の場合，<var>1 \\leq i \\leq H - 1</var> かつ <var>1 \\leq j \\leq W</var> であり，魔法の対象として，縦通行（上下に隣接する部屋同士の間）の扉のうち，上から <var>i</var> 番目，左から <var>j</var> 番目のものを選ぶことを意味する．</li>\n</ul>\n<p>あなたの出力に対し，同じ形式の入力が返ってくる．\nただし，<var>\\textrm{move} = {}</var><code>First</code> の場合は <code>Yes</code> に続けてあなたが先に出力し，<var>\\textrm{move} = {}</var><code>Second</code> の場合は <code>Yes</code> の出力の直後に先に入力される．\nいずれの場合も，<font color=\"red\"><b>出力を行うたびに，末尾に改行を入れて標準出力を flush すること．</b></font></p>\n<ul>\n<li><var>t</var> は <code>|</code>, <code>-</code>, <code>a</code>, <code>w</code> のいずれかである．</li>\n<li><var>t</var> が <code>|</code> または <code>-</code> の場合，出力と同じ形式で大魔王 DEGwer が次に選ぶ扉を表す．</li>\n<li><var>t = {}</var><code>a</code> の場合，<var>i = j = 0</var> であり，あなたのインタラクティブ回答が正答である（ことが確定した）ことを表す．</li>\n<li><var>t = {}</var><code>w</code> の場合，<var>i = j = 0</var> であり，あなたのインタラクティブ回答が正答でない（ことが確定した）ことを表す．</li>\n<li><var>t</var> が <code>a</code> または <code>w</code> の入力を受け取った場合，ただちにプログラムを終了すること．</li>\n</ul>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>1 1 First\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>No\n</pre>\n<p>この例では，ダンジョンは <var>1</var> つの部屋のみからなり，その部屋の左側に入口の扉が，右側に出口の扉があります．\nあなたの目的を達成するには両方の扉を開ける必要がありますが，あなたが先に魔法を使えるとしても，あなたが選ばなかった方の扉を大魔王 DEGwer が選ぶことで目的の達成が阻止されます．\nしたがって，あなたの目的は達成不可能です．</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>2 1 First\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>Yes\n...\n</pre>\n<p>この例では，以下のように，ダンジョンは縦に並んだ <var>2</var> つの部屋からなり，それらの間に縦通行の扉が <var>1</var> つあり，各部屋の左右に入口と出口の扉が計 <var>2</var> つずつあります．</p>\n<pre>| |\n -\n| |\n</pre>\n<p>あなたが先に魔法を使えるので，たとえば唯一の縦通行の扉 <code>- 1 1</code> を選んだとします．\nすると，大魔王 DEGwer がどのように扉を選んでも，残った入口と出口の <var>2</var> つずつの扉のうち <var>1</var> つずつをあなたが選ぶことができ，最初の魔法により <var>2</var> つの部屋間は移動可能となっているので，結果としてあなたの目的は達成可能であることがわかります．</p>\n<p>以下はインタラクティブ入出力の一例です．</p>\n<table class=\"table table-bordered\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">入力　　　</th>\n<th style=\"text-align: left;\">出力　　</th>\n<th style=\"text-align: left;\">説明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\"><code>2 1 First</code></td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\">入力が与えられます．</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\"><code>Yes</code></td>\n<td style=\"text-align: left;\">あなたの目的は達成可能なので <code>Yes</code> を出力します．</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\"><code>- 1 1</code></td>\n<td style=\"text-align: left;\">あなたは，縦通行の扉のうち，上から <var>1</var> 番目，左から <var>1</var> 番目のものを選び，開いて固定します．</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\"><code>| 1 2</code></td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\">大魔王 DEGwer は，横通行の扉のうち，上から <var>1</var> 番目，左から <var>2</var> 番目のもの（右上の出口）を選び，閉じて固定します．</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\"><code>| 2 2</code></td>\n<td style=\"text-align: left;\">あなたは，横通行の扉のうち，上から <var>2</var> 番目，左から <var>2</var> 番目のもの（右下の出口）を選び，開いて固定します．</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\"><code>| 2 1</code></td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\">大魔王 DEGwer は，横通行の扉のうち，上から <var>2</var> 番目，左から <var>1</var> 番目のもの（左下の入口）を選び，閉じて固定します．</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\"><code>| 1 1</code></td>\n<td style=\"text-align: left;\">あなたは，横通行の扉のうち，上から <var>1</var> 番目，左から <var>1</var> 番目のもの（左上の入口）を選び，開いて固定します．</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\"><code>a 0 0</code></td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\">この時点で，左上の開いた入口から右下の開いた出口に到達可能であることが確定し，正答であることを表す入力が与えられるので，ただちにプログラムを終了してください．</td>\n</tr>\n</tbody>\n</table>\n<p>この例ではあなたが先に魔法を使いますが，そうでない（ <var>\\mathrm{move} = {}</var><code>Second</code> である）場合には，<code>Yes</code> の出力の直後に大魔王 DEGwer が魔法の対象として選ぶ扉が同じ形式で入力されます．</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 3</h3><pre>2 1 Second\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 3</h3><pre>No\n</pre>\n<p>上の例と同じダンジョンですが，大魔王 DEGwer が先に魔法を使うので，あなたの目的は達成不可能となります．\nたとえば，上の例であなたが最初に選んだ縦通行の扉を選ばれると，入出力例 1 と同じ状況が縦に <var>2</var> つ並んだような状態となり，（いずれにおいても）あなたが先に魔法を使えるとしても目的は達成不可能です．</p></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>100</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p><font color=\"red\"><b>This is an interactive problem. Because the judge program (interactor) requires around 1 second in the worst case, the time limit is set to be longer.</b></font></p>\n<p>You have eventually reached the castle of Great Satan DEGwer after 10-year journey.\nThe entrance of the castle is a dungeon, which cannot avoid for arriving at DEGwer.</p>\n<p>The dungeon is of form a grid with <var>H</var> rows and <var>W</var> columns.\nEach of <var>H \\times W</var> squares is a room, and there is a <b>door</b> between any pair of adjacent rooms.\nIn addition, there is an <b>entrance door</b> on the left side of each room located in the left-most column, and there is an <b>exit door</b> on the right side of each room located in the right-most column.</p>\n<p>Now, all the door are <b>unfixed</b>.\nYou want to let the dungeon such that some open exit door can be reached from some open entrance door by repeatedly passing through open doors, and DEGwer wants to prevent your objective.\nFor their own objectives, you and DEGwer alternately use the following magics.</p>\n<ul>\n<li>Your magic: Choose any unfixed door, fix it as open (passable).</li>\n<li>DEGwer's magic: Choose any unfixed door, fix it as closed (impassable).</li>\n</ul>\n<p>You are given the size <var>(H, W)</var> of the dungeon and who uses the magic first.\nDetermine whether your objective is achievable or not when you and DEGwer do their best.\nIn addition, if your objective is achievable, indicate <font color=\"red\"><b>interactively</b></font> one possible way (your magics) to do so.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>1 \\leq H \\leq 20</var></li>\n<li><var>1 \\leq W \\leq 20</var></li>\n<li><var>\\textrm{move}</var> is either <code>First</code> or <code>Second</code>, where <code>First</code> means that you use the magic first, and <code>Second</code> means that DEGwer uses the magic first.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>The input is given from Standard Input in the following format:</p>\n<pre><var>H</var> <var>W</var> <var>\\textrm{move}</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>Print <code>Yes</code> if your objective is achievable and <code>No</code> otherwise, under the assumption that you and DEGwer do their best.</p>\n<p>In addition, if the answer is <code>Yes</code>, print <font color=\"red\"><b>interactively</b></font> in the following format for which doors you use magic. (See also Sample 2.)</p>\n<pre><var>t</var> <var>i</var> <var>j</var>\n</pre>\n<ul>\n<li><var>t</var> is either <code>|</code> or <code>-</code>.</li>\n<li><var>i</var> and <var>j</var> are integers.</li>\n<li>If <var>t = {}</var><code>|</code>, then <var>1 \\leq i \\leq H</var> and <var>1 \\leq j \\leq W + 1</var>, which represents that the door chosen as a target of the magic is the <var>i</var>-th from the top and the <var>j</var>-th from the left among those which are passed horizontally (i.e., the doors between two horizontally adjacent rooms and all the entrance and exit doors).</li>\n<li>If <var>t = {}</var><code>-</code>, then <var>1 \\leq i \\leq H - 1</var> and <var>1 \\leq j \\leq W</var>, which represents that the door chosen as a target of the magic is the <var>i</var>-th from the top and the <var>j</var>-th from the left among those which are passed vertically (i.e., the doors between two vertically adjacent rooms).</li>\n</ul>\n<p>Against your output, an input in the same format will be returned.\nNote that if <var>\\textrm{move} = {}</var><code>First</code>, then you should print your output followed by printing <code>Yes</code>, and if <var>\\textrm{move} = {}</var><code>Second</code>, then you should receive an input just after printing <code>Yes</code>.\nIn either case, <font color=\"red\"><b>each time you print something, end it with a newline and flush Standard Output</b></font>.</p>\n<ul>\n<li><var>t</var> is one of <code>|</code>, <code>-</code>, <code>a</code>, and <code>w</code>.</li>\n<li>If <var>t</var> is either <code>|</code> or <code>-</code>, then it represents the door chosen by DEGwer in the same manner.</li>\n<li>If <var>t = {}</var><code>a</code>, then <var>i = j = 0</var>, and it means that your interactive answer has been confirmed as a correct answer.</li>\n<li>If <var>t = {}</var><code>w</code>, then <var>i = j = 0</var>, and it means that your interactive answer has been confirmed as a wrong answer.</li>\n<li>If you receive an input with <var>t = {}</var><code>a</code> or <var>t = {}</var><code>w</code>, your program must halt immediately.</li>\n</ul>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>1 1 First\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>No\n</pre>\n<p>In this case, the dungeon consists of only one room, whose left side has a unique entrance door and right side has a unique exit door.\nFor your objective, you have to fix both doors as open, but it cannot be done even if you use the magic first.\nThus, your objective is not achievable.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>2 1 First\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>Yes\n...\n</pre>\n<p>In this case, as shown in below, the dungeon consists of two vertically adjacent rooms, there is a unique vertically passable door between them, and the left and right sides of both rooms have two entrance and exit doors, respectively, in total.</p>\n<pre>| |\n -\n| |\n</pre>\n<p>You use the magic first, and suppose that you choose the unique vertically passable door <code>- 1 1</code>.\nThen, no matter how DEGwer will choose doors, you can choose one from the remaining two entrance doors and one from the remaining two exit doors, which achieve your objective because the two rooms became connected by your first magic.</p>\n<p>The following is an example of interactive inputs and outputs.</p>\n<table class=\"table table-bordered\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">Input   </th>\n<th style=\"text-align: left;\">Output </th>\n<th style=\"text-align: left;\">Explanation</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\"><code>2 1 First</code></td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\">An input is given.</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\"><code>Yes</code></td>\n<td style=\"text-align: left;\">As your objective is achievable, you print <code>Yes</code>.</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\"><code>- 1 1</code></td>\n<td style=\"text-align: left;\">You fix as open one that is <var>1</var>st from the top and <var>1</var>st from the left among the vertically passable door.</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\"><code>| 1 2</code></td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\">DEGwer fixes as closed one that is <var>1</var>st from the top and <var>2</var>nd from the left among the horizontally passable doors, i.e., the upper-right exit door.</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\"><code>| 2 2</code></td>\n<td style=\"text-align: left;\">You fix as open one that is <var>2</var>nd from the top and <var>2</var>nd from the left among the horizontally passable doors, i.e., the lower-right exit door.</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\"><code>| 2 1</code></td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\">DEGwer fixes as closed one that is <var>2</var>nd from the top and <var>1</var>st from the left among the horizontally passable doors, i.e., the lower-left entrance door.</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\"><code>| 1 1</code></td>\n<td style=\"text-align: left;\">You fix as open one that is <var>1</var>st from the top and <var>1</var>st from the left among the horizontally passable doors, i.e., the upper-left entrance door.</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\"><code>a 0 0</code></td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\">At this point, it is confirmed that the open lower-right exit door can be reached from the open upper-left entrance door, and your program must halt immediately after receiving the input indicating it.</td>\n</tr>\n</tbody>\n</table>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 3</h3><pre>2 1 Second\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 3</h3><pre>No\n</pre>\n<p>The dungeon is the same as above, but your objective is not achievable as DEGwer uses the magic first.\nFor example, if DEGwer fixes the unique vertically passable door (that you choose first in Sample 2) as closed, then the situation is just like two parallel copies of Sample 1, in which your objective is not achievable even if you use the magic first.</p></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/degwer2023/tasks/1202contest_b"}