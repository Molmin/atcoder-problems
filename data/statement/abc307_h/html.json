{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>600</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p>英大文字および英小文字からなる長さ <var>L</var> の文字列 <var>S</var> が幅 <var>W</var> の電光掲示板に表示されており、<var>S</var> が右から左へ <var>1</var> 文字分の幅ずつスクロールするように切り替わっています。</p>\n<p>表示は、<var>S</var> の最後の文字が左端から消えると同時に <var>S</var> の最初の文字が右端から現れる、<var>L+W-1</var> 周期での繰り返しとなっています。</p>\n<p>例えば <var>W=5</var>、<var>S=</var> <code>ABC</code> のとき、電光掲示板の表示は</p>\n<ul>\n<li><code>ABC..</code></li>\n<li><code>BC...</code></li>\n<li><code>C....</code></li>\n<li><code>....A</code></li>\n<li><code>...AB</code></li>\n<li><code>..ABC</code></li>\n<li><code>.ABC.</code></li>\n</ul>\n<p>の <var>7</var> つの状態を繰り返します。（<code>.</code> は文字が表示されていないことを表します）</p>\n<p>より厳密には、各 <var>k=0,\\ldots,L+W-2</var> に対して、表示が次のようになっている相異なる状態が定まります。</p>\n<ul>\n<li><var>x</var> を <var>L+W-1</var> で割ったあまりを <var>f(x)</var> と表す。電光掲示板の左から <var>(i+1)</var> 番目の位置には、<var>f(i+k)&lt;L</var> のとき <var>S</var> の <var>f(i+k)+1</var> 番目の文字が表示され、そうでないとき何も表示されていない。</li>\n</ul>\n<p>英大文字, 英小文字, <code>.</code>, <code>_</code> からなる長さ <var>W</var> の文字列 <var>P</var> が与えられます。<br>\n電光掲示板の <var>L+W-1</var> 種類の状態のうち、<code>_</code> の箇所を除いて <var>P</var> と一致するものの個数を求めてください。<br>\nより厳密には、以下の条件を満たす状態の個数を求めてください。</p>\n<ul>\n<li>全ての <var>i=1,\\ldots,W</var> に対して次のいずれかが成立する<ul>\n<li><var>P</var> の <var>i</var> 文字目は <code>_</code> である</li>\n<li>電光掲示板の左から <var>i</var> 番目に表示されている文字が <var>P</var> の <var>i</var> 文字目と等しい</li>\n<li>電光掲示板の左から <var>i</var> 番目には何も表示されておらず、かつ、<var>P</var> の <var>i</var> 文字目は <code>.</code> である</li>\n</ul>\n</li>\n</ul>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>1 \\leq L \\leq W \\leq 3\\times 10^5</var></li>\n<li><var>L,W</var> は整数である</li>\n<li><var>S</var> は英大文字および英小文字のみからなる長さ <var>L</var> の文字列である</li>\n<li><var>P</var> は英大文字, 英小文字, <code>.</code>, <code>_</code> のみからなる長さ <var>W</var> の文字列である</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>\n<pre><var>L</var> <var>W</var>\n<var>S</var>\n<var>P</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>答えを出力せよ。  </p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>3 5\nABC\n..___\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>3\n</pre>\n<p>電光掲示板の表示が <code>....A</code>, <code>...AB</code>, <code>..ABC</code> であるときの <var>3</var> 状態が該当します。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>11 15\nabracadabra\n__.._________ab\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>2\n</pre>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 3</h3><pre>20 30\nabaababbbabaabababba\n__a____b_____a________________\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 3</h3><pre>2\n</pre>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 4</h3><pre>1 1\na\n_\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 4</h3><pre>1\n</pre></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>600</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>There is a length <var>L</var> string <var>S</var> consisting of uppercase and lowercase English letters displayed on an electronic bulletin board with a width of <var>W</var>. The string <var>S</var> scrolls from right to left by a width of one character at a time.</p>\n<p>The display repeats a cycle of <var>L+W-1</var> states, with the first character of <var>S</var> appearing from the right edge when the last character of <var>S</var> disappears from the left edge.</p>\n<p>For example, when <var>W=5</var> and <var>S=</var> <code>ABC</code>, the board displays the following seven states in a loop:</p>\n<ul>\n<li><code>ABC..</code></li>\n<li><code>BC...</code></li>\n<li><code>C....</code></li>\n<li><code>....A</code></li>\n<li><code>...AB</code></li>\n<li><code>..ABC</code></li>\n<li><code>.ABC.</code></li>\n</ul>\n<p>(<code>.</code> represents a position where no character is displayed.)</p>\n<p>More precisely, there are distinct states for <var>k=0,\\ldots,L+W-2</var> in which the display is as follows.</p>\n<ul>\n<li>Let <var>f(x)</var> be the remainder when <var>x</var> is divided by <var>L+W-1</var>. The <var>(i+1)</var>-th position from the left of the board displays the <var>(f(i+k)+1)</var>-th character of <var>S</var> when <var>f(i+k)&lt;L</var>, and nothing otherwise.</li>\n</ul>\n<p>You are given a length <var>W</var> string <var>P</var> consisting of uppercase English letters, lowercase English letters, <code>.</code>, and <code>_</code>.<br>\nFind the number of states among the <var>L+W-1</var> states of the board that coincide <var>P</var> except for the positions with <code>_</code>.<br>\nMore precisely, find the number of states that satisfy the following condition.</p>\n<ul>\n<li>For every <var>i=1,\\ldots,W</var>, one of the following holds.<ul>\n<li>The <var>i</var>-th character of <var>P</var> is <code>_</code>.</li>\n<li>The character displayed at the <var>i</var>-th position from the left of the board is equal to the <var>i</var>-th character of <var>P</var>.</li>\n<li>Nothing is displayed at the <var>i</var>-th position from the left of the board, and the <var>i</var>-th character of <var>P</var> is <code>.</code>.</li>\n</ul>\n</li>\n</ul>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>1 \\leq L \\leq W \\leq 3\\times 10^5</var></li>\n<li><var>L</var> and <var>W</var> are integers.</li>\n<li><var>S</var> is a string of length <var>L</var> consisting of uppercase and lowercase English letters.</li>\n<li><var>P</var> is a string of length <var>W</var> consisting of uppercase and lowercase English letters, <code>.</code>, and <code>_</code>.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>The input is given from Standard Input in the following format:</p>\n<pre><var>L</var> <var>W</var>\n<var>S</var>\n<var>P</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>Print the answer.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>3 5\nABC\n..___\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>3\n</pre>\n<p>There are three desired states, where the board displays <code>....A</code>, <code>...AB</code>, <code>..ABC</code>.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>11 15\nabracadabra\n__.._________ab\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>2\n</pre>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 3</h3><pre>20 30\nabaababbbabaabababba\n__a____b_____a________________\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 3</h3><pre>2\n</pre>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 4</h3><pre>1 1\na\n_\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 4</h3><pre>1\n</pre></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/abc307/tasks/abc307_h"}