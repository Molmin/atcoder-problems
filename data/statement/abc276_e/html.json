{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>500</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p>縦 <var>H</var> 行、横 <var>W</var> 列のマス目があり、上から <var>i \\, (1 \\leq i \\leq H)</var> 行目、左から <var>j \\, (1 \\leq j \\leq W)</var> 列目のマスを <var>(i, j)</var> と表します。</p>\n<p>各マスは「始点」「道」「障害物」のいずれかです。<br>\nマス <var>(i, j)</var> の状態は文字 <var>C_{i, j}</var> で表され、<var>C_{i, j} = </var> <code>S</code> なら始点、<var>C_{i, j} = </var> <code>.</code> なら道、<var>C_{i, j} = </var> <code>#</code> なら障害物です。始点のマスはただ一つ存在します。</p>\n<p>始点のマスを出発し、上下または左右に隣接するマスに移動することを繰り返して、障害物のマスを通らずに始点のマスへ戻ってくるような長さ <var>4</var> 以上の経路であって、最初と最後を除き同じマスを通らないようなものが存在するか判定してください。<br>\nより厳密には、以下の条件を満たす整数 <var>n</var> およびマスの列 <var>(x_0, y_0), (x_1, y_1), \\dots, (x_n, y_n)</var> が存在するか判定してください。</p>\n<ul>\n<li><var>n \\geq 4</var></li>\n<li><var>C_{x_0, y_0} = C_{x_n, y_n} = </var> <code>S</code></li>\n<li><var>1 \\leq i \\leq n - 1</var> ならば <var>C_{x_i, y_i} = </var> <code>.</code></li>\n<li><var>1 \\leq i \\lt j \\leq n - 1</var> ならば <var>(x_i, y_i) \\neq (x_j, y_j)</var></li>\n<li><var>0 \\leq i \\leq n - 1</var> ならばマス <var>(x_i, y_i)</var> とマス <var>(x_{i+1}, y_{i+1})</var> は上下または左右に隣接する</li>\n</ul>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>4 \\leq H \\times W \\leq 10^6</var></li>\n<li><var>H, W</var> は <var>2</var> 以上の整数</li>\n<li><var>C_{i, j}</var> は <code>S</code>、<code>.</code>、<code>#</code> のいずれか</li>\n<li><var>C_{i, j} =</var> <code>S</code> となる <var>(i, j)</var> がただ一つ存在する</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>\n<pre><var>H</var> <var>W</var>\n<var>C_{1, 1} \\ldots C_{1, W}</var>\n<var>\\vdots</var>\n<var>C_{H, 1} \\ldots C_{H, W}</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>問題文の条件を満たす経路が存在するならば <code>Yes</code> を、存在しないならば <code>No</code> を出力せよ。</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>4 4\n....\n#.#.\n.S..\n.##.\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>Yes\n</pre>\n<p><var>(3, 2) \\rightarrow (2, 2) \\rightarrow (1, 2) \\rightarrow (1, 3) \\rightarrow (1, 4) \\rightarrow (2, 4) \\rightarrow (3, 4) \\rightarrow (3, 3) \\rightarrow (3, 2)</var> という経路が条件を満たします。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>2 2\nS.\n.#\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>No\n</pre>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 3</h3><pre>5 7\n.#...#.\n..#.#..\n...S...\n..#.#..\n.#...#.\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 3</h3><pre>No\n</pre></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>500</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>We have a grid with <var>H</var> rows from top to bottom and <var>W</var> columns from left to right. Let <var>(i, j)</var> denote the <var>i</var>-th row from the top <var>(1 \\leq i \\leq H)</var> and <var>j</var>-th column from the left <var>(1 \\leq j \\leq W)</var>.</p>\n<p>Each square is one of the following: the initial point, a road, and an obstacle.<br>\nA square <var>(i, j)</var> is represented by a character <var>C_{i, j}</var>. The square is the initial point if <var>C_{i, j} = </var> <code>S</code>, a road if <var>C_{i, j} = </var> <code>.</code>, and an obstacle if <var>C_{i, j} = </var> <code>#</code>. There is exactly one initial point.</p>\n<p>Determine whether there is a path of length <var>4</var> or greater that starts at the initial point, repeats moving vertically or horizontally to an adjacent square, and returns to the initial point without going through an obstacle or visiting the same square multiple times except at the beginning and the end.<br>\nMore formally, determine whether there are an integer <var>n</var> and a sequence of squares <var>(x_0, y_0), (x_1, y_1), \\dots, (x_n, y_n)</var> that satisfy the following conditions.</p>\n<ul>\n<li><var>n \\geq 4</var>.</li>\n<li><var>C_{x_0, y_0} = C_{x_n, y_n} = </var> <code>S</code>.</li>\n<li>If <var>1 \\leq i \\leq n - 1</var>, then <var>C_{x_i, y_i} = </var> <code>.</code>.</li>\n<li>If <var>1 \\leq i \\lt j \\leq n - 1</var>, then <var>(x_i, y_i) \\neq (x_j, y_j)</var>.</li>\n<li>If <var>0 \\leq i \\leq n - 1</var>, then square <var>(x_i, y_i)</var> and square <var>(x_{i+1}, y_{i+1})</var> are vertically or horizontally adjacent to each other.</li>\n</ul>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>4 \\leq H \\times W \\leq 10^6</var></li>\n<li><var>H</var> and <var>W</var> are integers greater than or equal to <var>2</var>.</li>\n<li><var>C_{i, j}</var> is <code>S</code>, <code>.</code>, or <code>#</code>.</li>\n<li>There is exactly one <var>(i, j)</var> such that <var>C_{i, j} =</var> <code>S</code>.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>The input is given from Standard Input in the following format:</p>\n<pre><var>H</var> <var>W</var>\n<var>C_{1, 1} \\ldots C_{1, W}</var>\n<var>\\vdots</var>\n<var>C_{H, 1} \\ldots C_{H, W}</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>If there is a path that satisfies the conditions in the Problem Statement, print <code>Yes</code>; otherwise, print <code>No</code>.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>4 4\n....\n#.#.\n.S..\n.##.\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>Yes\n</pre>\n<p>The path <var>(3, 2) \\rightarrow (2, 2) \\rightarrow (1, 2) \\rightarrow (1, 3) \\rightarrow (1, 4) \\rightarrow (2, 4) \\rightarrow (3, 4) \\rightarrow (3, 3) \\rightarrow (3, 2)</var> satisfies the conditions.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>2 2\nS.\n.#\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>No\n</pre>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 3</h3><pre>5 7\n.#...#.\n..#.#..\n...S...\n..#.#..\n.#...#.\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 3</h3><pre>No\n</pre></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/abc276/tasks/abc276_e"}