{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>525</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p><var>N</var> 個のボールが左右一列に並んでいます。<br>\n左から <var>i</var> <var>(1\\leq i\\leq N)</var> 番目のボールは色 <var>C_i</var> で、価値は <var>V_i</var> です。</p>\n<p>高橋君はこの列から <strong>ちょうど</strong>  <var>K</var> 個のボールを取り除いたうえで、\n残ったボールを元の順番で並べたときに同じ色のボールが隣り合わないようにしたいと考えています。\nまた、その条件のもとで、列に残ったボールの価値の総和をなるべく大きくしたいと考えています。</p>\n<p>高橋君が、残ったボールの列において同じ色のボールが隣り合わないように <var>K</var> 個のボールを取り除くことができるか判定し、\nできる場合は列に残ったボールの価値の総和としてあり得る最大の値を求めてください。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>1\\leq K&lt;N\\leq 2\\times 10^5</var></li>\n<li><var>K\\leq 500</var></li>\n<li><var>1\\leq C_i\\leq N</var></li>\n<li><var>1\\leq V_i\\leq 10^9</var></li>\n<li>入力はすべて整数</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>\n<pre><var>N</var> <var>K</var>\n<var>C_1</var> <var>V_1</var>\n<var>C_2</var> <var>V_2</var>\n<var>\\vdots</var>\n<var>C_N</var> <var>V_N</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>高橋君が同じ色のボールが隣り合わないように<var>K</var> 個のボールを取り除くことができる場合は、\n列に残ったボールの価値の総和としてあり得る最大値を整数で出力せよ。\nできない場合は、<var>-1</var> を出力せよ。</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>5 2\n1 1\n3 5\n3 3\n1 4\n1 2\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>10\n</pre>\n<p>左から、<var>3,5</var> 番目のボールを取り除くと、残ったボールは左から順に色 <var>1,3,1</var> であるため、\nどの隣り合う <var>2</var> つのボールの色も異なり、条件をみたしています。 <br>\nこのとき、列に残ったボールの価値の和は <var>V_1+V_2+V_4=1+5+4=10</var> です。<br>\n他にも <var>5</var> つのボールから <var>2</var> つのボールを取り除く方法であって、同じ色のボールが隣り合わないようにできるものは存在しますが、\n<var>3,5</var> 番目のボールを取り除いた時に残ったボールの価値の和は最大となります。</p>\n<p>よって、<var>10</var> を出力します。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>3 1\n1 10\n1 10\n1 10\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>-1\n</pre>\n<p>どのようにボールを <var>1</var> つ取り除いても色 <var>1</var> のボールが隣り合ってしまいます。<br>\nよって、 <var>-1</var> を出力します。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 3</h3><pre>3 1\n1 1\n2 2\n3 3\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 3</h3><pre>5\n</pre>\n<p>必ずちょうど <var>K</var> 個のボールを取り除く必要があることに注意してください。</p></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score: <var>525</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>There are <var>N</var> balls lined up in a row.<br>\nThe <var>i</var>-th ball from the left is of color <var>C_i</var> and has a value of <var>V_i</var>.</p>\n<p>Takahashi wants to remove <strong>exactly</strong> <var>K</var> balls from this row so that no two adjacent balls have the same color when arranging the remaining balls without changing the order. \nAdditionally, under that condition, he wants to maximize the total value of the balls remaining in the row.</p>\n<p>Determine if Takahashi can remove <var>K</var> balls so that no two adjacent balls in the remaining row have the same color. If it is possible, find the maximum possible total value of the remaining balls.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>1\\leq K&lt;N\\leq 2\\times 10^5</var></li>\n<li><var>K\\leq 500</var></li>\n<li><var>1\\leq C_i\\leq N</var></li>\n<li><var>1\\leq V_i\\leq 10^9</var></li>\n<li>All input values are integers.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>The input is given from Standard Input in the following format:</p>\n<pre><var>N</var> <var>K</var>\n<var>C_1</var> <var>V_1</var>\n<var>C_2</var> <var>V_2</var>\n<var>\\vdots</var>\n<var>C_N</var> <var>V_N</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>If Takahashi can remove <var>K</var> balls so that no two adjacent balls in the remaining row have the same color, print the maximum possible total value of the remaining balls as an integer.\nOtherwise, print <var>-1</var>.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>5 2\n1 1\n3 5\n3 3\n1 4\n1 2\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>10\n</pre>\n<p>After removing the <var>3</var>-rd and <var>5</var>-th balls from the left, the remaining balls are of colors <var>1, 3, 1</var> from left to right, so no two adjacent balls have the same color, satisfying the condition. <br>\nThe total value of the remaining balls is <var>V_1+V_2+V_4=1+5+4=10</var>.<br>\nThere are other ways to remove two balls from the five balls so that no two adjacent balls have the same color, but the total value of the remaining balls is maximized when removing the <var>3</var>-rd and <var>5</var>-th balls.</p>\n<p>Hence, print <var>10</var>.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>3 1\n1 10\n1 10\n1 10\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>-1\n</pre>\n<p>No matter how you remove one ball, balls of color <var>1</var> will end up next to each other.<br>\nHence, print <var>-1</var>.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 3</h3><pre>3 1\n1 1\n2 2\n3 3\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 3</h3><pre>5\n</pre>\n<p>Note that exactly <var>K</var> balls must be removed.</p></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/abc345/tasks/abc345_e"}