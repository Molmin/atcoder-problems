{"html":{"en":"<span class=\"lang-en\">\n<p>Score: <var>100</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>You are given a tree <var>A</var> with <var>N</var> vertices. The vertices of <var>A</var> are numbered <var>1, 2, \\dots, N</var>, and the <var>i</var>-th edge (<var>1 \\leq i \\leq N-1</var>) connects vertices <var>u_i</var> and <var>v_i</var> of <var>A</var>.</p>\n<p>Additionally, you are given another tree <var>B</var> with <var>N</var> vertices. The vertices of <var>B</var> are also numbered <var>1, 2, \\dots, N</var>, and the <var>j</var>-th edge (<var>1 \\leq j \\leq N-1</var>) connects vertices <var>x_j</var> and <var>y_j</var> of <var>B</var>.</p>\n<p>Your task is to find a pair of permutations <var>((P_1, P_2, \\dots, P_{N-1}), (Q_1, Q_2, \\dots, Q_{N-1}))</var> that satisfies the following conditions:</p>\n<blockquote>\n<p><strong>Conditions</strong></p>\n<p>Perform the following operations 1. and 2. in order for <var>k = 1, 2, \\dots, N-1</var>. <strong>After completing operations 1. and 2. for each <var>k</var></strong>, both <var>A</var> and <var>B</var> must remain as trees.</p>\n<ol>\n<li>In tree <var>A</var>, remove the edge connecting vertices <var>u_{P_k}</var> and <var>v_{P_k}</var>, and add an edge connecting vertices <var>x_{Q_k}</var> and <var>y_{Q_k}</var>.</li>\n<li>In tree <var>B</var>, remove the edge connecting vertices <var>x_{Q_k}</var> and <var>y_{Q_k}</var>, and add an edge connecting vertices <var>u_{P_k}</var> and <var>v_{P_k}</var>.</li>\n</ol>\n</blockquote>\n<p>It can be proven that under the constraints of this problem, a valid solution always exists.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li>All input values are integers.</li>\n<li><var>2 \\leq N \\leq 1000</var></li>\n<li><var>1 \\leq u_i, v_i, x_j, y_j \\leq N</var></li>\n<li>The given <var>A</var> and <var>B</var> form trees.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>The input is given from Standard Input in the following format:</p>\n<pre><var>N</var>\n<var>u_1</var> <var>v_1</var>\n<var>u_2</var> <var>v_2</var>\n<var>\\vdots</var>\n<var>u_{N-1}</var> <var>v_{N-1}</var>\n<var>x_1</var> <var>y_1</var>\n<var>x_2</var> <var>y_2</var>\n<var>\\vdots</var>\n<var>x_{N-1}</var> <var>y_{N-1}</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>Output the answer in the following format:</p>\n<pre><var>P_1</var> <var>P_2</var> <var>\\cdots</var> <var>P_{N-1}</var>\n<var>Q_1</var> <var>Q_2</var> <var>\\cdots</var> <var>Q_{N-1}</var>\n</pre>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>4\n1 2\n2 3\n3 4\n1 2\n2 4\n2 3\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>3 1 2\n2 1 3\n</pre>\n<p>Before the operation, <var>A</var> is a path graph, and <var>B</var> is a star graph.</p>\n<p>After the operation for <var>k = 1</var>, <var>A</var> becomes a star graph, and <var>B</var> becomes a path graph.</p>\n<p>In the operations for <var>k = 2</var>, the same edge (in terms of vertex numbers) is removed and added, so the shape of the tree remains unchanged.</p>\n<p>After completing the operations for <var>k = 3</var>, the original shapes of trees <var>A</var> and <var>B</var> are completely swapped.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>2\n1 2\n2 1\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>1\n1\n</pre>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 3</h3><pre>7\n1 2\n1 3\n2 4\n2 5\n3 6\n3 7\n1 5\n1 6\n1 7\n5 2\n6 3\n7 4\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 3</h3><pre>1 2 3 4 5 6\n1 2 6 4 5 3\n</pre></section>\n</div>\n</span>","ja":"<span class=\"lang-ja\">\n<p>配点 : <var>100</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p><var>N</var> 頂点の木 <var>A</var> が与えられます。<var>A</var> の頂点には <var>1,2,\\dots ,N</var> の番号がついており、<var>i</var> 番目 (<var>1 ≤ i ≤ N - 1</var>) の辺は <var>A</var> の頂点 <var>u_i,v_i</var> を結んでいます。</p>\n<p>さらに、<var>N</var> 頂点の木 <var>B</var> が与えられます。<var>B</var> の頂点にも <var>1,2,\\dots ,N</var> の番号がついており、<var>j</var> 番目 (<var>1 ≤ j ≤ N - 1</var>) の辺は <var>B</var> の頂点 <var>x_j,y_j</var> を結んでいます。</p>\n<p>次の条件を満たす <var>(1,2,\\dots ,N-1)</var> の順列の組 <var>((P_1,P_2,\\dots,P_{N-1}),(Q_1,Q_2,\\dots ,Q_{N-1}))</var> を <var>1</var> つ求めてください。</p>\n<blockquote>\n<p><strong>条件</strong></p>\n<p><var>k=1,2,\\dots ,N-1</var> の順に次の 1. と 2. の操作を行う。<strong>各 <var>k</var> において 1. と 2. の操作が終わったとき</strong>、<var>A</var> も <var>B</var> も再び木となる。</p>\n<ol>\n<li>木 <var>A</var> において、頂点 <var>u_{P_k},v_{P_k}</var> を結ぶ辺を削除し、頂点 <var>x_{Q_k},y_{Q_k}</var> を結ぶ辺を追加する。</li>\n<li>木 <var>B</var> において、頂点 <var>x_{Q_k},y_{Q_k}</var> を結ぶ辺を削除し、頂点 <var>u_{P_k},v_{P_k}</var> を結ぶ辺を追加する。</li>\n</ol>\n</blockquote>\n<p>なお、この問題の制約下で、答えは必ず存在することが証明できます。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li>入力はすべて整数</li>\n<li><var>2\\le N\\le 1000</var></li>\n<li><var>1\\le u_i, v_i, x_j, y_j\\le N</var></li>\n<li>与えられる <var>A,B</var> は木をなす</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>\n<pre><var>N</var>\n<var>u_1</var> <var>v_1</var>\n<var>u_2</var> <var>v_2</var>\n<var>\\vdots</var>\n<var>u_{N-1}</var> <var>v_{N-1}</var>\n<var>x_1</var> <var>y_1</var>\n<var>x_2</var> <var>y_2</var>\n<var>\\vdots</var>\n<var>x_{N-1}</var> <var>y_{N-1}</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>以下の形式で出力せよ。</p>\n<pre><var>P_1</var> <var>P_2</var> <var>\\cdots</var> <var>P_{N-1}</var>\n<var>Q_1</var> <var>Q_2</var> <var>\\cdots</var> <var>Q_{N-1}</var>\n</pre>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>4\n1 2\n2 3\n3 4\n1 2\n2 4\n2 3\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>3 1 2\n2 1 3\n</pre>\n<p>操作前の木は、 <var>A</var> はパスグラフ、 <var>B</var> はスターグラフになっています。</p>\n<p><var>k=1</var> の操作が終わったとき、<var>A</var> がスターグラフに、 <var>B</var> がパスグラフになっています。</p>\n<p><var>k=2</var> の操作では結んでいる頂点の番号が同じ辺を削除・追加しているので、木の形は変わりません。</p>\n<p><var>k=3</var> の操作が終わったとき、最初の <var>A,B</var> の木の形がちょうど入れ替わっています。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>2\n1 2\n2 1\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>1\n1\n</pre>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 3</h3><pre>7\n1 2\n1 3\n2 4\n2 5\n3 6\n3 7\n1 5\n1 6\n1 7\n5 2\n6 3\n7 4\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 3</h3><pre>1 2 3 4 5 6\n1 2 6 4 5 3\n</pre></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/ttpc2024_1/tasks/ttpc2024_1_g"}