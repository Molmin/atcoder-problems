{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>500</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p>各要素の値が <var>0</var> または <var>1</var> である <var>H</var> 行 <var>W</var> 列の行列 <var>A</var> が与えられます。\n<var>1 \\leq i \\leq H</var> かつ <var>1 \\leq j \\leq W</var> を満たす整数の組 <var>(i,j)</var> について、<var>A</var> の <var>i</var> 行目 <var>j</var> 列目の要素を <var>A_{i,j}</var> で表します。 </p>\n<p>行列 <var>A</var> に対し、以下の操作を <var>0</var> 回以上の好きな回数行うことができます。  </p>\n<ul>\n<li><var>1 \\leq i \\leq H</var> を満たす整数 <var>i</var> を選び、<var>1 \\leq j \\leq W</var> を満たす全ての整数 <var>j</var> に対して <var>A_{i,j}</var> の値を <var>1-A_{i,j}</var> で置き換える。</li>\n</ul>\n<p>また、<var>A_{i,j}</var> は行列において上下左右に同じ値が存在しない、すなわち <var>4</var> つの整数組 <var>(x,y) = (i-1,j),(i+1,j),(i,j-1),(i,j+1)</var> のいずれかであって、 <var>1 \\leq x \\leq H, 1 \\leq y \\leq W</var> かつ <var>A_{i,j} = A_{x,y}</var> を満たすものが存在しないとき、またそのときに限り<strong>孤立した要素</strong>であると定義されます。</p>\n<p>操作を繰り返し行列 <var>A</var> の任意の要素が孤立した要素でない状態にすることが可能か判定し、可能な場合は行う操作回数の最小値を求めてください。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>2 \\leq H,W \\leq 1000</var></li>\n<li><var>A_{i,j} = 0</var> または <var>A_{i,j} = 1</var></li>\n<li>入力はすべて整数</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>\n<pre><var>H</var> <var>W</var>\n<var>A_{1,1}</var> <var>A_{1,2}</var> <var>\\ldots</var> <var>A_{1,W}</var>\n<var>A_{2,1}</var> <var>A_{2,2}</var> <var>\\ldots</var> <var>A_{2,W}</var> \n<var>\\vdots</var>\n<var>A_{H,1}</var> <var>A_{H,2}</var> <var>\\ldots</var> <var>A_{H,W}</var> \n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>操作を繰り返すことにより孤立した要素が存在しないようにできる場合は操作回数の最小値を、できない場合は <code>-1</code> を出力せよ。</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>3 3\n1 1 0\n1 0 1\n1 0 0\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>1\n</pre>\n<p><var>i = 1</var> を選択し操作を行うと、<var>A = ((0,0,1),(1,0,1),(1,0,0))</var> となり、孤立した要素は存在しなくなります。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>4 4\n1 0 0 0\n0 1 1 1\n0 0 1 0\n1 1 0 1\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>2\n</pre>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 3</h3><pre>2 3\n0 1 0\n0 1 1\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 3</h3><pre>-1\n</pre></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>500</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>You are given a matrix <var>A</var> with <var>H</var> rows and <var>W</var> columns.  The value of each of its elements is <var>0</var> or <var>1</var>.\nFor an integer pair <var>(i, j)</var> such that <var>1 \\leq i \\leq H</var> and <var>1 \\leq j \\leq W</var>, we denote by <var>A_{i,j}</var> the element at the <var>i</var>-th row and <var>j</var>-th column.</p>\n<p>You can perform the following operation on the matrix <var>A</var> any number of times (possibly zero):  </p>\n<ul>\n<li>Choose an integer <var>i</var> such that <var>1 \\leq i \\leq H</var>.  For every integer <var>j</var> such that <var>1 \\leq j \\leq W</var>, replace the value of <var>A_{i,j}</var> with <var>1-A_{i,j}</var>.  </li>\n</ul>\n<p><var>A_{i,j}</var> is said to be <strong>isolated</strong> if and only if there is no adjacent element with the same value; in other words, if and only if none of the four integer pairs <var>(x,y) = (i-1,j),(i+1,j),(i,j-1),(i,j+1)</var> satisfies <var>1 \\leq x \\leq H, 1 \\leq y \\leq W</var>, and <var>A_{i,j} = A_{x,y}</var>.</p>\n<p>Determine if you can make the matrix <var>A</var> in such a state that no element is isolated by repeating the operation.  If it is possible, find the minimum number of operations required to do so.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>2 \\leq H,W \\leq 1000</var></li>\n<li><var>A_{i,j} = 0</var> or <var>A_{i,j} = 1</var></li>\n<li>All values in the input are integers.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>The input is given from Standard Input in the following format:</p>\n<pre><var>H</var> <var>W</var>\n<var>A_{1,1}</var> <var>A_{1,2}</var> <var>\\ldots</var> <var>A_{1,W}</var>\n<var>A_{2,1}</var> <var>A_{2,2}</var> <var>\\ldots</var> <var>A_{2,W}</var> \n<var>\\vdots</var>\n<var>A_{H,1}</var> <var>A_{H,2}</var> <var>\\ldots</var> <var>A_{H,W}</var> \n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>If you can make it in such a state that no element is isolated by repeating the operation, print the minimum number of operations required to do so; otherwise, print <code>-1</code>.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>3 3\n1 1 0\n1 0 1\n1 0 0\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>1\n</pre>\n<p>An operation with <var>i = 1</var> makes <var>A = ((0,0,1),(1,0,1),(1,0,0))</var>, where there is no longer an isolated element.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>4 4\n1 0 0 0\n0 1 1 1\n0 0 1 0\n1 1 0 1\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>2\n</pre>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 3</h3><pre>2 3\n0 1 0\n0 1 1\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 3</h3><pre>-1\n</pre></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/abc283/tasks/abc283_e"}