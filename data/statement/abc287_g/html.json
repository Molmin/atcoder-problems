{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>600</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p>高橋君は <var>N</var> 種類のカードを <var>10^{100}</var> 枚ずつ持っています。はじめ、<var>i</var> 種類目のカードの得点は <var>a_i</var> で、使用可能枚数は <var>b_i</var> です。</p>\n<p>以下の形式のクエリが <var>Q</var> 個与えられるので、順に処理してください。</p>\n<ul>\n<li><code>1 x y</code> : <var>x</var> 種類目のカードの得点を <var>y</var> に設定</li>\n<li><code>2 x y</code> : <var>x</var> 種類目のカードの使用可能枚数を <var>y</var> に設定</li>\n<li><code>3 x</code> : 次の条件を満たすように <var>x</var> 枚のカードを選ぶことができるならば選ばれたカードの得点の総和の最大値を、そうでなければ <code>-1</code> を出力<ul>\n<li>どの種類のカードもその使用可能枚数を超えて選ばれない</li>\n</ul>\n</li>\n</ul>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>1 \\leq N,Q \\leq 2 \\times 10^5</var></li>\n<li><var>0 \\leq a_i \\leq 10^9</var></li>\n<li><var>0 \\leq b_i \\leq 10^4</var></li>\n<li><var>1</var> 種類目のクエリにおいて <var>1 \\leq x \\leq N, 0 \\leq y \\leq 10^9</var></li>\n<li><var>2</var> 種類目のクエリにおいて <var>1 \\leq x \\leq N, 0 \\leq y \\leq 10^4</var></li>\n<li><var>3</var> 種類目のクエリにおいて <var>1 \\leq x \\leq 10^9</var></li>\n<li><var>3</var> 種類目のクエリが <var>1</var> 個以上含まれる</li>\n<li>入力はすべて整数</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。ただし、<var>\\mathrm{query}_i</var> で <var>i</var> 番目のクエリを表す。</p>\n<pre><var>N</var>\n<var>a_1</var> <var>b_1</var>\n<var>\\vdots</var>\n<var>a_N</var> <var>b_N</var>\n<var>Q</var>\n<var>\\mathrm{query}_1</var>\n<var>\\vdots</var>\n<var>\\mathrm{query}_Q</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p><var>3</var> 種類目のクエリの個数を <var>M</var> とする。<var>M</var> 行出力をせよ。<br>\n<var>i</var> 行目には <var>i</var> 番目の <var>3</var> 種類目のクエリに対する出力をせよ。</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>3\n1 1\n2 2\n3 3\n7\n3 4\n1 1 10\n3 4\n2 1 0\n2 3 0\n3 4\n3 2\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>11\n19\n-1\n4\n</pre>\n<p><var>1</var> 番目の <var>3</var> 種類目のクエリでは、<var>2</var> 種類目のカードを <var>1</var> 枚、<var>3</var> 種類目のカードを <var>3</var> 枚選ぶことで得点の総和が <var>11</var> となり、これが最大です。<br>\n<var>2</var> 番目の <var>3</var> 種類目のクエリでは、<var>1</var> 種類目のカードを <var>1</var> 枚、<var>3</var> 種類目のカードを <var>3</var> 枚選ぶことで得点の総和が <var>19</var> となり、これが最大です。<br>\n<var>3</var> 番目の <var>3</var> 種類目のクエリでは、<var>4</var> 枚のカードを選ぶことができないため出力は <code>-1</code> となります。<br>\n<var>4</var> 番目の <var>3</var> 種類目のクエリでは、<var>2</var> 種類目のカードを <var>2</var> 枚選ぶことで得点の総和が <var>4</var> となり、これが最大です。</p></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>600</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>Takahashi has <var>10^{100}</var> cards of each of <var>N</var> kinds.  Initially, the score and quota of the <var>i</var>-th kind of card are set to <var>a_i</var> and <var>b_i</var>, respectively.</p>\n<p>Given <var>Q</var> queries in the following formats, process them in order.</p>\n<ul>\n<li><code>1 x y</code>: set the score of the <var>x</var>-th kind of card to <var>y</var>.</li>\n<li><code>2 x y</code>: set the quota of the <var>x</var>-th kind of card to <var>y</var>.</li>\n<li><code>3 x</code>: if one can choose <var>x</var> cards subject to the following condition, print the maximum possible sum of the scores of the chosen cards; print <code>-1</code> otherwise.<ul>\n<li>The number of chosen cards of each kind does not exceed its quota.</li>\n</ul>\n</li>\n</ul>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>1 \\leq N,Q \\leq 2 \\times 10^5</var></li>\n<li><var>0 \\leq a_i \\leq 10^9</var></li>\n<li><var>0 \\leq b_i \\leq 10^4</var></li>\n<li>For each query of the <var>1</var>-st kind, <var>1 \\leq x \\leq N</var> and <var>0 \\leq y \\leq 10^9</var>.</li>\n<li>For each query of the <var>2</var>-nd kind, <var>1 \\leq x \\leq N</var> and <var>0 \\leq y \\leq 10^4</var>.</li>\n<li>For each query of the <var>3</var>-rd kind, <var>1 \\leq x \\leq 10^9</var>.</li>\n<li>There is at least one query of the <var>3</var>-rd kind.</li>\n<li>All values in the input are integers.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>The input is given from Standard Input in the following format, where <var>\\mathrm{query}_i</var> denotes the <var>i</var>-th query:</p>\n<pre><var>N</var>\n<var>a_1</var> <var>b_1</var>\n<var>\\vdots</var>\n<var>a_N</var> <var>b_N</var>\n<var>Q</var>\n<var>\\mathrm{query}_1</var>\n<var>\\vdots</var>\n<var>\\mathrm{query}_Q</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>Print <var>M</var> lines, where <var>M</var> is the number of queries of the <var>3</var>-rd kind.<br>\nThe <var>i</var>-th line should contain the response to the <var>i</var>-th such query.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>3\n1 1\n2 2\n3 3\n7\n3 4\n1 1 10\n3 4\n2 1 0\n2 3 0\n3 4\n3 2\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>11\n19\n-1\n4\n</pre>\n<p>For the first query of the <var>3</var>-rd kind, you can choose one card of the <var>2</var>-nd kind and three cards of the <var>3</var>-rd kind for a total score of <var>11</var>, which is the maximum.<br>\nFor the second such query, you can choose one card of the <var>1</var>-st kind and three cards of the <var>3</var>-rd kind for a total score of <var>19</var>, which is the maximum.<br>\nFor the third such query, you cannot choose four cards, so <code>-1</code> should be printed.<br>\nFor the fourth such query, you can choose two cards of the <var>2</var>-nd kind for a total score of <var>4</var>, which is the maximum.</p></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/abc287/tasks/abc287_g"}