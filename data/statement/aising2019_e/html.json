{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>600</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p>A 社のサーバーは <var>1, 2, ..., N</var> の番号がついた <var>N</var> 個のデバイスを <var>N - 1</var> 本のケーブルで接続した構造をしています。\n<var>i</var> 本目のケーブルはデバイス <var>U_i</var> とデバイス <var>V_i</var> を接続しています。\nどの異なる <var>2</var> つのデバイスも何本かのケーブルを介して接続されています。</p>\n<p>各デバイス <var>v</var> (<var>1 \\leq v \\leq N</var>) には <var>0</var> でない整数 <var>A_v</var> が割り当てられています。\nこれらの整数は以下のことを表します。</p>\n<ul>\n<li><var>A_v &lt; 0</var> のとき、デバイス <var>v</var> はコンピュータであり、大きさ <var>-A_v</var> の電力を消費することを表す。</li>\n<li><var>A_v &gt; 0</var> のとき、デバイス <var>v</var> はバッテリーであり、大きさ <var>A_v</var> の電力を供給できることを表す。</li>\n</ul>\n<p>あなたは何本か (<var>0</var> 本以上) のケーブルを切断することで A 社のサーバーの機能を停止させることにしました。\nケーブルを切断するとデバイスはいくつかの連結成分に分かれます。\nこれら連結成分がすべて以下のいずれかの条件を満たすようになれば、サーバーは機能を停止します。</p>\n<ul>\n<li>連結成分に属する各デバイス <var>v</var> に対する <var>A_v</var> の値がすべて正である。すなわち、連結成分にコンピュータが存在しない。</li>\n<li>連結成分に属する各デバイス <var>v</var> に対する <var>A_v</var> の値の和が負である。すなわち、連結成分における電力供給が不足している。</li>\n</ul>\n<p>サーバーの機能を停止させるためには、最小で何本のケーブルを切断すれば良いでしょうか。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>1 \\leq N \\leq 5,000</var></li>\n<li><var>1 \\leq |A_i| \\leq 10^9</var> (<var>1 \\leq i \\leq N</var>)</li>\n<li><var>1 \\leq U_i, V_i \\leq N</var> (<var>1 \\leq i \\leq N - 1</var>)</li>\n<li><var>U_i \\neq V_i</var> (<var>1 \\leq i \\leq N - 1</var>)</li>\n<li>どの異なる <var>2</var> つのデバイスも何本かのケーブルを介して接続されている。</li>\n<li>入力値はすべて整数である。</li>\n</ul>\n</section>\n</div>\n\n<hr>\n\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>\n<pre><var>N</var>\n<var>A_1</var> <var>A_2</var> <var>...</var> <var>A_N</var>\n<var>U_1</var> <var>V_1</var>\n<var>U_2</var> <var>V_2</var>\n<var>:</var>\n<var>U_{N - 1}</var> <var>V_{N - 1}</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>答えを出力せよ。</p>\n</section>\n</div>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>7\n-2 7 5 6 -8 3 4\n1 2\n2 3\n2 4\n1 5\n5 6\n5 7\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>1\n</pre>\n\n<p>デバイス <var>1</var> とデバイス <var>2</var> を結ぶケーブルを切断すればよいです。</p>\n</section>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>4\n1 2 3 4\n1 2\n1 3\n1 4\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>0\n</pre>\n\n</section>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>入力例 3</h3><pre>6\n10 -1 10 -1 10 -1\n1 2\n2 3\n3 4\n4 5\n5 6\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 3</h3><pre>5\n</pre>\n\n</section>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>入力例 4</h3><pre>8\n-2 3 6 -2 -2 -5 3 2\n3 4\n7 6\n6 2\n8 2\n5 3\n1 8\n3 7\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 4</h3><pre>3\n</pre>\n\n</section>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>入力例 5</h3><pre>10\n3 4 9 6 1 5 -1 10 -10 -10\n7 4\n5 6\n8 1\n9 5\n7 1\n10 3\n2 8\n4 10\n9 2\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 5</h3><pre>3\n</pre></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>600</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>The server in company A has a structure where <var>N</var> devices numbered <var>1, 2, ..., N</var> are connected with <var>N - 1</var> cables.\nThe <var>i</var>-th cable connects Device <var>U_i</var> and Device <var>V_i</var>.\nAny two different devices are connected through some number of cables.</p>\n<p>Each device <var>v</var> (<var>1 \\leq v \\leq N</var>) has a non-zero integer <var>A_v</var>, which represents the following:</p>\n<ul>\n<li>If <var>A_v &lt; 0</var>, Device <var>v</var> is a computer that consumes an electric power of <var>-A_v</var>.</li>\n<li>If <var>A_v &gt; 0</var>, Device <var>v</var> is a battery that supplies an electric power of <var>A_v</var>.</li>\n</ul>\n<p>You have decided to disconnect some number of cables (possibly zero) to disable the server.\nWhen some cables are disconnected, the devices will be divided into some number of connected components.\nThe server will be disabled if all of these connected components satisfy one of the following conditions:</p>\n<ul>\n<li>There is no computer in the connected component. That is, <var>A_v</var> is positive for every device <var>v</var> that belongs to the connected component.</li>\n<li>There is not enough supply of electric power in the connected component. That is, the sum of <var>A_v</var> over all devices <var>v</var> that belong to the connected component is negative.</li>\n</ul>\n<p>At least how many cables do you need to disconnect in order to disable the server?</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>1 \\leq N \\leq 5</var> <var>000</var></li>\n<li><var>1 \\leq |A_i| \\leq 10^9</var> (<var>1 \\leq i \\leq N</var>)</li>\n<li><var>1 \\leq U_i, V_i \\leq N</var> (<var>1 \\leq i \\leq N - 1</var>)</li>\n<li><var>U_i \\neq V_i</var> (<var>1 \\leq i \\leq N - 1</var>)</li>\n<li>Any two different devices are connected through some number of cables.</li>\n<li>All values in input are integers.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>Input is given from Standard Input in the following format:</p>\n<pre><var>N</var>\n<var>A_1</var> <var>A_2</var> <var>...</var> <var>A_N</var>\n<var>U_1</var> <var>V_1</var>\n<var>U_2</var> <var>V_2</var>\n<var>:</var>\n<var>U_{N - 1}</var> <var>V_{N - 1}</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>Print the answer.</p>\n</section>\n</div>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>7\n-2 7 5 6 -8 3 4\n1 2\n2 3\n2 4\n1 5\n5 6\n5 7\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>1\n</pre>\n\n<p>We should disconnect the cable connecting Device <var>1</var> and Device <var>2</var>.</p>\n</section>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>4\n1 2 3 4\n1 2\n1 3\n1 4\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>0\n</pre>\n\n</section>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>Sample Input 3</h3><pre>6\n10 -1 10 -1 10 -1\n1 2\n2 3\n3 4\n4 5\n5 6\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 3</h3><pre>5\n</pre>\n\n</section>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>Sample Input 4</h3><pre>8\n-2 3 6 -2 -2 -5 3 2\n3 4\n7 6\n6 2\n8 2\n5 3\n1 8\n3 7\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 4</h3><pre>3\n</pre>\n\n</section>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>Sample Input 5</h3><pre>10\n3 4 9 6 1 5 -1 10 -10 -10\n7 4\n5 6\n8 1\n9 5\n7 1\n10 3\n2 8\n4 10\n9 2\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 5</h3><pre>3\n</pre></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/aising2019/tasks/aising2019_e"}