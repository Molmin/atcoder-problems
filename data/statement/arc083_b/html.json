{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点: <var>500</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p>かつて存在した高橋王国には <var>N</var> 個の都市があり、いくつかの都市の組は道路で双方向に結ばれていました。\n道路の構造は以下のようであったことがわかっています。</p>\n<ul>\n<li>都市間の移動は道路を通ってのみ行われ、どの都市からどの都市へも必要なら他の都市を経由することで移動できるようになっていた。</li>\n<li>道路の長さは道路によって異なっていたかもしれないが、全て正整数であった。</li>\n</ul>\n<p>考古学者のすぬけ君は、高橋王国の遺跡で整数からなる <var>N \\times N</var> の表 <var>A</var> を発見しました。\nすぬけ君は、この表は高橋王国における都市間の道路に沿った最短距離を表した表ではないかと考えました。</p>\n<p>すべての <var>u, v</var> について、<var>A</var> の <var>u</var> 行目 <var>v</var> 列目の整数 <var>A_{u, v}</var> が都市 <var>u</var> から都市 <var>v</var> への最短経路の長さとなるような\n道路の構造が存在するかどうか判定してください。\nさらに、存在する場合、そのような道路の構造のうち、存在する道路の長さの和が最小となるようなものについて、その和を求めてください。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>1≦N≦300</var></li>\n<li><var>i ≠ j</var> のとき、<var>1 ≦ A_{i, j} = A_{j, i} ≦ 10^9</var></li>\n<li><var>A_{i, i} = 0</var></li>\n</ul>\n</section>\n</div>\n\n<hr>\n\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>\n<pre><var>N</var>\n<var>A_{1, 1}</var> <var>A_{1, 2}</var> <var>...</var> <var>A_{1, N}</var>\n<var>A_{2, 1}</var> <var>A_{2, 2}</var> <var>...</var> <var>A_{2, N}</var>\n<var>...</var>\n<var>A_{N, 1}</var> <var>A_{N, 2}</var> <var>...</var> <var>A_{N, N}</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>条件を満たす道路の構造が存在しない場合、<code>-1</code> と出力せよ。\n存在する場合、道路の長さの和の最小値を出力せよ。</p>\n</section>\n</div>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>3\n0 1 3\n1 0 2\n3 2 0\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>3\n</pre>\n\n<p>条件を満たす道路の構造は以下のとおりです。</p>\n<ul>\n<li>都市 <var>1</var> と都市 <var>2</var> の間は長さ <var>1</var> の道路によって結ばれている。</li>\n<li>都市 <var>2</var> と都市 <var>3</var> の間は長さ <var>2</var> の道路によって結ばれている。</li>\n<li>都市 <var>3</var> と都市 <var>1</var> の間は道路で結ばれていない。</li>\n</ul>\n</section>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>3\n0 1 3\n1 0 1\n3 1 0\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>-1\n</pre>\n\n<p>都市 <var>1</var> から都市 <var>2</var> へ、および都市 <var>2</var> から都市 <var>3</var> へそれぞれ距離 <var>1</var> で移動できることから、\n都市 <var>1</var> から都市 <var>3</var> へは都市 <var>2</var> を経由することで距離 <var>2</var> で移動できることがわかります。\n一方、都市 <var>1</var> と都市 <var>3</var> の間の最短距離は <var>3</var> でなければなりません。</p>\n<p>よって条件を満たす道路の構造は存在しないことがわかります。</p>\n</section>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>入力例 3</h3><pre>5\n0 21 18 11 28\n21 0 13 10 26\n18 13 0 23 13\n11 10 23 0 17\n28 26 13 17 0\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 3</h3><pre>82\n</pre>\n\n</section>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>入力例 4</h3><pre>3\n0 1000000000 1000000000\n1000000000 0 1000000000\n1000000000 1000000000 0\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 4</h3><pre>3000000000\n</pre></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>500</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>In Takahashi Kingdom, which once existed, there are <var>N</var> cities, and some pairs of cities are connected bidirectionally by roads.\nThe following are known about the road network:</p>\n<ul>\n<li>People traveled between cities only through roads. It was possible to reach any city from any other city, via intermediate cities if necessary.</li>\n<li>Different roads may have had different lengths, but all the lengths were positive integers.</li>\n</ul>\n<p>Snuke the archeologist found a table with <var>N</var> rows and <var>N</var> columns, <var>A</var>, in the ruin of Takahashi Kingdom.\nHe thought that it represented the shortest distances between the cities along the roads in the kingdom.</p>\n<p>Determine whether there exists a road network such that for each <var>u</var> and <var>v</var>, the integer <var>A_{u, v}</var> at the <var>u</var>-th row and <var>v</var>-th column of <var>A</var> is equal to the length of the shortest path from City <var>u</var> to City <var>v</var>.\nIf such a network exist, find the shortest possible total length of the roads.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>1 \\leq N \\leq 300</var></li>\n<li>If <var>i ≠ j</var>, <var>1 \\leq A_{i, j} = A_{j, i} \\leq 10^9</var>.</li>\n<li><var>A_{i, i} = 0</var></li>\n</ul>\n</section>\n</div>\n\n<hr>\n\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Inputs</h3><p>Input is given from Standard Input in the following format:</p>\n<pre><var>N</var>\n<var>A_{1, 1}</var> <var>A_{1, 2}</var> <var>...</var> <var>A_{1, N}</var>\n<var>A_{2, 1}</var> <var>A_{2, 2}</var> <var>...</var> <var>A_{2, N}</var>\n<var>...</var>\n<var>A_{N, 1}</var> <var>A_{N, 2}</var> <var>...</var> <var>A_{N, N}</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Outputs</h3><p>If there exists no network that satisfies the condition, print <code>-1</code>.\nIf it exists, print the shortest possible total length of the roads.</p>\n</section>\n</div>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>3\n0 1 3\n1 0 2\n3 2 0\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>3\n</pre>\n\n<p>The network below satisfies the condition:</p>\n<ul>\n<li>City <var>1</var> and City <var>2</var> is connected by a road of length <var>1</var>.</li>\n<li>City <var>2</var> and City <var>3</var> is connected by a road of length <var>2</var>.</li>\n<li>City <var>3</var> and City <var>1</var> is not connected by a road.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>3\n0 1 3\n1 0 1\n3 1 0\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>-1\n</pre>\n\n<p>As there is a path of length <var>1</var> from City <var>1</var> to City <var>2</var> and City <var>2</var> to City <var>3</var>, there is a path of length <var>2</var> from City <var>1</var> to City <var>3</var>.\nHowever, according to the table, the shortest distance between City <var>1</var> and City <var>3</var> must be <var>3</var>.</p>\n<p>Thus, we conclude that there exists no network that satisfies the condition.</p>\n</section>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>Sample Input 3</h3><pre>5\n0 21 18 11 28\n21 0 13 10 26\n18 13 0 23 13\n11 10 23 0 17\n28 26 13 17 0\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 3</h3><pre>82\n</pre>\n\n</section>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>Sample Input 4</h3><pre>3\n0 1000000000 1000000000\n1000000000 0 1000000000\n1000000000 1000000000 0\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 4</h3><pre>3000000000\n</pre></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/abc074/tasks/arc083_b"}