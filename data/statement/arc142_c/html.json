{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>500</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p><var>N</var> 頂点の木があり、各頂点には <var>1,\\ldots,N</var> と番号が付けられています。<br>\nまた、各整数 <var>u,v\\, (1 \\leq u,v \\leq N)</var> に対し、頂点 <var>u,v</var> の距離 <var>d_{u,v}</var> を次のように定めます。</p>\n<ul>\n<li>頂点 <var>u</var> と頂点 <var>v</var> を結ぶ最短パスに含まれる辺の本数  </li>\n</ul>\n<p>あなたは次のような質問を <var>0</var> 回以上 <var>2N</var> 回以下行うことが出来ます。</p>\n<ul>\n<li><var>1\\leq u,v \\leq N</var> かつ <var>u+v&gt;3</var> を満たす整数 <var>u,v</var> を指定し、頂点 <var>u,v</var> の距離 <var>d_{u,v}</var> を聞く。</li>\n</ul>\n<p>頂点 <var>1,2</var> の距離 <var>d_{1,2}</var> を求めてください。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>3 \\leq N \\leq 100</var></li>\n<li><var>N</var> は整数</li>\n<li>木はプログラムとジャッジの対話の開始前に決定される</li>\n</ul>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>入出力</h3><p><strong>この問題はインタラクティブな問題</strong>（あなたの作成したプログラムとジャッジプログラムが入出力を介して対話を行う形式の問題）である。  </p>\n<p>まず、あなたのプログラムに標準入力から正の整数 <var>N</var> が与えられる。</p>\n<pre><var>N</var>\n</pre>\n<p>その後、あなたは質問を行うことが出来る。<br>\n質問は標準出力に以下の形式で出力せよ(末尾に改行を入れること)。</p>\n<pre>? <var>u</var> <var>v</var>\n</pre>\n<p>質問が正当な場合、その質問への答え <var>d_{u,v}</var> が標準入力から与えられる。</p>\n<pre><var>d_{u,v}</var>\n</pre>\n<p>質問の形式が間違っている・質問を規定の回数より多く行った等の理由から質問が不正と判定された場合、質問への答えの代わりに <code>-1</code> が与えられる。</p>\n<pre>-1\n</pre>\n<p>この時、提出はすでに不正解と判定されている。ジャッジプログラムはこの時点で終了するため、あなたのプログラムも終了するのが望ましい。</p>\n<p>答え <var>d_{1,2}</var> が分かったら、標準出力に以下の形式で出力せよ(末尾に改行を入れること)。</p>\n<pre>! <var>d_{1,2}</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>注意点</h3><ul>\n<li><span style=\"color:red\"><strong>出力を行うたびに標準出力をflushせよ。そうしなかった場合、ジャッジ結果が <span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"\" data-original-title=\"実行時間制限超過\">TLE</span> となる可能性がある。</strong></span></li>\n<li>答えを出力したら(または <code>-1</code> を受け取ったら)直ちにプログラムを正常終了せよ。そうしなかった場合、ジャッジ結果は不定である。</li>\n<li>不正なフォーマットの出力を行った場合のジャッジ結果は不定である。</li>\n<li>特に、余計な改行も不正なフォーマットの出力とみなされるので注意せよ。</li>\n</ul>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>入出力例</h3><p>木がこの画像のような時の対話の一例を示します。</p>\n<p><img alt=\"\" src=\"https://img.atcoder.jp/arc142/1435f0bc323a9e21cf3abf1c4911e826.png\"></p>\n<table class=\"table table-bordered\">\n<thead>\n<tr>\n<th>入力</th>\n<th>出力</th>\n<th>説明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>3</code></td>\n<td></td>\n<td>まず整数 <var>N</var> が与えられます。</td>\n</tr>\n<tr>\n<td></td>\n<td><code>?</code> <code>1</code> <code>3</code></td>\n<td><var>1</var> 回目の質問として頂点 <var>1,3</var> の距離を聞きます。</td>\n</tr>\n<tr>\n<td><code>1</code></td>\n<td></td>\n<td>頂点 <var>1,3</var> の距離が与えられます。</td>\n</tr>\n<tr>\n<td></td>\n<td><code>?</code> <code>2</code> <code>2</code></td>\n<td><var>2</var> 回目の質問として頂点 <var>2,2</var> の距離を聞きます。</td>\n</tr>\n<tr>\n<td><code>0</code></td>\n<td></td>\n<td>頂点 <var>2,2</var> の距離が与えられます。</td>\n</tr>\n<tr>\n<td></td>\n<td><code>?</code> <code>2</code> <code>3</code></td>\n<td><var>3</var> 回目の質問として頂点 <var>2,3</var> の距離を聞きます。</td>\n</tr>\n<tr>\n<td><code>1</code></td>\n<td></td>\n<td>頂点 <var>2,3</var> の距離が与えられます。</td>\n</tr>\n<tr>\n<td></td>\n<td><code>?</code> <code>3</code> <code>1</code></td>\n<td><var>4</var> 回目の質問として頂点 <var>3,1</var> の距離を聞きます。</td>\n</tr>\n<tr>\n<td><code>1</code></td>\n<td></td>\n<td>頂点 <var>3,1</var> の距離が与えられます。</td>\n</tr>\n<tr>\n<td></td>\n<td><code>?</code> <code>3</code> <code>2</code></td>\n<td><var>5</var> 回目の質問として頂点 <var>3,2</var> の距離を聞きます。</td>\n</tr>\n<tr>\n<td><code>1</code></td>\n<td></td>\n<td>頂点 <var>3,2</var> の距離が与えられます。</td>\n</tr>\n<tr>\n<td></td>\n<td><code>?</code> <code>2</code> <code>2</code></td>\n<td><var>6</var> 回目の質問として頂点 <var>2,2</var> の距離を聞きます。</td>\n</tr>\n<tr>\n<td><code>0</code></td>\n<td></td>\n<td>頂点 <var>2,2</var> の距離が与えられます。</td>\n</tr>\n<tr>\n<td></td>\n<td><code>!</code> <code>2</code></td>\n<td>頂点 <var>1,2</var> の距離を回答し、終了します。実際に木の頂点 <var>1,2</var> の距離は <var>2</var> であるため <span class=\"label label-success\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"\" data-original-title=\"正解\">AC</span> が得られます。</td>\n</tr>\n</tbody>\n</table>\n</section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>500</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>There is a tree with <var>N</var> vertices, numbered <var>1, \\ldots, N</var>.<br>\nFor each pair of integers <var>u,v\\, (1 \\leq u,v \\leq N)</var>, the distance <var>d_{u,v}</var> between Vertices <var>u, v</var> is defined as the following.</p>\n<ul>\n<li>The number of edges contained in the shortest path connecting Vertices <var>u</var> and <var>v</var>.</li>\n</ul>\n<p>You are allowed to ask between <var>0</var> and <var>2N</var> questions (inclusive) in the following form.</p>\n<ul>\n<li>Ask the distance <var>d_{u,v}</var> between Vertices <var>u,v</var> for integers <var>u,v</var> of your choice such that <var>1\\leq u,v \\leq N</var> and <var>u+v&gt;3</var>.</li>\n</ul>\n<p>Find the distance <var>d_{1,2}</var> between Vertices <var>1,2</var>.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>3 \\leq N \\leq 100</var></li>\n<li><var>N</var> is an integer.</li>\n<li>The tree is determined before the start of the interaction between your program and the judge.</li>\n</ul>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Input and Output</h3><p><strong>This is an interactive task</strong>, in which your program and the judge interact via input and output.</p>\n<p>First, your program is given a positive integer <var>N</var> from Standard Input:</p>\n<pre><var>N</var>\n</pre>\n<p>Then, you get to ask questions.<br>\nA question should be printed in the following format (with a newline at the end):</p>\n<pre>? <var>u</var> <var>v</var>\n</pre>\n<p>If the question is valid, the response <var>d_{u,v}</var> is given from Standard Input:</p>\n<pre><var>d_{u,v}</var>\n</pre>\n<p>If the question is judged invalid because, for example, it is malformed or you have asked too many questions, you get <code>-1</code> instead of the response:</p>\n<pre>-1\n</pre>\n<p>At this point, your submission is already judged incorrect. The judge's program then terminates; yours should too, desirably.</p>\n<p>When you find the answer <var>d_{1,2}</var>, print it to Standard Output in the following format (with a newline at the end):</p>\n<pre>! <var>d_{1,2}</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Notices</h3><ul>\n<li><span style=\"color:red\"><strong>Flush Standard Output after each output. Otherwise, you might get the <span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"\" data-original-title=\"Time Limit Exceeded\">TLE</span> verdict.</strong></span></li>\n<li>After printing the answer (or receiving <code>-1</code>), immediately terminate the program normally. Otherwise, the verdict would be indeterminate.</li>\n<li>The verdict for the case of a malformed output would be indeterminate.</li>\n<li>Specifically, note that too many newlines would also be seen as a malformed output.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input and Output</h3><p>The following is a sample interaction for the tree shown in this image.</p>\n<p><img alt=\"\" src=\"https://img.atcoder.jp/arc142/1435f0bc323a9e21cf3abf1c4911e826.png\"></p>\n<table class=\"table table-bordered\">\n<thead>\n<tr>\n<th>Input</th>\n<th>Output</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>3</code></td>\n<td></td>\n<td>Interaction starts with the integer <var>N</var>.</td>\n</tr>\n<tr>\n<td></td>\n<td><code>?</code> <code>1</code> <code>3</code></td>\n<td>As the <var>1</var>-st question, you ask the distance between Vertices <var>1</var> and <var>3</var>.</td>\n</tr>\n<tr>\n<td><code>1</code></td>\n<td></td>\n<td>The distance between Vertices <var>1,3</var> is returned.</td>\n</tr>\n<tr>\n<td></td>\n<td><code>?</code> <code>2</code> <code>2</code></td>\n<td>As the <var>2</var>-nd question, you ask the distance between Vertices <var>2</var> and <var>2</var>.</td>\n</tr>\n<tr>\n<td><code>0</code></td>\n<td></td>\n<td>The distance between Vertices <var>2,2</var> is returned.</td>\n</tr>\n<tr>\n<td></td>\n<td><code>?</code> <code>2</code> <code>3</code></td>\n<td>As the <var>3</var>-rd question, you ask the distance between Vertices <var>2</var> and <var>3</var>.</td>\n</tr>\n<tr>\n<td><code>1</code></td>\n<td></td>\n<td>The distance between Vertices <var>2,3</var> is returned.</td>\n</tr>\n<tr>\n<td></td>\n<td><code>?</code> <code>3</code> <code>1</code></td>\n<td>As the <var>4</var>-th question, you ask the distance between Vertices <var>3</var> and <var>1</var>.</td>\n</tr>\n<tr>\n<td><code>1</code></td>\n<td></td>\n<td>The distance between Vertices <var>3,1</var> is returned.</td>\n</tr>\n<tr>\n<td></td>\n<td><code>?</code> <code>3</code> <code>2</code></td>\n<td>As the <var>5</var>-th question, you ask the distance between Vertices <var>3</var> and <var>2</var>.</td>\n</tr>\n<tr>\n<td><code>1</code></td>\n<td></td>\n<td>The distance between Vertices <var>3,2</var> is returned.</td>\n</tr>\n<tr>\n<td></td>\n<td><code>?</code> <code>2</code> <code>2</code></td>\n<td>As the <var>6</var>-th question, you ask the distance between Vertices <var>2</var> and <var>2</var>.</td>\n</tr>\n<tr>\n<td><code>0</code></td>\n<td></td>\n<td>The distance between Vertices <var>2,2</var> is returned.</td>\n</tr>\n<tr>\n<td></td>\n<td><code>!</code> <code>2</code></td>\n<td>You guess the distance between Vertices <var>1,2</var> and terminate. The actual distance between them is <var>2</var>, so you would get the <span class=\"label label-success\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"\" data-original-title=\"Accepted\">AC</span> verdict.</td>\n</tr>\n</tbody>\n</table></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/arc142/tasks/arc142_c"}