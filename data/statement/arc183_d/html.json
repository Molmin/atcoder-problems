{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>800</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p><var>1</var> から <var>N</var> までの番号のついた <var>N</var> 頂点からなる木があります．\n<var>i</var> 番目の辺は頂点 <var>A_i</var> と頂点 <var>B_i</var> を結ぶ辺です．\nここで <var>N</var> は偶数で，さらにこの木は完全マッチングを持ちます．\n具体的には，各 <var>i</var> (<var>1 \\leq i \\leq N/2</var>) に対し，<var>A_i=i \\times 2-1,B_i=i \\times 2</var> が保証されます．</p>\n<p>あなたは以下の操作を <var>N/2</var> 回行います．</p>\n<ul>\n<li>葉 (次数がちょうど <var>1</var> の頂点) を <var>2</var> つ選び，木から削除する．\nただしここで，削除したあとの木も完全マッチングを持つ必要がある．\nなお，この問題では頂点が <var>0</var> 個の場合も木と呼ぶことにする．</li>\n</ul>\n<p>各操作について，そのスコアを「選んだ <var>2</var> つの頂点の間の距離 (その <var>2</var> つの頂点を結ぶ単純パス上の辺の個数) 」とします．</p>\n<p>スコアの合計を最大化するような手順を <var>1</var> つ示してください．\nなお，この問題の制約下で <var>N/2</var> 回の操作を完了する手順が常に存在することが証明できます．</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>2 \\leq N \\leq 250000</var></li>\n<li><var>N</var> は偶数</li>\n<li><var>1 \\leq A_i &lt; B_i \\leq N</var> (<var>1 \\leq i \\leq N-1</var>)</li>\n<li><var>A_i=i \\times 2 -1,B_i=i \\times 2</var> (<var>1 \\leq i \\leq N/2</var>)</li>\n<li>与えられるグラフは木である</li>\n<li>入力される値はすべて整数</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は標準入力から以下の形式で与えられる。</p>\n<pre><var>N</var>\n<var>A_1</var> <var>B_1</var>\n<var>A_2</var> <var>B_2</var>\n<var>\\vdots</var>\n<var>A_{N-1}</var> <var>B_{N-1}</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>答えを以下の形式で出力せよ．</p>\n<pre><var>X_1</var> <var>Y_1</var>\n<var>X_2</var> <var>Y_2</var>\n<var>\\vdots</var>\n<var>X_{N/2}</var> <var>Y_{N/2}</var>\n</pre>\n<p>ここで，<var>X_i,Y_i</var> は <var>i</var> 回目の操作で選ぶ <var>2</var> つの頂点である．\n解が複数存在する場合，どれを出力しても構わない．</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>4\n1 2\n3 4\n2 3\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>4 1\n2 3\n</pre>\n<p>出力例の手順は以下の通りです．</p>\n<ul>\n<li><var>1</var> 回目の操作: 頂点 <var>4,1</var> を消す．残る木は頂点 <var>2,3</var> からなり，完全マッチングを持つ．操作のスコアは <var>3</var> である．</li>\n<li><var>2</var> 回目の操作: 頂点 <var>2,3</var> を消す．残る木は <var>0</var> 頂点からなり，完全マッチングを持つ．操作のスコアは <var>1</var> である．</li>\n<li>スコアの合計は <var>3+1=4</var> になる．</li>\n</ul>\n<p>スコアの合計を <var>4</var> より大きくすることはできないので，この入力例はこの出力で正解できます．</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>8\n1 2\n3 4\n5 6\n7 8\n2 3\n1 5\n1 7\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>4 8\n7 6\n5 3\n2 1\n</pre>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 3</h3><pre>14\n1 2\n3 4\n5 6\n7 8\n9 10\n11 12\n13 14\n2 8\n4 11\n5 12\n7 13\n11 14\n9 13\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 3</h3><pre>1 6\n5 2\n8 12\n3 7\n10 4\n11 9\n13 14\n</pre>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 4</h3><pre>20\n1 2\n3 4\n5 6\n7 8\n9 10\n11 12\n13 14\n15 16\n17 18\n19 20\n8 10\n16 18\n16 19\n5 9\n10 17\n2 13\n7 14\n3 7\n3 12\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 4</h3><pre>6 1\n2 15\n20 13\n14 19\n16 4\n11 18\n17 12\n3 5\n9 7\n8 10\n</pre></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>800</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>There is a tree with <var>N</var> vertices numbered from <var>1</var> to <var>N</var>.\nThe <var>i</var>-th edge connects vertices <var>A_i</var> and <var>B_i</var>.\nHere, <var>N</var> is even, and furthermore, this tree has a perfect matching.\nSpecifically, for each <var>i</var> (<var>1 \\leq i \\leq N/2</var>), it is guaranteed that <var>A_i=i \\times 2-1</var> and <var>B_i=i \\times 2</var>.</p>\n<p>You will perform the following operation <var>N/2</var> times:</p>\n<ul>\n<li>Choose two leaves (vertices with degree exactly <var>1</var>) and remove them from the tree.\nHere, the tree after removal must still have a perfect matching.\nIn this problem, we consider a graph with zero vertices to be a tree as well.</li>\n</ul>\n<p>For each operation, its score is defined as the distance between the two chosen vertices (the number of edges on the simple path connecting the two vertices).</p>\n<p>Show one procedure that maximizes the total score.\nIt can be proved that there always exists a procedure to complete <var>N/2</var> operations under the constraints of this problem.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>2 \\leq N \\leq 250000</var></li>\n<li><var>N</var> is even.</li>\n<li><var>1 \\leq A_i &lt; B_i \\leq N</var> (<var>1 \\leq i \\leq N-1</var>)</li>\n<li><var>A_i=i \\times 2 -1</var>, <var>B_i=i \\times 2</var> (<var>1 \\leq i \\leq N/2</var>)</li>\n<li>The given graph is a tree.</li>\n<li>All input values are integers.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>The input is given from Standard Input in the following format:</p>\n<pre><var>N</var>\n<var>A_1</var> <var>B_1</var>\n<var>A_2</var> <var>B_2</var>\n<var>\\vdots</var>\n<var>A_{N-1}</var> <var>B_{N-1}</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>Print a solution in the following format:</p>\n<pre><var>X_1</var> <var>Y_1</var>\n<var>X_2</var> <var>Y_2</var>\n<var>\\vdots</var>\n<var>X_{N/2}</var> <var>Y_{N/2}</var>\n</pre>\n<p>Here, <var>X_i</var> and <var>Y_i</var> are the two vertices chosen in the <var>i</var>-th operation.\nIf there are multiple solutions, you may print any of them.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>4\n1 2\n3 4\n2 3\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>4 1\n2 3\n</pre>\n<p>The procedure in the sample output is as follows:</p>\n<ul>\n<li>1st operation: Remove vertices <var>4</var> and <var>1</var>. The remaining tree has vertices <var>2</var> and <var>3</var>, and a perfect matching. The score of this operation is <var>3</var>.</li>\n<li>2nd operation: Remove vertices <var>2</var> and <var>3</var>. The remaining tree has zero vertices and a perfect matching. The score of this operation is <var>1</var>.</li>\n<li>The total score is <var>3 + 1 = 4</var>.</li>\n</ul>\n<p>It is impossible to make the total score greater than <var>4</var>, so this output solves this sample input.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>8\n1 2\n3 4\n5 6\n7 8\n2 3\n1 5\n1 7\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>4 8\n7 6\n5 3\n2 1\n</pre>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 3</h3><pre>14\n1 2\n3 4\n5 6\n7 8\n9 10\n11 12\n13 14\n2 8\n4 11\n5 12\n7 13\n11 14\n9 13\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 3</h3><pre>1 6\n5 2\n8 12\n3 7\n10 4\n11 9\n13 14\n</pre>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 4</h3><pre>20\n1 2\n3 4\n5 6\n7 8\n9 10\n11 12\n13 14\n15 16\n17 18\n19 20\n8 10\n16 18\n16 19\n5 9\n10 17\n2 13\n7 14\n3 7\n3 12\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 4</h3><pre>6 1\n2 15\n20 13\n14 19\n16 4\n11 18\n17 12\n3 5\n9 7\n8 10\n</pre></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/arc183/tasks/arc183_d"}