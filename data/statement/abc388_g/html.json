{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>575</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p><var>N</var> 個の餅が小さいほうから順に並んでいます。\n<var>i</var> 番目 <var>(1\\leq i\\leq N)</var> の餅の大きさは <var>A _ i</var> です。</p>\n<p><var>2</var> つの餅 <var>A,B</var> の大きさをそれぞれ <var>a,b</var> としたとき、<var>a</var> が <var>b</var> の半分以下であるとき、かつそのときに限り、餅 <var>A</var> を餅 <var>B</var> の上に乗せて鏡餅を <var>1</var> つ作ることができます。</p>\n<p>整数の <var>2</var> つ組が <var>Q</var> 個与えられます。\n<var>i</var> 番目 <var>(1\\leq i\\leq Q)</var> の <var>2</var> つ組を <var>(L _ i,R _ i)</var> として、次の問題をすべての <var>i</var> について解いてください。</p>\n<blockquote>\n<p><var>L _ i</var> 番目から <var>R _ i</var> 番目までの <var>R _ i-L _ i+1</var> 個の餅だけを使って、同時にいくつの鏡餅を作ることができるか求めてください。</p>\n<p>より厳密には、以下ができるような最大の非負整数 <var>K</var> を求めてください。</p>\n<ul>\n<li><var>L _ i</var> 番目から <var>R _ i</var> 番目までの <var>R _ i-L _ i+1</var> 個の餅から <var>2K</var> 個の餅を選んで <var>K</var> 個の <var>2</var> つ組に分け、それぞれの組について一方をもう一方の上に乗せることで鏡餅を <var>K</var> 個作る。</li>\n</ul>\n</blockquote>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>2\\leq N\\leq 2\\times 10 ^ 5</var></li>\n<li><var>1\\leq A _ i\\leq 10 ^ 9\\ (1\\leq i\\leq N)</var></li>\n<li><var>A _ i\\leq A _ {i+1}\\ (1\\leq i\\lt N)</var></li>\n<li><var>1\\leq Q\\leq 2\\times 10 ^ 5</var></li>\n<li><var>1\\leq L _ i\\lt R _ i\\leq N\\ (1\\leq i\\leq Q)</var></li>\n<li>入力はすべて整数</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>\n<pre><var>N</var>\n<var>A _ 1</var> <var>A _ 2</var> <var>\\dotsc</var> <var>A _ N</var>\n<var>Q</var>\n<var>L _ 1</var> <var>R _ 1</var>\n<var>L _ 2</var> <var>R _ 2</var>\n<var>\\vdots</var>\n<var>L _ Q</var> <var>R _ Q</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p><var>Q</var> 行出力せよ。\n<var>i</var> 行目 <var>(1\\leq i\\leq Q)</var> には、<var>i</var> 番目の <var>2</var> つ組に対応する問題の答えを出力せよ。</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>11\n1 1 2 3 4 4 7 10 11 12 20\n5\n2 5\n3 8\n7 11\n1 2\n1 11\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>2\n3\n1\n0\n5\n</pre>\n<p>それぞれの問題に対する答えは以下のようになります。\n鏡餅の作り方は一例です。</p>\n<ul>\n<li>それぞれの餅の大きさは <var>(1,2,3,4)</var> です。<var>(1,3),(2,4)</var> の <var>2</var> つの鏡餅を作ることができます。</li>\n<li>それぞれの餅の大きさは <var>(2,3,4,4,7,10)</var> です。<var>(2,4),(3,7),(4,10)</var> の <var>3</var> つの鏡餅を作ることができます。</li>\n<li>それぞれの餅の大きさは <var>(7,10,11,12,20)</var> です。<var>(10,20)</var> の <var>1</var> つの鏡餅を作ることができます。</li>\n<li>それぞれの餅の大きさは <var>(1,1)</var> です。<var>1</var> つも鏡餅を作ることができません。</li>\n<li>それぞれの餅の大きさは <var>(1,1,2,3,4,4,7,10,11,12,20)</var> です。<var>(1,2),(1,3),(4,10),(4,11),(7,20)</var> の <var>5</var> つの鏡餅を作ることができます。</li>\n</ul>\n<p>以上より、<code>2</code> <code>3</code> <code>1</code> <code>0</code> <code>5</code> をこの順に出力してください。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>24\n127 148 170 174 258 311 331 414 416 436 517 523 532 587 591 638 660 748 760 776 837 857 972 984\n15\n7 11\n8 9\n8 13\n12 15\n9 23\n1 17\n8 12\n1 5\n6 17\n3 7\n12 19\n13 18\n7 22\n1 12\n14 15\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>0\n0\n0\n0\n2\n6\n0\n1\n1\n0\n0\n0\n3\n5\n0\n</pre></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>575</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>There are <var>N</var> mochi (rice cakes), arranged in ascending order of size.\nThe size of the <var>i</var>-th mochi <var>(1\\leq i\\leq N)</var> is <var>A_i</var>.</p>\n<p>Given two mochi <var>A</var> and <var>B</var>, with sizes <var>a</var> and <var>b</var> respectively, you can make one kagamimochi (a stacked rice cake) by placing mochi <var>A</var> on top of mochi <var>B</var> if and only if <var>a</var> is at most half of <var>b</var>.</p>\n<p>You are given <var>Q</var> integer pairs. Let <var>(L_i, R_i)</var> be the <var>i</var>-th pair <var>(1\\leq i\\leq Q)</var>, and solve the following problem for each <var>i</var>:</p>\n<blockquote>\n<p>Using only the <var>R_i - L_i + 1</var> mochi from the <var>L_i</var>-th to the <var>R_i</var>-th, how many kagamimochi can you make simultaneously?  </p>\n<p>More precisely, find the maximum non-negative integer <var>K</var> such that:</p>\n<ul>\n<li>Out of the <var>R_i - L_i + 1</var> mochi from the <var>L_i</var>-th to the <var>R_i</var>-th, choose <var>2K</var> mochi and form <var>K</var> pairs. For each pair, place one mochi on top of the other, to make <var>K</var> kagamimochi.</li>\n</ul>\n</blockquote>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>2 \\leq N \\leq 2 \\times 10^5</var></li>\n<li><var>1 \\leq A_i \\leq 10^9 \\ (1 \\leq i \\leq N)</var></li>\n<li><var>A_i \\leq A_{i+1} \\ (1 \\leq i &lt; N)</var></li>\n<li><var>1 \\leq Q \\leq 2 \\times 10^5</var></li>\n<li><var>1 \\leq L_i &lt; R_i \\leq N \\ (1 \\leq i \\leq Q)</var></li>\n<li>All input values are integers.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>The input is given from Standard Input in the following format:</p>\n<pre><var>N</var>\n<var>A_1</var> <var>A_2</var> <var>\\dotsc</var> <var>A_N</var>\n<var>Q</var>\n<var>L_1</var> <var>R_1</var>\n<var>L_2</var> <var>R_2</var>\n<var>\\vdots</var>\n<var>L_Q</var> <var>R_Q</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>Print <var>Q</var> lines. The <var>i</var>-th line <var>(1\\leq i\\leq Q)</var> should contain the answer to the <var>i</var>-th query.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>11\n1 1 2 3 4 4 7 10 11 12 20\n5\n2 5\n3 8\n7 11\n1 2\n1 11\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>2\n3\n1\n0\n5\n</pre>\n<p>The answers to each query are as follows. One possible way to make the kagamimochi is given for each query.</p>\n<ul>\n<li>The mochi sizes are <var>(1, 2, 3, 4)</var>. You can make the two kagamimochi <var>(1,3)</var> and <var>(2,4)</var>.</li>\n<li>The mochi sizes are <var>(2, 3, 4, 4, 7, 10)</var>. You can make the three kagamimochi <var>(2,4)</var>, <var>(3,7)</var>, and <var>(4,10)</var>.</li>\n<li>The mochi sizes are <var>(7, 10, 11, 12, 20)</var>. You can make one kagamimochi <var>(10,20)</var>.</li>\n<li>The mochi sizes are <var>(1, 1)</var>. You cannot make any kagamimochi.</li>\n<li>The mochi sizes are <var>(1, 1, 2, 3, 4, 4, 7, 10, 11, 12, 20)</var>. You can make five kagamimochi <var>(1,2)</var>, <var>(1,3)</var>, <var>(4,10)</var>, <var>(4,11)</var>, and <var>(7,20)</var>.</li>\n</ul>\n<p>Hence, print <code>2</code>, <code>3</code>, <code>1</code>, <code>0</code>, <code>5</code> in this order.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>24\n127 148 170 174 258 311 331 414 416 436 517 523 532 587 591 638 660 748 760 776 837 857 972 984\n15\n7 11\n8 9\n8 13\n12 15\n9 23\n1 17\n8 12\n1 5\n6 17\n3 7\n12 19\n13 18\n7 22\n1 12\n14 15\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>0\n0\n0\n0\n2\n6\n0\n1\n1\n0\n0\n0\n3\n5\n0\n</pre></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/abc388/tasks/abc388_g"}