{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>500</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p>高橋くんは、すぬけくんに日頃の感謝を込めてレベル <var>K</var> の回文を送ることにしました。レベル <var>L</var> の回文 ( <var>L</var> は <var>0</var> 以上の整数 ) は以下のように定義されます。</p>\n<ul>\n<li>文字列 <var>s</var> の左右を反転させたものを <var>\\mathrm{rev}(s)</var> と表す。</li>\n<li>文字列 <var>s</var> は <var>s = \\mathrm{rev}(s)</var> であるとき、回文という。</li>\n<li>空文字列と回文でない文字列はレベル <var>0</var> の回文である。</li>\n<li>任意の<strong>空でない</strong>レベル <var>L - 1</var> の回文 <var>t</var> に対して、<var>t, \\mathrm{rev}(t)</var> をこの順に繋げた文字列はレベル <var>L</var> の回文である。</li>\n<li>任意のレベル <var>L - 1</var> の回文 <var>t</var> と任意の文字 <var>c</var> に対して、<var>t, c, \\mathrm{rev}(t)</var> をこの順に繋げた文字列はレベル <var>L</var> の回文である。</li>\n</ul>\n<p>いま、高橋くんは文字列 <var>S</var> を持っています。<br>\n<var>S</var> から <var>1</var> 文字選んで別の英小文字に書き換えるということを <var>0</var> 回以上繰り返すことで、<var>S</var> をちょうどレベル <var>K</var> の回文にすることができるか判定してください。また、できる場合は、<var>S</var> がちょうどレベル <var>K</var> の回文になるまでに必要な最小の書き換え回数を求めてください。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>K</var> は整数</li>\n<li><var>0 ≤&nbsp;K ≤&nbsp;5 \\times 10^5</var></li>\n<li><var>S</var> は英小文字からなる</li>\n<li><var>1 ≤ |S| ≤&nbsp;5 \\times 10^5</var></li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>\n<pre><var>K</var>\n<var>S</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>ちょうどレベル <var>K</var> の回文を作ることができる場合は、必要な最小の書き換え回数を出力せよ。<br>\nできない場合は、<code>impossible</code> と出力せよ。</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>4\naabaaaabaa\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>0\n</pre>\n<p><code>aabaaaabaa</code> のレベルは以下のように計算できます。</p>\n<ul>\n<li>空文字列はレベル <var>0</var> の回文である。</li>\n<li><code>a</code> は (空文字列), <code>a</code>, (空文字列) を順に繋げた文字列だから、レベル <var>1</var> の回文である。</li>\n<li><code>aa</code> は <code>a</code>, <code>a</code> を順に繋げた文字列だから、レベル <var>2</var> の回文である。</li>\n<li><code>aabaa</code> は <code>aa</code>, <code>b</code>, <code>aa</code> を順に繋げた文字列だから、レベル <var>3</var> の回文である。</li>\n<li><code>aabaaaabaa</code> は <code>aabaa</code>, <code>aabaa</code> を順に繋げた文字列だから、レベル <var>4</var> の回文である。</li>\n</ul>\n<p>よって、<code>aabaaaabaa</code> は初めからレベル <var>4</var> の回文であるので、書き換える必要はありません。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>2\naabaaaabaa\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>4\n</pre>\n<p>例えば、<code>aabaaaabaa</code> を <code>acbcaacbca</code> に書き換えると、ちょうどレベル <var>2</var> の回文を作ることができます。</p>\n<p><code>aabaaaabaa</code> はレベル <var>2</var> の回文ではないことに注意してください。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 3</h3><pre>3\naabaaaabaa\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 3</h3><pre>impossible\n</pre>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 4</h3><pre>5\naabaaaabaa\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 4</h3><pre>impossible\n</pre>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 5</h3><pre>2\nacaabcbababaaac\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 5</h3><pre>6\n</pre></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>500</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>As a token of his gratitude, Takahashi has decided to give Snuke a level-<var>K</var> palindrome. A level-<var>L</var> palindrome, where <var>L</var> is a non-negative integer, is defined as follows:</p>\n<ul>\n<li>Let <var>\\mathrm{rev}(s)</var> denote the reversal of a string <var>s</var>.</li>\n<li>A string <var>s</var> is said to be a palindrome when <var>s = \\mathrm{rev}(s)</var>.</li>\n<li>The empty string and a string that is not a palindrome are level-<var>0</var> palindromes.</li>\n<li>For any <strong>non-empty</strong> level-<var>(L-1)</var> palindrome <var>t</var>, the concatenation of <var>t, \\mathrm{rev}(t)</var> in this order is a level-<var>L</var> palindrome.</li>\n<li>For any level-<var>(L-1)</var> palindrome <var>t</var> and any character <var>c</var>, the concatenation of <var>t, c, \\mathrm{rev}(t)</var> in this order is a level-<var>L</var> palindrome.</li>\n</ul>\n<p>Now, Takahashi has a string <var>S</var>.\nDetermine whether it is possible to make <var>S</var> an exactly level-<var>K</var> palindrome by doing the following action zero or more times: choose a character in <var>S</var> and change it to another lowercase English letter. If it is possible, find the minimum number of changes needed to make <var>S</var> a level-<var>K</var> palindrome.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>K</var> is an integer.</li>\n<li><var>0 ≤ K ≤ 5 \\times 10^5</var></li>\n<li><var>S</var> consists of lowercase English letters.</li>\n<li><var>1 ≤ |S| ≤ 5 \\times 10^5</var></li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>Input is given from Standard Input in the following format:</p>\n<pre><var>K</var>\n<var>S</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>If it is possible to get an exactly level-<var>K</var> palindrome, print the minimum number of changes needed.\nIf it is impossible, print <code>impossible</code>.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>4\naabaaaabaa\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>0\n</pre>\n<p>We can find the level of <code>aabaaaabaa</code> as follows:</p>\n<ul>\n<li>the empty string is a level-<var>0</var> palindrome;</li>\n<li><code>a</code> is a concatenation of (empty string), <code>a</code>, (empty string) in this order, so it is a level-<var>1</var> palindrome;</li>\n<li><code>aa</code> is a concatenation of <code>a</code>, <code>a</code> in this order, so it is a level-<var>2</var> palindrome;</li>\n<li><code>aabaa</code> is a concatenation of <code>aa</code>, <code>b</code>, <code>aa</code> in this order, so it is a level-<var>3</var> palindrome;</li>\n<li><code>aabaaaabaa</code> is a concatenation of <code>aabaa</code>, <code>aabaa</code> in this order, so it is a level-<var>4</var> palindrome.</li>\n</ul>\n<p>Thus, <code>aabaaaabaa</code> is already a level-<var>4</var> palindrome and needs no changes.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>2\naabaaaabaa\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>4\n</pre>\n<p>We can, for example, change <code>aabaaaabaa</code> to <code>acbcaacbca</code> to get a level-<var>2</var> palindrome.</p>\n<p>Note that <code>aabaaaabaa</code> is not a level-<var>2</var> palindrome.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 3</h3><pre>3\naabaaaabaa\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 3</h3><pre>impossible\n</pre>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 4</h3><pre>5\naabaaaabaa\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 4</h3><pre>impossible\n</pre>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 5</h3><pre>2\nacaabcbababaaac\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 5</h3><pre>6\n</pre></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/jsc2021/tasks/jsc2021_e"}