{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>1600</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p>北極海のとある場所に <var>H</var> 行 <var>W</var> 列のマス目状に氷が浮かんでいます。\n<var>i</var> 行目 <var>j</var> 列目のマスをマス <var>(i,j)</var> と表すことにします。\n浮かんでいる氷は薄氷または氷山であり、薄氷のマスのうちちょうど <var>1</var> マスにはペンギンが住んでいます。\nまた、<var>H</var> 行 <var>W</var> 列のマス目の外には氷は浮かんでいません。</p>\n<p>マス <var>(i,j)</var> に浮かんでいる氷は文字 <var>S_{i,j}</var> で表されます。\n<var>S_{i,j}</var> は <code>+</code>、<code>#</code>、<code>P</code> のいずれかであり、それぞれ以下のようなことを表しています。</p>\n<ul>\n<li><code>+</code>：薄氷が浮かんでいる。</li>\n<li><code>#</code>：氷山が浮かんでいる。</li>\n<li><code>P</code>：薄氷が浮かんでおり、ペンギンが住んでいる。</li>\n</ul>\n<p>夏になると、氷に挟まれていない不安定な薄氷は次々に崩落していってしまいます。\nつまり、マス <var>(i,j)</var> の薄氷が以下の条件をいずれも満たしていないとき、その薄氷は崩落してしまいます。</p>\n<ul>\n<li>マス <var>(i-1,j)</var> とマス <var>(i+1,j)</var> の両方に氷山または崩落していない薄氷が存在する。</li>\n<li>マス <var>(i,j-1)</var> とマス <var>(i,j+1)</var> の両方に氷山または崩落していない薄氷が存在する。</li>\n</ul>\n<p>崩落は連鎖的に発生することもあります。\nまた、氷山は崩落しません。</p>\n<p>さて、ここに悪い旅人がやってきてペンギンの住んでいる薄氷が夏になると崩落するように細工をしようと考えました。\n旅人はハンマーで氷山を叩いて薄氷に変えることができます。\n旅人は最小でいくつの氷山を薄氷に変えれば良いでしょうか？</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>1 \\leq H,W \\leq 40</var></li>\n<li><var>S_{i,j}</var> は <code>+</code>、<code>#</code>、<code>P</code> のいずれかである。</li>\n<li><var>S</var> はちょうど <var>1</var> つだけ <code>P</code> を含む。</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>\n<pre><var>H</var> <var>W</var>\n<var>S_{1,1}</var><var>S_{1,2}</var><var>...</var><var>S_{1,W}</var>\n<var>S_{2,1}</var><var>S_{2,2}</var><var>...</var><var>S_{2,W}</var>\n<var>:</var>\n<var>S_{H,1}</var><var>S_{H,2}</var><var>...</var><var>S_{H,W}</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>ペンギンの住んでいる薄氷が夏になると崩落するようにするために薄氷に変える必要のある氷山の個数の最小値を出力せよ。</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>3 3\n+#+\n#P#\n+#+\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>2\n</pre>\n\n<p>例えば右と下の氷山を薄氷に変えると以下のように薄氷が崩落していきます。</p>\n<pre>+#+    .#.    .#.    .#.\n#P+ -&gt; #P+ -&gt; #P. -&gt; #..\n+++    .+.    ...    ...\n</pre>\n\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>6 6\n#+++++\n+++#++\n#+++++\n+++P+#\n+##+++\n++++#+\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>1\n</pre>\n\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 3</h3><pre>40 40\n#++#+++++#+#+#+##+++++++##+#+++#++##++##\n+##++++++++++#+###+##++++#+++++++++#++##\n+++#+++++#++#++####+++#+#+###+++##+++#++\n+++#+######++##+#+##+#+++#+++++++++#++#+\n+++##+#+#++#+++#++++##+++++++++#++#+#+#+\n#++#+++#+#++++##+#+#+++##+#+##+#++++##++\n++#+##+++#++####+#++##++#+++#+#+#++++#++\n+#+###++++++##++++++#++##+#####++#++##++\n##+##+#+++#+#+##++#+###+######++++#+###+\n+++#+++##+#####+#+#++++#+#+++++#+##++##+\n#+++#+##+++++++#++#++++++++++###+#++#+#+\n##+++##++#+++++#++++#++#+##++#+#+#++##+#\n##+++#+###+++++##++#+#+++####+#+++++#+++\n+++#++#++#+++++++++#++###++++++++###+##+\n++#+++#++++++#####++##++#+++#+++++#++++#\n++#++#+##++++#####+###+++####+#+#+######\n++++++##+++++##+++++#++###++#++##+++++++\n+#++++##++++++#++++#+#++++#++++##+++##+#\n+++++++#+#++##+##+#+++++++###+###++##+++\n++++++#++###+#+#+++##+#++++++#++#+#++#+#\n##+##++++++#+++++#++#+#++##+++#+#+++##+#\n#+++#+#+##+#+##++#P#++#++++++##++#+#++##\n#+++#++##+##+#++++#++#++##++++++#+#+#+++\n++++####+#++#####+++#+###+#++###++++#++#\n#+#++####++##++#+#+#+##+#+#+##++++##++#+\n+###+###+#+##+++#++++++#+#++++###+#+++++\n+++#+++++#+++#+++++##++++++++###++#+#+++\n+#+#++#+#++++++###+#++##+#+##+##+#+#####\n#++++++++#+#+###+######++#++#+++++++++++\n##+++##+#+#++#++#++#++++++#++##+#+#++###\n+#+#+#+++++++#+++++++######+##++#++##+##\n++#+++#+###+#++###+++#+++#+#++++#+###+++\n#+#+###++#+#####+++++#+####++#++#+###+++\n+#+##+#++#++##+++++++######++#++++++++++\n+####+#+#+++++##+#+#++#+#++#+++##++++#+#\n#++##++#+#+++++##+#++++####+++++###+#+#+\n##+#++#++#+##+#+#++##++###+###+#+++++##+\n##++###+###+#+#++#++#########+++###+#+##\n+++#+++#++++++++++#+#+++#++#++###+####+#\n++##+###+++++++##+++++#++#++++++++++++++\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 3</h3><pre>151\n</pre>\n\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 4</h3><pre>1 1\nP\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 4</h3><pre>0\n</pre></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>1600</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>In some place in the Arctic Ocean, there are <var>H</var> rows and <var>W</var> columns of ice pieces floating on the sea.\nWe regard this area as a grid, and denote the square at the <var>i</var>-th row and <var>j</var>-th column as Square <var>(i,j)</var>.\nThe ice piece floating in each square is either thin ice or an iceberg, and a penguin lives in one of the squares that contain thin ice.\nThere are no ice pieces floating outside the grid.</p>\n<p>The ice piece at Square <var>(i,j)</var> is represented by the character <var>S_{i,j}</var>.\n<var>S_{i,j}</var> is <code>+</code>, <code>#</code> or <code>P</code>, each of which means the following:</p>\n<ul>\n<li><code>+</code>: Occupied by thin ice.</li>\n<li><code>#</code>: Occupied by an iceberg.</li>\n<li><code>P</code>: Occupied by thin ice. The penguin lives here.</li>\n</ul>\n<p>When summer comes, unstable thin ice that is not held between some pieces of ice collapses one after another.\nFormally, thin ice at Square <var>(i,j)</var> will collapse when it does NOT satisfy either of the following conditions:</p>\n<ul>\n<li>Both Square <var>(i-1,j)</var> and Square <var>(i+1,j)</var> are occupied by an iceberg or uncollapsed thin ice.</li>\n<li>Both Square <var>(i,j-1)</var> and Square <var>(i,j+1)</var> are occupied by an iceberg or uncollapsed thin ice.</li>\n</ul>\n<p>When a collapse happens, it may cause another. Note that icebergs do not collapse.</p>\n<p>Now, a mischievous tourist comes here. He will do a little work so that, when summer comes, the thin ice inhabited by the penguin will collapse.\nHe can smash an iceberg with a hammer to turn it to thin ice.\nAt least how many icebergs does he need to smash?</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>1 \\leq H,W \\leq 40</var></li>\n<li><var>S_{i,j}</var> is <code>+</code>, <code>#</code> or <code>P</code>.</li>\n<li><var>S</var> contains exactly one <code>P</code>.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>Input is given from Standard Input in the following format:</p>\n<pre><var>H</var> <var>W</var>\n<var>S_{1,1}</var><var>S_{1,2}</var><var>...</var><var>S_{1,W}</var>\n<var>S_{2,1}</var><var>S_{2,2}</var><var>...</var><var>S_{2,W}</var>\n<var>:</var>\n<var>S_{H,1}</var><var>S_{H,2}</var><var>...</var><var>S_{H,W}</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>Print the minimum number of icebergs that needs to be changed to thin ice in order to cause the collapse of the thin ice inhabited by the penguin when summer comes.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>3 3\n+#+\n#P#\n+#+\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>2\n</pre>\n\n<p>For example, when the right and bottom icebergs are changed to thin ice, collapses happen as follows:</p>\n<pre>+#+    .#.    .#.    .#.\n#P+ -&gt; #P+ -&gt; #P. -&gt; #..\n+++    .+.    ...    ...\n</pre>\n\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>6 6\n#+++++\n+++#++\n#+++++\n+++P+#\n+##+++\n++++#+\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>1\n</pre>\n\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 3</h3><pre>40 40\n#++#+++++#+#+#+##+++++++##+#+++#++##++##\n+##++++++++++#+###+##++++#+++++++++#++##\n+++#+++++#++#++####+++#+#+###+++##+++#++\n+++#+######++##+#+##+#+++#+++++++++#++#+\n+++##+#+#++#+++#++++##+++++++++#++#+#+#+\n#++#+++#+#++++##+#+#+++##+#+##+#++++##++\n++#+##+++#++####+#++##++#+++#+#+#++++#++\n+#+###++++++##++++++#++##+#####++#++##++\n##+##+#+++#+#+##++#+###+######++++#+###+\n+++#+++##+#####+#+#++++#+#+++++#+##++##+\n#+++#+##+++++++#++#++++++++++###+#++#+#+\n##+++##++#+++++#++++#++#+##++#+#+#++##+#\n##+++#+###+++++##++#+#+++####+#+++++#+++\n+++#++#++#+++++++++#++###++++++++###+##+\n++#+++#++++++#####++##++#+++#+++++#++++#\n++#++#+##++++#####+###+++####+#+#+######\n++++++##+++++##+++++#++###++#++##+++++++\n+#++++##++++++#++++#+#++++#++++##+++##+#\n+++++++#+#++##+##+#+++++++###+###++##+++\n++++++#++###+#+#+++##+#++++++#++#+#++#+#\n##+##++++++#+++++#++#+#++##+++#+#+++##+#\n#+++#+#+##+#+##++#P#++#++++++##++#+#++##\n#+++#++##+##+#++++#++#++##++++++#+#+#+++\n++++####+#++#####+++#+###+#++###++++#++#\n#+#++####++##++#+#+#+##+#+#+##++++##++#+\n+###+###+#+##+++#++++++#+#++++###+#+++++\n+++#+++++#+++#+++++##++++++++###++#+#+++\n+#+#++#+#++++++###+#++##+#+##+##+#+#####\n#++++++++#+#+###+######++#++#+++++++++++\n##+++##+#+#++#++#++#++++++#++##+#+#++###\n+#+#+#+++++++#+++++++######+##++#++##+##\n++#+++#+###+#++###+++#+++#+#++++#+###+++\n#+#+###++#+#####+++++#+####++#++#+###+++\n+#+##+#++#++##+++++++######++#++++++++++\n+####+#+#+++++##+#+#++#+#++#+++##++++#+#\n#++##++#+#+++++##+#++++####+++++###+#+#+\n##+#++#++#+##+#+#++##++###+###+#+++++##+\n##++###+###+#+#++#++#########+++###+#+##\n+++#+++#++++++++++#+#+++#++#++###+####+#\n++##+###+++++++##+++++#++#++++++++++++++\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 3</h3><pre>151\n</pre>\n\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 4</h3><pre>1 1\nP\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 4</h3><pre>0\n</pre></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/cf17-final/tasks/cf17_final_h"}