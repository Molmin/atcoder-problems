{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>1500</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p>円周上の一般の位置に相異なる <var>2N</var> 個の点が並んでおり、反時計回りに順に <var>1,\\dots,2N</var> の番号が付けられています。\nただし、ここでいう一般の位置とは、どの相異なる <var>6</var> 点 <var>U, V, W, X, Y, Z</var> についても、線分 <var>UV, WX, YZ</var> が一点で交わらないことをいいます。\nまた、 <var>2N \\times 2N</var> の行列 <var>A</var> が与えられます。</p>\n<p>円周上の <var>2N</var> 個の点を <var>N</var> 個のペアに分ける方法であって、以下の条件をみたすようなものの個数を求めてください。</p>\n<ul>\n<li>すべてのペアに対してそのペアの <var>2</var> つの点を結ぶ赤い線分をひいたとき、赤い部分が \"木\" になっている。</li>\n<li>すべてのペアについて、その端点を点 <var>P, Q</var> としたとき、 <var>A_{P,Q} = A_{Q,P} = 1</var> である。</li>\n</ul>\n<p>より厳密には、赤い部分が \"木\" になっているとは、赤い部分全体が連結かつ無閉路になっていることを指します。</p>\n<p>例えば、下図において、</p>\n<ul>\n<li>左上の例は条件を満たします。</li>\n<li>右上の例は、赤い部分に閉路が存在し、条件を満たしません。</li>\n<li>左下の例は、赤い部分が非連結であり、条件を満たしません。</li>\n<li>右下の例は、ペアに属さない頂点やペアに複数回含まれる頂点が存在し、条件を満たしません。</li>\n</ul>\n<div style=\"text-align: center;\">\n<img src=\"https://img.atcoder.jp/agc039/af51d64712504b85b7a755ec48c3acac.png\">\n<p>図: 条件を満たす例 (左上) とそうでない例 (それ以外)</p>\n</div>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>ノート</h3><p>答えは、<var>2N</var> 個の点が一般の位置にある限り、その具体的な位置関係には依存しないことが証明できます。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>1 \\leq N \\leq 20</var></li>\n<li><var>A_{i,j}</var> は <code>0</code> または <code>1</code> である</li>\n<li><var>A_{i,i}</var> は <code>0</code> である</li>\n<li><var>A_{i,j}=A_{j,i}</var></li>\n<li><var>N</var> は整数である</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>\n<pre><var>N</var>\n<var>A_{1,1}...A_{1,2N}</var>\n<var>:</var>\n<var>A_{2N,1}...A_{2N,2N}</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>円周上の <var>2N</var> 個の点を <var>N</var> 個のペアに分ける方法であって、条件をみたすようなものの個数を出力せよ。\nこの制約下で、答えが <var>64</var> ビット符号付整数の範囲内に収まることが証明できる。</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>3\n011111\n101111\n110111\n111011\n111101\n111110\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>3\n</pre>\n\n<p><var>((1,4),(2,6),(3,5))</var>, <var>((1,3),(2,5),(4,6))</var>, <var>((1,5),(2,4),(3,6))</var> の <var>3</var> つの分け方が条件を満たします。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>4\n01111100\n10011111\n10011100\n11101111\n11110111\n11111011\n01011101\n01011110\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>6\n</pre>\n\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 3</h3><pre>8\n0111101111111111\n1011101111111111\n1101101111011101\n1110111111111111\n1111011111110111\n0001101111111111\n1111110111011111\n1111111011111111\n1111111101111111\n1111111110111111\n1101110111011111\n1111111111101111\n1111011111110111\n1111111111111011\n1101111111111101\n1111111111111110\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 3</h3><pre>4762\n</pre></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>1500</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>There are <var>2N</var> points <em>generally positioned</em> on the circumference of a circle, numbered <var>1,\\dots,2N</var> in counterclockwise order.\nHere, a set of points is said to be generally positioned if, for any six distinct points <var>U, V, W, X, Y,</var> and <var>Z</var> among them, the segments <var>UV, WX,</var> and <var>YZ</var> do not intersect at the same point.\nAdditionally, you will be given a <var>2N\\times 2N</var> matrix <var>A</var>.</p>\n<p>Find the number of ways to divide the <var>2N</var> points into <var>N</var> pairs such that all of the following are satisfied:</p>\n<ul>\n<li>Let us draw a red segment connecting the two points for each pair. Then, those red segments <em>form a tree</em>.</li>\n<li>For each pair <var>(P, Q)</var>, <var>A_{P,Q} = A_{Q,P} = 1</var> holds.</li>\n</ul>\n<p>Here, a set of segments is said to form a tree if they are all connected and form no cycles.</p>\n<p>For example, see the figure below:</p>\n<ul>\n<li>Upper left: the conditions are satisfied.</li>\n<li>Upper right: the red segments form a cycle, so the conditions are not satisfied.</li>\n<li>Lower left: the red segments are not connected, so the conditions are not satisfied.</li>\n<li>Lower right: some vertices belong to no pair or multiple pairs, so the conditions are not satisfied.</li>\n</ul>\n<div style=\"text-align: center;\">\n<img src=\"https://img.atcoder.jp/agc039/af51d64712504b85b7a755ec48c3acac.png\">\n<p>Figure: A division satisfying the conditions (upper left) and divisions violating them (the others)</p>\n</div>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Notes</h3><p>It can be proved that, as long as the <var>2N</var> points are generally positioned, the answer does not depend on their specific positions.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>1 \\leq N \\leq 20</var></li>\n<li><var>A_{i,j}</var> is <code>0</code> or <code>1</code>.</li>\n<li><var>A_{i,i}</var> is <code>0</code>.</li>\n<li><var>A_{i,j}=A_{j,i}</var></li>\n<li><var>N</var> is an integer.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>Input is given from Standard Input in the following format:</p>\n<pre><var>N</var>\n<var>A_{1,1}...A_{1,2N}</var>\n<var>:</var>\n<var>A_{2N,1}...A_{2N,2N}</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>Print the number of ways to divide the <var>2N</var> points into <var>N</var> pairs such that all of the conditions are satisfied.\nIt can be proved that the answer fits into a <var>64</var>-bit signed integer under the given constraints.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>3\n011111\n101111\n110111\n111011\n111101\n111110\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>3\n</pre>\n\n<p>There are three possible divisions that satisfy the conditions: <var>((1,4),(2,6),(3,5))</var>, <var>((1,3),(2,5),(4,6))</var>, and <var>((1,5),(2,4),(3,6))</var>.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>4\n01111100\n10011111\n10011100\n11101111\n11110111\n11111011\n01011101\n01011110\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>6\n</pre>\n\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 3</h3><pre>8\n0111101111111111\n1011101111111111\n1101101111011101\n1110111111111111\n1111011111110111\n0001101111111111\n1111110111011111\n1111111011111111\n1111111101111111\n1111111110111111\n1101110111011111\n1111111111101111\n1111011111110111\n1111111111111011\n1101111111111101\n1111111111111110\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 3</h3><pre>4762\n</pre></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/agc039/tasks/agc039_e"}