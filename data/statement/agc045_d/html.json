{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>1200</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p><var>1</var> から <var>N</var> までの番号のついた <var>N</var> 個のランプと，<var>1</var> から <var>N</var> までの番号のついた <var>N</var> 個のボタンがあります．\n最初，ランプ <var>1,2,\\cdots,A</var> は点灯しており，それ以外のランプは点灯していません．</p>\n<p>すぬけくんとりんごさんは，次のようなゲームを行うことにしました．</p>\n<ul>\n<li>\n<p>まず，りんごさんが <var>(1,2,\\cdots,N)</var> の順列 <var>(p_1,p_2,\\cdots,p_N)</var> を生成する．\nこの順列は <var>N!</var> 通りの中から一様ランダムに選ばれる．\nすぬけくんは，この順列を知らされない．</p>\n</li>\n<li>\n<p>次に，すぬけくんは，以下の操作を好きなだけ繰り返す．</p>\n<ul>\n<li>現在点灯しているランプを <var>1</var> つ選ぶ（そのようなランプがない場合は操作を行えない）．\n選んだランプの番号を <var>i</var> とする．\nそして，ボタン <var>i</var> を押す．\nすると，ランプ <var>p_i</var> の状態が反転する．つまり，ランプ <var>p_i</var> がもともと点灯しているなら消灯し，もともと点灯していないなら点灯する．</li>\n</ul>\n</li>\n</ul>\n<p>すぬけくんは，常に，どのランプが点灯しているかを知ることができます．\nすぬけくんの勝利条件は，すべてのランプを点灯した状態にすることです．\nこれが不可能と判明した時点ですぬけくんは負けを認めます．\nすぬけくんが最適に行動するとき，勝率はいくらでしょうか？</p>\n<p>すぬけくんの勝率を <var>w</var> とした時，<var>w \\times N!</var> は整数になります．\n<var>w \\times N!</var> を <var>10^9+7</var> で割ったあまりを求めてください．</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>2 \\leq N \\leq 10^7</var></li>\n<li><var>1 \\leq A \\leq \\min(N-1,5000)</var></li>\n</ul>\n</section>\n</div>\n\n<hr>\n\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる．</p>\n<pre><var>N</var> <var>A</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>すぬけくんの勝率を <var>w</var> とした時，<var>w \\times N!</var> を <var>10^9+7</var> で割ったあまりを出力せよ．</p>\n</section>\n</div>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>3 1\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>2\n</pre>\n\n<p>すぬけくんはまず，ボタン <var>1</var> を押します．\nランプ <var>1</var> が消灯した場合はすぬけくんの負けです．\nそうでないときは，新しく点灯したランプに対応するボタンを押します．\nここで残っていたランプが点灯すれば，すぬけくんの勝ちです．\n逆に，ランプ <var>1</var> が消灯した場合，すぬけくんの負けです．\nこのゲームの勝率は <var>1/3</var> なので，<var>(1/3)\\times 3!=2</var> を出力します．</p>\n</section>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>3 2\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>3\n</pre>\n\n</section>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>入力例 3</h3><pre>8 4\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 3</h3><pre>16776\n</pre>\n\n</section>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>入力例 4</h3><pre>9999999 4999\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 4</h3><pre>90395416\n</pre></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>1200</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>We have <var>N</var> lamps numbered <var>1</var> to <var>N</var>, and <var>N</var> buttons numbered <var>1</var> to <var>N</var>.\nInitially, Lamp <var>1, 2, \\cdots, A</var> are on, and the other lamps are off.</p>\n<p>Snuke and Ringo will play the following game.</p>\n<ul>\n<li>\n<p>First, Ringo generates a permutation <var>(p_1,p_2,\\cdots,p_N)</var> of  <var>(1,2,\\cdots,N)</var>.\nThe permutation is chosen from all <var>N!</var> possible permutations with equal probability, without being informed to Snuke.</p>\n</li>\n<li>\n<p>Then, Snuke does the following operation any number of times he likes:</p>\n<ul>\n<li>Choose a lamp that is on at the moment. (The operation cannot be done if there is no such lamp.)\nLet Lamp <var>i</var> be the chosen lamp.\nPress Button <var>i</var>, which switches the state of Lamp <var>p_i</var>. That is, Lamp <var>p_i</var> will be turned off if it is on, and vice versa.</li>\n</ul>\n</li>\n</ul>\n<p>At every moment, Snuke knows which lamps are on.\nSnuke wins if all the lamps are on, and he will surrender when it turns out that he cannot win.\nWhat is the probability of winning when Snuke plays optimally?</p>\n<p>Let <var>w</var> be the probability of winning. Then, <var>w \\times N!</var> will be an integer.\nCompute <var>w \\times N!</var> modulo <var>(10^9+7)</var>.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>2 \\leq N \\leq 10^7</var></li>\n<li><var>1 \\leq A \\leq \\min(N-1,5000)</var></li>\n</ul>\n</section>\n</div>\n\n<hr>\n\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>Input is given from Standard Input in the following format:</p>\n<pre><var>N</var> <var>A</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>Print <var>w \\times N!</var> modulo <var>(10^9+7)</var>, where <var>w</var> is the probability of Snuke's winning.</p>\n</section>\n</div>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>3 1\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>2\n</pre>\n\n<p>First, Snuke will press Button <var>1</var>.\nIf Lamp <var>1</var> turns off, he loses.\nOtherwise, he will press the button that he can now press.\nIf the remaining lamp turns on, he wins; if Lamp <var>1</var> turns off, he loses.\nThe probability of winning in this game is <var>1/3</var>, so we should print <var>(1/3)\\times 3!=2</var>.</p>\n</section>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>3 2\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>3\n</pre>\n\n</section>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>Sample Input 3</h3><pre>8 4\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 3</h3><pre>16776\n</pre>\n\n</section>\n</div>\n\n<hr>\n\n<div class=\"part\">\n<section>\n<h3>Sample Input 4</h3><pre>9999999 4999\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 4</h3><pre>90395416\n</pre></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/agc045/tasks/agc045_d"}