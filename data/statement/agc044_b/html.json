{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>700</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p>映画「ジョーカー」が今夜放映されるとあり、あなたの行きつけの劇場はすでに満席です。この劇場には <var>N</var> 席の座席からなる列が <var>N</var> 列あり、これらの席が <var>N\\times N</var> の正方形型に並んでいます。最前列の観客に左から <var>1, 2,\\dots, N</var> の番号を、前から <var>2</var> 列目の観客に左から <var>N+1, \\dots, 2N</var> の番号を付け、以降の観客にも同様に番号を付けます。最後列の観客の番号は、左から <var>N^2-N+1,\\dots, N^2</var> となります。</p>\n<p>上映が終わると、観客は決まった順に劇場を出ます。<var>i</var> 番目に劇場を出るのは、番号 <var>P_i</var> の観客です。番号 <var>P_{i+1}</var> の観客は、番号 <var>P_{i}</var> の観客が劇場を出るまで待ってから移動します。劇場を出るには、席から席への移動を繰り返し、席からなる正方形型のエリアの外に出なければなりません (四辺のどこからでも出ることができます)。席から席への移動では、前後左右の <var>4</var> 方向への移動が可能です。</p>\n<p>番号 <var>x</var> の観客が、劇場を出る際に番号 <var>y</var> の別の観客が <strong>まだ座っている</strong> 席を通り抜けてしまうと、番号 <var>x</var> の観客は番号 <var>y</var> の観客に永遠に嫌われます。各観客は、自分を永遠に嫌う観客の数が最小となるように移動方法を選びます。</p>\n<p>番号 <var>x</var> の観客が番号 <var>y</var> の観客に永遠に嫌われるような組 <var>(x, y)</var> の個数を求めてください。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>2 \\le N \\le 500</var></li>\n<li>列 <var>P_1, P_2, \\dots, P_{N^2}</var> は <var>\\{1, 2, \\dots, N^2\\}</var> の順列である。</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は標準入力から以下の形式で与えられる。</p>\n<pre><var>N</var>\n<var>P_1</var> <var>P_2</var> <var>\\cdots</var> <var>P_{N^2}</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>問題文で述べたような観客の組 <var>(x, y)</var> が <var>ans</var> 組存在するとして、標準出力に以下の形式で出力せよ。</p>\n<pre><var>ans</var>\n</pre>\n\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>3\n1 3 7 9 5 4 8 6 2\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>1\n</pre>\n\n<p>上映が終わる前の劇場内の観客の配置は以下の通りです。</p>\n<pre>1 2 3\n4 5 6\n7 8 9\n</pre>\n\n<p>劇場を出る最初の <var>4</var> 人 (番号 <var>1</var>, <var>3</var>, <var>7</var>, <var>9</var> の観客) は席を通り抜けることなく劇場を出られるので、誰にも嫌われません。</p>\n<p>その後、番号 <var>5</var> の観客は、劇場を出る際に番号 <var>2</var>, <var>4</var>, <var>6</var>, <var>8</var> の観客が座る席のうちいずれかを通り抜けなければなりません。よって、番号 <var>5</var> の観客は上記の観客のうち少なくとも一人に嫌われます。</p>\n<p>最後に残った <var>4</var> 人 (順に番号 <var>4</var>, <var>8</var>, <var>6</var>, <var>2</var> の観客) は、人が座っている席を通り抜けずに劇場を出られます (そもそも、席を通り抜ける必要がありません)。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>4\n6 7 1 4 13 16 10 9 5 11 12 14 15 2 3 8\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>3\n</pre>\n\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 3</h3><pre>6\n11 21 35 22 7 36 27 34 8 20 15 13 16 1 24 3 2 17 26 9 18 32 31 23 19 14 4 25 10 29 28 33 12 6 5 30\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 3</h3><pre>11\n</pre></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>700</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>Tonight, in your favourite cinema they are giving the movie Joker and all seats are occupied. In the cinema there are <var>N</var> rows with <var>N</var> seats each, forming an <var>N\\times N</var> square. We denote with <var>1, 2,\\dots, N</var> the viewers in the first row (from left to right); with <var>N+1, \\dots, 2N</var> the viewers in the second row (from left to right); and so on until the last row, whose viewers are denoted by <var>N^2-N+1,\\dots, N^2</var>.</p>\n<p>At the end of the movie, the viewers go out of the cinema in a certain order: the <var>i</var>-th viewer leaving her seat is the one denoted by the number <var>P_i</var>. The viewer <var>P_{i+1}</var> waits until viewer <var>P_i</var> has left the cinema before leaving her seat.\nTo exit from the cinema, a viewer must move from seat to seat until she exits the square of seats (any side of the square is a valid exit). A viewer can move from a seat to one of its <var>4</var> adjacent seats (same row or same column).\nWhile leaving the cinema, it might be that a certain viewer <var>x</var> goes through a seat <strong>currently</strong> occupied by viewer <var>y</var>; in that case viewer <var>y</var> will hate viewer <var>x</var> forever. Each viewer chooses the way that minimizes the number of viewers that will hate her forever.</p>\n<p>Compute the number of pairs of viewers <var>(x, y)</var> such that <var>y</var> will hate <var>x</var> forever.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>2 \\le N \\le 500</var></li>\n<li>The sequence <var>P_1, P_2, \\dots, P_{N^2}</var> is a permutation of <var>\\{1, 2, \\dots, N^2\\}</var>.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>The input is given from Standard Input in the format</p>\n<pre><var>N</var>\n<var>P_1</var> <var>P_2</var> <var>\\cdots</var> <var>P_{N^2}</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>If <var>ans</var> is the number of pairs of viewers described in the statement, you should print on Standard Output</p>\n<pre><var>ans</var>\n</pre>\n\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>3\n1 3 7 9 5 4 8 6 2\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>1\n</pre>\n\n<p>Before the end of the movie, the viewers are arranged in the cinema as follows:</p>\n<pre>1 2 3\n4 5 6\n7 8 9\n</pre>\n\n<p>The first four viewers leaving the cinema (<var>1</var>, <var>3</var>, <var>7</var>, <var>9</var>) can leave the cinema without going through any seat, so they will not be hated by anybody.</p>\n<p>Then, viewer <var>5</var> must go through one of the seats where viewers <var>2</var>, <var>4</var>, <var>6</var>, <var>8</var> are currently seated while leaving the cinema; hence he will be hated by at least one of those viewers.</p>\n<p>Finally the remaining viewers can leave the cinema (in the order <var>4</var>, <var>8</var>, <var>6</var>, <var>2</var>) without going through any occupied seat (actually, they can leave the cinema without going through any seat at all).</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>4\n6 7 1 4 13 16 10 9 5 11 12 14 15 2 3 8\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>3\n</pre>\n\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 3</h3><pre>6\n11 21 35 22 7 36 27 34 8 20 15 13 16 1 24 3 2 17 26 9 18 32 31 23 19 14 4 25 10 29 28 33 12 6 5 30\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 3</h3><pre>11\n</pre></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/agc044/tasks/agc044_b"}