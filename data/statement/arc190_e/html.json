{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>1100</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p>長さ <var>N</var> の非負整数列 <var>A=(A_1,\\ldots,A_N)</var> が与えられます．<var>Q</var> 個のクエリに答えてください．</p>\n<p><var>i</var> 番目のクエリでは <var>1\\leq L_i\\leq R_i\\leq N</var> を満たす整数 <var>L_i, R_i</var> が与えられるので，長さ <var>R_i-L_i+1</var> の列 <var>B=(A_{L_i},\\ldots,A_{R_i})</var> に対して次の問題を解いてください．</p>\n<blockquote>\n<p><var>B</var> に対して次の操作を繰り返すことを考えます．</p>\n<ul>\n<li><var>1\\leq i,j\\leq |B|</var> を満たす整数 <var>i,j</var> であって，<var>1\\leq B_i,B_j</var> かつ <var>1\\leq j-i\\leq 2</var> を満たすものを選ぶ．<var>B_i, B_j</var> から <var>1</var> を引く．</li>\n</ul>\n<p>操作を行う回数としてありうる最大値を求めてください．</p>\n</blockquote>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>1\\leq N\\leq 200000</var></li>\n<li><var>1\\leq Q\\leq 200000</var></li>\n<li><var>0\\leq A_i\\leq 10^9</var></li>\n<li><var>1\\leq L_i\\leq R_i\\leq N</var></li>\n<li>入力される値はすべて整数である</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられます．</p>\n<pre><var>N</var> <var>Q</var>\n<var>A_1</var> <var>\\cdots</var> <var>A_N</var>\n<var>L_1</var> <var>R_1</var>\n<var>\\vdots</var>\n<var>L_Q</var> <var>R_Q</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p><var>Q</var> 行出力してください．</p>\n<p><var>i</var> 行目には <var>B=(A_{L_i},\\ldots,A_{R_i})</var> に操作を行う回数としてありうる最大値を出力してください．</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>6 1\n1 1 4 0 3 2\n1 6\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>5\n</pre>\n\n<p>この例では <var>B=(1,1,4,0,3,2)</var> に対して問題を解くことになります．次のようにして <var>5</var> 回の操作を行うことができます．</p>\n<ul>\n<li><var>i=1,j=3</var> として操作を行う．<var>B=(0,1,3,0,3,2)</var> になる．</li>\n<li><var>i=2,j=3</var> として操作を行う．<var>B=(0,0,2,0,3,2)</var> になる．</li>\n<li><var>i=3,j=5</var> として操作を行う．<var>B=(0,0,1,0,2,2)</var> になる．</li>\n<li><var>i=5,j=6</var> として操作を行う．<var>B=(0,0,1,0,1,1)</var> になる．</li>\n<li><var>i=5,j=6</var> として操作を行う．<var>B=(0,0,1,0,0,0)</var> になる．</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>6 6\n49 83 10 77 21 62\n1 1\n1 2\n1 3\n3 5\n1 6\n5 6\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>0\n49\n59\n31\n151\n21\n</pre></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>1100</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>You are given a length-<var>N</var> sequence <var>A = (A_1, \\ldots, A_N)</var> of non-negative integers. Answer <var>Q</var> queries.</p>\n<p>In the <var>i</var>-th query, you are given integers <var>L_i</var> and <var>R_i</var> such that <var>1 \\leq L_i \\leq R_i \\leq N</var>. Solve the following problem for the subsequence <var>B = (A_{L_i}, \\ldots, A_{R_i})</var> of length <var>R_i - L_i + 1</var>.</p>\n<blockquote>\n<p>We repeat the following operation on <var>B</var>:</p>\n<ul>\n<li>Choose integers <var>i</var> and <var>j</var> with <var>1 \\leq i, j \\leq |B|</var> such that <var>B_i \\ge 1</var>, <var>B_j \\ge 1</var>, and <var>1 \\leq j - i \\leq 2</var>. Subtract <var>1</var> from <var>B_i</var> and <var>B_j</var>.</li>\n</ul>\n<p>Find the maximum number of times the operation can be performed.</p>\n</blockquote>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>1 \\leq N \\leq 200000</var></li>\n<li><var>1 \\leq Q \\leq 200000</var></li>\n<li><var>0 \\leq A_i \\leq 10^9</var></li>\n<li><var>1 \\leq L_i \\leq R_i \\leq N</var></li>\n<li>All input values are integers.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>The input is given from Standard Input in the following format:</p>\n<pre><var>N</var> <var>Q</var>\n<var>A_1</var> <var>\\cdots</var> <var>A_N</var>\n<var>L_1</var> <var>R_1</var>\n<var>\\vdots</var>\n<var>L_Q</var> <var>R_Q</var>\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>Print <var>Q</var> lines.</p>\n<p>The <var>i</var>-th line should contain the maximum number of times the operation can be performed for <var>B = (A_{L_i}, \\ldots, A_{R_i})</var>.</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>6 1\n1 1 4 0 3 2\n1 6\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>5\n</pre>\n\n<p>In this example, we solve the problem for <var>B = (1,1,4,0,3,2)</var>. We can perform five operations as follows:</p>\n<ul>\n<li>Choose <var>i=1</var> and <var>j=3</var>. Then <var>B = (0,1,3,0,3,2)</var>.</li>\n<li>Choose <var>i=2</var> and <var>j=3</var>. Then <var>B = (0,0,2,0,3,2)</var>.</li>\n<li>Choose <var>i=3</var> and <var>j=5</var>. Then <var>B = (0,0,1,0,2,2)</var>.</li>\n<li>Choose <var>i=5</var> and <var>j=6</var>. Then <var>B = (0,0,1,0,1,1)</var>.</li>\n<li>Choose <var>i=5</var> and <var>j=6</var>. Then <var>B = (0,0,1,0,0,0)</var>.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>6 6\n49 83 10 77 21 62\n1 1\n1 2\n1 3\n3 5\n1 6\n5 6\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>0\n49\n59\n31\n151\n21\n</pre></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/arc190/tasks/arc190_e"}