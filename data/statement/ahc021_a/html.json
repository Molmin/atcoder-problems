{"html":{"ja":"<span class=\"lang-ja\">\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p><var>N(N+1)/2</var> 個のボールが下図のように <var>N</var> 段のピラミッド型に並んでいる。\nピラミッドの頂上のボールの座標を <var>(0, 0)</var> とし、<var>x (0\\leq x\\leq N-1)</var> 段目の左から <var>y (0\\leq y\\leq x)</var> 個目のボールの座標を <var>(x,y)</var> とする。</p>\n<figure>\n    <img src=\"https://img.atcoder.jp/ahc021/d17182d7.png\">\n</figure>\n\n<p>各ボールには <var>0</var> 〜 <var>N(N+1)/2-1</var> の数字が書かれており、各ボールの数字は全て異なる。\n一回の操作で6方向に隣接する2つのボールを入れ替えることが出来る。\nここで、座標 <var>(x_1,y_1)</var> と <var>(x_2,y_2)</var> にあるボールは以下のいずれかの条件を満たす場合に6方向に隣接している。</p>\n<ul>\n<li><var>x_1=x_2-1</var> かつ <var>y_1=y_2-1</var></li>\n<li><var>x_1=x_2-1</var> かつ <var>y_1=y_2</var></li>\n<li><var>x_1=x_2</var> かつ <var>y_1=y_2-1</var></li>\n<li><var>x_1=x_2</var> かつ <var>y_1=y_2+1</var></li>\n<li><var>x_1=x_2+1</var> かつ <var>y_1=y_2</var></li>\n<li><var>x_1=x_2+1</var> かつ <var>y_1=y_2+1</var></li>\n</ul>\n<p>この操作を最大 <var>10000</var> 回繰り返すことで、最下層を除くどのボール <var>(x,y) (0\\leq x\\leq N-2, 0\\leq y\\leq x)</var> も自身の直下にある2つのボール <var>(x+1,y), (x+1,y+1)</var> よりも小さい数字となるようにしたい。\n出来るだけ操作回数が少なくなるような操作列を求めて欲しい。</p>\n<figure>\n    <img src=\"https://img.atcoder.jp/ahc021/d17182d7.gif\">\n</figure>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>得点</h3><p>操作回数を <var>K</var>、操作終了後に条件に違反しているボールのペアの数を <var>E</var> とする。\n<var>E</var> は <var>(x,y)</var> と <var>(x+1,y') (y'\\in\\{y,y+1\\})</var> の組であって、<var>(x,y)</var> のボールの数字の方が <var>(x+1,y')</var> のボールの数字より大きいようなものの総数である。</p>\n<p>このとき、以下のスコアが得られる。</p>\n<ul>\n<li><var>E=0</var> の場合、<var>100000-5K</var></li>\n<li><var>E&gt;0</var> の場合、<var>50000-50E</var></li>\n</ul>\n<p>テストケースは全部で 150 個あり、各テストケースの得点の合計が提出の得点となる。\n一つ以上のテストケースで不正な出力や制限時間超過をした場合、提出全体の判定が<span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"不正解\">WA</span>や<span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"実行時間制限超過\">TLE</span>となる。\nコンテスト時間中に得た最高得点で最終順位が決定され、コンテスト終了後のシステムテストは行われない。 同じ得点を複数の参加者が得た場合、提出時刻に関わらず同じ順位となる。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>全ての入力でピラミッドの段数は <var>N=30</var> で固定であり、ボールの総数は <var>N(N+1)/2=465</var> となる。\n入力は以下の形式で標準入力から与えられる。</p>\n<pre><var>b_{0,0}</var>\n<var>b_{1,0}</var> <var>b_{1,1}</var>\n<var>b_{2,0}</var> <var>b_{2,1}</var> <var>b_{2,2}</var>\n<var>\\vdots</var>\n<var>b_{29,0}</var> <var>\\cdots</var> <var>b_{29,29}</var>\n</pre>\n\n<p><var>b_{x,y}</var> は初期状態で座標 <var>(x,y)</var> にあるボールに書かれた数字を表す整数であり、<var>0\\leq b_{x,y}\\leq 464</var> を満たす。\n同じ数字のボールは複数存在しない。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>操作回数を <var>K</var>、<var>i</var> 回目の操作で入れ替える2つのボールの座標を <var>(x_i,y_i), (x'_i,y'_i)</var> としたとき、以下の形式で標準出力に出力せよ。</p>\n<pre><var>K</var>\n<var>x_0</var> <var>y_0</var> <var>x'_0</var> <var>y'_0</var>\n<var>\\vdots</var>\n<var>x_{K-1}</var> <var>y_{K-1}</var> <var>x'_{K-1}</var> <var>y'_{K-1}</var>\n</pre>\n\n<p>操作回数 <var>K</var> は <var>10000</var> を超えてはならず、入れ替える2つのボールは6方向に隣接していなければならない。\nこれらの条件を満たさない場合、<span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"不正解\">WA</span> と判定される。</p>\n<p><a href=\"https://img.atcoder.jp/ahc021/d17182d7.html?lang=ja&amp;seed=0&amp;output=15%0D%0A2+0+3+1%0D%0A8+5+9+5%0D%0A24+5+25+6%0D%0A9+5+10+6%0D%0A10+10+11+10%0D%0A1+0+2+1%0D%0A28+9+29+10%0D%0A0+0+1+0%0D%0A18+7+19+8%0D%0A18+18+19+19%0D%0A20+5+21+5%0D%0A11+0+12+1%0D%0A27+12+28+12%0D%0A19+1+20+2%0D%0A7+3+8+3%0D%0A\">例を見る</a></p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>入力生成方法</h3><p><var>0</var> 〜 <var>464</var> の数字の書かれた <var>465</var> 個のボールをランダムな順番に並び替えることで入力は生成される。</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>ツール(入力ジェネレータ・ビジュアライザ)</h3><ul>\n<li><a href=\"https://img.atcoder.jp/ahc021/d17182d7.html?lang=ja\">Web版</a>: ローカル版より高性能でアニメーション表示が可能です。</li>\n<li><a href=\"https://img.atcoder.jp/ahc021/d17182d7.zip\">ローカル版</a>: 使用するには<a href=\"https://www.rust-lang.org/ja\">Rust言語</a>のコンパイル環境をご用意下さい。<ul>\n<li><a href=\"https://img.atcoder.jp/ahc021/d17182d7_windows.zip\">Windows用のコンパイル済みバイナリ</a>: Rust言語の環境構築が面倒な方は代わりにこちらをご利用下さい。</li>\n</ul>\n</li>\n</ul>\n<p>コンテスト期間中に、ビジュアライズ結果の共有や、解法・考察に関する言及は禁止されています。ご注意下さい。</p>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre style=\"max-height:200px;overflow-y:scroll\">236\n11 200\n453 2 378\n85 410 239 54\n50 240 113 25 294\n303 231 146 65 155 252\n368 327 321 251 451 182 142\n101 17 43 403 217 161 347 398\n350 287 363 48 80 447 385 233 197\n438 424 439 121 357 380 51 245 57 304\n141 91 100 344 194 250 432 322 58 281 219\n412 266 26 318 269 111 59 450 99 301 36 320\n218 135 278 225 227 268 313 162 420 214 42 166 55\n181 191 75 335 332 372 144 342 29 94 427 62 334 409\n377 213 369 117 307 428 280 152 242 88 460 175 351 340 230\n209 139 288 132 47 456 167 205 455 38 27 326 306 134 108 34\n389 441 393 361 120 296 331 316 458 183 170 40 397 274 402 103 408\n136 463 82 0 364 150 462 157 67 92 419 371 156 228 1 138 53 349\n174 129 71 169 199 367 87 443 359 172 298 22 244 415 401 373 417 160 305\n254 158 84 9 435 130 118 430 203 345 185 388 379 207 220 238 196 208 289 153\n425 356 109 237 116 212 358 396 270 179 262 76 370 444 308 229 105 148 365 429 248\n386 93 376 86 442 184 273 243 81 69 189 204 355 106 154 257 464 107 70 215 77 241\n127 404 180 123 362 124 234 300 173 222 72 329 140 147 232 3 187 114 381 133 44 387 60\n145 4 210 49 382 433 457 343 315 354 149 255 299 12 28 421 394 211 102 297 360 8 314 328\n46 256 416 336 423 295 90 112 168 309 64 96 260 437 440 366 323 35 383 346 79 293 61 312 202\n18 23 20 221 31 452 178 461 6 21 201 143 324 277 341 283 291 5 41 66 411 317 258 406 19 188\n164 261 16 137 426 264 98 78 45 310 246 176 319 95 384 68 392 37 265 190 249 73 198 15 32 330 311\n131 282 434 271 400 445 104 56 119 263 374 337 216 177 449 353 24 192 390 39 33 223 407 348 195 279 290 110\n267 89 375 284 13 63 391 422 272 259 30 97 125 459 413 333 52 448 399 122 83 126 275 302 115 14 338 446 339\n171 206 74 163 292 454 405 247 395 285 193 325 418 352 286 186 128 7 159 431 226 165 224 436 10 276 414 151 235 253\n</pre>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre style=\"max-height:200px;overflow-y:scroll\">15\n2 0 3 1\n8 5 9 5\n24 5 25 6\n9 5 10 6\n10 10 11 10\n1 0 2 1\n28 9 29 10\n0 0 1 0\n18 7 19 8\n18 18 19 19\n20 5 21 5\n11 0 12 1\n27 12 28 12\n19 1 20 2\n7 3 8 3\n</pre></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>There are <var>N(N+1)/2</var> balls arranged in an <var>N</var>-tiered pyramid as shown in the figure below.\nLet <var>(0, 0)</var> be the coordinates of the ball at the top of the pyramid, and let <var>(x,y)</var> be the coordinates of the <var>y (0\\leq y\\leq x)</var>-th ball from the left in the <var>x (0\\leq x-1)</var>-th tier from the top.</p>\n<figure>\n    <img src=\"https://img.atcoder.jp/ahc021/d17182d7.png\">\n</figure>\n\n<p>Each ball is labeled with a number from <var>0</var> to <var>N(N+1)/2-1</var>, and the numbers on each ball are all different.\nYou can swap two adjacent balls in six directions in a single operation.\nHere, the balls at coordinates <var>(x_1,y_1)</var> and <var>(x_2,y_2)</var> are adjacent in six directions if one of the following conditions is satisfied.</p>\n<ul>\n<li><var>x_1=x_2-1</var> and <var>y_1=y_2-1</var></li>\n<li><var>x_1=x_2-1</var> and <var>y_1=y_2</var></li>\n<li><var>x_1=x_2</var> and <var>y_1=y_2-1</var></li>\n<li><var>x_1=x_2</var> and <var>y_1=y_2+1</var></li>\n<li><var>x_1=x_2+1</var> and <var>y_1=y_2</var></li>\n<li><var>x_1=x_2+1</var> and <var>y_1=y_2+1</var></li>\n</ul>\n<p>By performing this operation at most <var>10000</var> times, please arrange the balls so that every ball <var>(x,y) (0\\leq x\\leq N-2, 0\\leq y\\leq x)</var> except those in the lowest tier has a smaller number than the two balls <var>(x+1,y), (x+1,y+1)</var> directly below it.\nPlease achieve this with as few operations as possible.</p>\n<figure>\n    <img src=\"https://img.atcoder.jp/ahc021/d17182d7.gif\">\n</figure>\n\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Scoring</h3><p>Let <var>K</var> be the number of operations and <var>E</var> be the number of pairs of balls violating the condition after finishing the operations.\nHere <var>E</var> is the total number of pairs of <var>(x,y)</var> and <var>(x+1,y') (y'\\in\\{y,y+1\\})</var> such that the ball <var>(x,y)</var> has a larger number than the ball <var>(x+1,y')</var>.\nThen you will obtain the following score.</p>\n<ul>\n<li>If <var>E=0</var>, <var>100000-5K</var>.</li>\n<li>If <var>E&gt;0</var>, <var>50000-50E</var>.</li>\n</ul>\n<p>There are 150 test cases, and the score of a submission is the total score for each test case.\nIf your submission produces an illegal output or exceeds the time limit for some test cases, the submission itself will be judged as <span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Wrong Answer\">WA</span> or <span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Time Limit Exceeded\">TLE</span> , and the score of the submission will be zero.\nThe highest score obtained during the contest will determine the final ranking, and there will be no system test after the contest.\nIf more than one participant gets the same score, they will be ranked in the same place regardless of the submission time.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>The number of pyramid tiers is fixed to <var>N=30</var> for all inputs, and the total number of balls is <var>N(N+1)/2=465</var>.\nInput is given from Standard Input in the following format:</p>\n<pre><var>b_{0,0}</var>\n<var>b_{1,0}</var> <var>b_{1,1}</var>\n<var>b_{2,0}</var> <var>b_{2,1}</var> <var>b_{2,2}</var>\n<var>\\vdots</var>\n<var>b_{29,0}</var> <var>\\cdots</var> <var>b_{29,29}</var>\n</pre>\n\n<p><var>b_{x,y}</var> is an integer satisfying <var>0\\leq b_{x,y}\\leq 464</var> and represents the number written on the ball initially at the coordinates <var>(x,y)</var>.\nAll the numbers are distinct.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>Let <var>K</var> be the number of operations and <var>(x_i,y_i), (x'_i,y'_i)</var> be the coordinates of the two balls to be swapped in the <var>i</var>-th operation.\nThen, output to Standard Output in the following format.</p>\n<pre><var>K</var>\n<var>x_0</var> <var>y_0</var> <var>x'_0</var> <var>y'_0</var>\n<var>\\vdots</var>\n<var>x_{K-1}</var> <var>y_{K-1}</var> <var>x'_{K-1}</var> <var>y'_{K-1}</var>\n</pre>\n\n<p>The number of operations <var>K</var> must not exceed <var>10000</var> and any two balls to be swapped must be adjacent in 6 directions.\nIf not satisfied, the submission will be judged as <span class=\"label label-warning\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Wrong Answer\">WA</span> .</p>\n<p><a href=\"https://img.atcoder.jp/ahc021/d17182d7.html?lang=ja&amp;seed=0&amp;output=15%0D%0A2+0+3+1%0D%0A8+5+9+5%0D%0A24+5+25+6%0D%0A9+5+10+6%0D%0A10+10+11+10%0D%0A1+0+2+1%0D%0A28+9+29+10%0D%0A0+0+1+0%0D%0A18+7+19+8%0D%0A18+18+19+19%0D%0A20+5+21+5%0D%0A11+0+12+1%0D%0A27+12+28+12%0D%0A19+1+20+2%0D%0A7+3+8+3%0D%0A\">Show example</a></p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Input Generation</h3><p>The input is generated by randomly shuffling <var>465</var> balls with numbers <var>0</var> to <var>464</var>.</p>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Tools (Input generator and visualizer)</h3><ul>\n<li><a href=\"https://img.atcoder.jp/ahc021/d17182d7.html?lang=en\">Web version</a>: This is more powerful than the local version providing animations.</li>\n<li><a href=\"https://img.atcoder.jp/ahc021/d17182d7.zip\">Local version</a>: You need a compilation environment of <a href=\"https://www.rust-lang.org/\">Rust language</a>.<ul>\n<li><a href=\"https://img.atcoder.jp/ahc021/d17182d7_windows.zip\">Pre-compiled binary for Windows</a>: If you are not familiar with the Rust language environment, please use this instead.</li>\n</ul>\n</li>\n</ul>\n<p>Please be aware that sharing visualization results or discussing solutions/ideas during the contest is prohibited.</p></section>\n</div>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/ahc021/tasks/ahc021_a"}