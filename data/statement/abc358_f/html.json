{"html":{"ja":"<span class=\"lang-ja\">\n<p>配点 : <var>525</var> 点</p>\n\n<div class=\"part\">\n<section>\n<h3>問題文</h3><p>すぬけくんは、AtCoder Land の新たな目玉アトラクションとして迷路を建設しようと考えています。\n迷路は縦 <var>N</var> 行・横 <var>M</var> 列のグリッドとして表され、右上のマスの上端が入口、右下のマスの下端が出口です。\nすぬけくんは、隣接するマスの間に適切に壁を配置することで迷路を作ります。</p>\n<p>すぬけくんは簡単な迷路が大好きなので、入口から出口までの道順は枝分かれを一切持たずにちょうど <var>K</var> マスを通るようなものにしたいです。\nそのような迷路を作ることが可能か判定し、可能ならば <var>1</var> つ構築してください。</p>\n<p>例えば以下の図では、<var>N=3,M=3</var> であり、実線で書かれているところに壁が配置されています（入口と出口を除く外周部には必ず壁が配置されるものとします）。 \nこのとき、入口から出口までの道順は枝分かれを一切持たずにちょうど <var>7</var> マスを通っています。</p>\n<p><img src=\"https://img.atcoder.jp/abc358/74c8a9b7121eee699525805e4974b285.png\" class=\"img-responsive center-block\" style=\"max-width: 20%\"></p>\n<p>厳密には以下の通りです。</p>\n<p>縦 <var>N</var> 行・横 <var>M</var> 列のグリッドがあります。\n上から <var>i</var> 行目、左から <var>j</var> 列目のマスを <var>(i,j)</var> と表記します。\nあなたは、辺で隣接する任意の <var>2</var> マスの間それぞれについて壁を置くか置かないか決めることができます。\n壁を置く場所をうまく定めることで以下の条件を満たすことができるか判定し、できるならば実際に <var>1</var> つ構築してください。</p>\n<blockquote>\n<p><var>NM</var> 頂点からなる無向グラフ <var>G</var> を考える。<var>G</var> の各頂点は <var>2</var> つの整数の組 <var>(i,j)\\ (1\\leq i\\leq N, 1\\leq j\\leq M)</var> によって互いに相異なるラベルが付けられている。\n相異なる <var>2</var> 頂点 <var>(i_1,j_1),(i_2,j_2)</var> は、<var>|i_1-i_2|+|j_1-j_2|=1</var> かつグリッド上の <var>2</var> マス <var>(i_1,j_1),(i_2,j_2)</var> の間に壁が置かれていない場合、またその場合に限り辺で結ばれている。</p>\n<p>条件：<var>K</var> 頂点からなり <var>2</var> 頂点 <var>(1,M),(N,M)</var> を結ぶような単純パスが存在し、また <var>2</var> 頂点 <var>(1,M),(N,M)</var> を含む連結成分はこのパスのみからなる。</p>\n</blockquote>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>制約</h3><ul>\n<li><var>2\\leq N \\leq 100</var></li>\n<li><var>1\\leq M \\leq 100</var></li>\n<li><var>1\\leq K\\leq NM</var></li>\n<li>入力は全て整数</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>\n<pre><var>N</var> <var>M</var> <var>K</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力</h3><p>条件を満たす壁の配置が存在しないならば <code>No</code> を出力し、存在するならばそのうちの <var>1</var> つを以下の形式で出力せよ。\n条件を満たす壁の配置が複数存在する場合は、そのどれを出力してもよい。</p>\n<p><strong>複雑な出力形式のため、下記の出力例も参考にしてください。</strong></p>\n<pre>Yes\n+++++ <var>\\dots</var> +++S+\n+o?o? <var>\\dots</var> ?o?o+\n+?+?+ <var>\\dots</var> +?+?+\n+o?o? <var>\\dots</var> ?o?o+\n+?+?+ <var>\\dots</var> +?+?+\n<var>\\vdots</var>\n+o?o? <var>\\dots</var> ?o?o+\n+?+?+ <var>\\dots</var> +?+?+\n+o?o? <var>\\dots</var> ?o?o+\n+++++ <var>\\dots</var> +++G+\n</pre>\n<p>ここで、<code>S</code>, <code>G</code>, <code>+</code>, <code>o</code> はそれぞれ入口、出口、壁、マスを表し、マスとマスの間にある <code>?</code> は壁を置くことができる場所である。\n横に隣接する <var>2</var> マスの間にある <code>?</code> は、壁を置くならば <code>|</code> で、壁を置かないならば <code>.</code> で置き換えよ。\n縦に隣接する <var>2</var> マスの間にある <code>?</code> は、壁を置くならば <code>-</code> で、壁を置かないならば <code>.</code> で置き換えよ。</p>\n<p>厳密には以下の通りである。</p>\n<ul>\n<li>出力は <var>2N+2</var> 行からなり、<var>1</var> 行目には文字列 <code>Yes</code> を、<var>2</var> 行目から <var>2N+2</var> 行目には以下で説明されるように長さ <var>2M+1</var> の文字列を出力する。<ul>\n<li><var>2</var> 行目には、<var>2M-1</var> 個の <code>+</code>, <code>S</code>, <code>+</code> をこの順に連結して出力する。</li>\n<li><var>1+2i</var> 行目 <var>(1\\leq i\\leq N)</var> には、<code>+</code>, <code>o</code>, <var>c_{i,1}</var>, <code>o</code>, <var>c_{i,2}</var>, <var>\\dots</var>, <var>c_{i,M-1}</var>, <code>o</code>, <code>+</code> をこの順に連結して出力する。\nここで、<var>c_{i,j}</var> はマス <var>(i,j),(i,j+1)</var> の間に壁を置くならば <code>|</code>、置かないならば <code>.</code> である。</li>\n<li><var>2+2i</var> 行目 <var>(1\\leq i\\leq N-1)</var> には、<code>+</code>, <var>r_{i,1}</var>, <code>+</code>, <var>r_{i,2}</var>, <code>+</code>, <var>\\dots</var>, <code>+</code>, <var>r_{i,M}</var>, <code>+</code> をこの順に連結して出力する。\nここで、<var>r_{i,j}</var> はマス <var>(i,j),(i+1,j)</var> の間に壁を置くならば <code>-</code>、置かないならば <code>.</code> である。</li>\n<li><var>2N+2</var> 行目には、<var>2M-1</var> 個の <code>+</code>, <code>G</code>, <code>+</code> をこの順に連結して出力する。</li>\n</ul>\n</li>\n</ul>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 1</h3><pre>3 3 7\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 1</h3><pre>Yes\n+++++S+\n+o.o.o+\n+.+-+-+\n+o.o.o+\n+-+-+.+\n+o.o|o+\n+++++G+\n</pre>\n<p>問題文中の図と同じ壁の配置です。</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 2</h3><pre>3 3 2\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 2</h3><pre>No\n</pre>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>入力例 3</h3><pre>4 1 4\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>出力例 3</h3><pre>Yes\n+S+\n+o+\n+.+\n+o+\n+.+\n+o+\n+.+\n+o+\n+G+\n</pre></section>\n</div>\n</span>","en":"<span class=\"lang-en\">\n<p>Score : <var>525</var> points</p>\n\n<div class=\"part\">\n<section>\n<h3>Problem Statement</h3><p>Snuke is planning to build a maze as a new attraction in AtCoder Land. The maze is represented as a grid with <var>N</var> rows and <var>M</var> columns, with the top edge of the top-right cell being the entrance and the bottom edge of the bottom-right cell being the exit. He will create the maze by appropriately placing walls between adjacent cells.</p>\n<p>He loves simple mazes, so he wants the path from the entrance to the exit to pass through exactly <var>K</var> cells without any branches. Determine if it is possible to create such a maze, and if possible, construct one.</p>\n<p>For example, in the following figure, <var>N=3</var> and <var>M=3</var>, and walls are placed at the solid lines (walls are always placed around the outer perimeter except for the entrance and exit). In this case, the path from the entrance to the exit passes through exactly <var>7</var> cells without any branches.</p>\n<p><img src=\"https://img.atcoder.jp/abc358/74c8a9b7121eee699525805e4974b285.png\" class=\"img-responsive center-block\" style=\"max-width: 20%\"></p>\n<p>Below is a formal statement.</p>\n<p>There is a grid with <var>N</var> rows and <var>M</var> columns. Let <var>(i, j)</var> denote the cell at the <var>i</var>-th row from the top and <var>j</var>-th column from the left. For each pair of side-adjacent cells, you can decide whether to place a wall between them. Determine whether it is possible to place walls to satisfy the following condition, and if it is possible, construct one such placement.</p>\n<blockquote>\n<p>Consider an undirected graph <var>G</var> with <var>NM</var> vertices. Each vertex of <var>G</var> is uniquely labeled by a pair of integers <var>(i,j)\\ (1\\leq i\\leq N, 1\\leq j\\leq M)</var>.\nTwo distinct vertices <var>(i_1,j_1)</var> and <var>(i_2,j_2)</var> are connected by an edge if and only if <var>|i_1-i_2|+|j_1-j_2|=1</var> and there is no wall between the corresponding cells <var>(i_1,j_1)</var> and <var>(i_2,j_2)</var> on the grid.</p>\n<p>Condition: there exists a simple path with <var>K</var> vertices that connects the two vertices <var>(1,M)</var> and <var>(N,M)</var>, and the connected component containing the vertices <var>(1,M)</var> and <var>(N,M)</var> consists only of this path.</p>\n</blockquote>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Constraints</h3><ul>\n<li><var>2\\leq N \\leq 100</var></li>\n<li><var>1\\leq M \\leq 100</var></li>\n<li><var>1\\leq K\\leq NM</var></li>\n<li>All input values are integers.</li>\n</ul>\n</section>\n</div>\n\n<hr>\n<div class=\"io-style\">\n<div class=\"part\">\n<section>\n<h3>Input</h3><p>The input is given from Standard Input in the following format:</p>\n<pre><var>N</var> <var>M</var> <var>K</var>\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Output</h3><p>If there is no placement of walls that satisfies the condition, print <code>No</code>. Otherwise, print one such placement in the following format. If multiple valid placements exist, any of them can be printed.</p>\n<p><strong>See also the sample outputs below to better understand the complicated output format.</strong></p>\n<pre>Yes\n+++++ <var>\\dots</var> +++S+\n+o?o? <var>\\dots</var> ?o?o+\n+?+?+ <var>\\dots</var> +?+?+\n+o?o? <var>\\dots</var> ?o?o+\n+?+?+ <var>\\dots</var> +?+?+\n<var>\\vdots</var>\n+o?o? <var>\\dots</var> ?o?o+\n+?+?+ <var>\\dots</var> +?+?+\n+o?o? <var>\\dots</var> ?o?o+\n+++++ <var>\\dots</var> +++G+\n</pre>\n<p>Here, <code>S</code>, <code>G</code>, <code>+</code>, and <code>o</code> represent the entrance, exit, a wall, and a cell, respectively, and <code>?</code> between cells represents a position where a wall can be placed. Replace <code>?</code> between two horizontally adjacent cells with <code>|</code> if a wall is placed, and <code>.</code> otherwise. Replace <code>?</code> between two vertically adjacent cells with <code>-</code> if a wall is placed, and <code>.</code> otherwise.</p>\n<p>Below is a formal instruction.</p>\n<ul>\n<li>The output should consist of <var>2N+2</var> lines. Line <var>1</var> should contain the string <code>Yes</code>, and lines <var>2</var> to <var>2N+2</var> should contain strings of length <var>2M+1</var> as described below.<ul>\n<li>Line <var>2</var> should be a concatenation of <code>+</code> repeated <var>2M-1</var> times, <code>S</code>, and <code>+</code>, in this order.</li>\n<li>Line <var>1+2i</var> <var>(1\\leq i\\leq N)</var> should be a concatenation of <code>+</code>, <code>o</code>, <var>c_{i,1}</var>, <code>o</code>, <var>c_{i,2}</var>, <var>\\dots</var>, <var>c_{i,M-1}</var>, <code>o</code>, <code>+</code>, in this order. Here, <var>c_{i,j}</var> is <code>|</code> if a wall is placed between cells <var>(i,j)</var> and <var>(i,j+1)</var>, and <code>.</code> otherwise.</li>\n<li>Line <var>2+2i</var> <var>(1\\leq i\\leq N-1)</var> should be a concatenation of <code>+</code>, <var>r_{i,1}</var>, <code>+</code>, <var>r_{i,2}</var>, <code>+</code>, <var>\\dots</var>, <code>+</code>, <var>r_{i,M}</var>, <code>+</code>, in this order. Here, <var>r_{i,j}</var> is <code>-</code> if a wall is placed between cells <var>(i,j)</var> and <var>(i+1,j)</var>, and <code>.</code> otherwise.</li>\n<li>Line <var>2N+2</var> should be a concatenation of <code>+</code> repeated <var>2M-1</var> times, <code>G</code>, and <code>+</code>, in this order.</li>\n</ul>\n</li>\n</ul>\n</section>\n</div>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 1</h3><pre>3 3 7\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 1</h3><pre>Yes\n+++++S+\n+o.o.o+\n+.+-+-+\n+o.o.o+\n+-+-+.+\n+o.o|o+\n+++++G+\n</pre>\n<p>This is the same placement of walls as in the figure in the problem statement.</p>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 2</h3><pre>3 3 2\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 2</h3><pre>No\n</pre>\n</section>\n</div>\n\n<hr>\n<div class=\"part\">\n<section>\n<h3>Sample Input 3</h3><pre>4 1 4\n</pre>\n</section>\n</div>\n\n<div class=\"part\">\n<section>\n<h3>Sample Output 3</h3><pre>Yes\n+S+\n+o+\n+.+\n+o+\n+.+\n+o+\n+.+\n+o+\n+G+\n</pre></section>\n</div>\n</span>"},"endpoint":"https://atcoder.jp/contests/abc358/tasks/abc358_f"}